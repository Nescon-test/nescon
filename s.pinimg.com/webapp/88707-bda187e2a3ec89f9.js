"use strict";(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[88707],{739697:function(e){var t,n,r,i,o={fragment:{argumentDefinitions:t=[{defaultValue:null,kind:"LocalArgument",name:"contactRequest"}],kind:"Fragment",metadata:null,name:"BareInviteSubSectionMutation",selections:[{alias:null,args:n=[{fields:[{kind:"Variable",name:"contactRequest",variableName:"contactRequest"}],kind:"ObjectValue",name:"input"}],concreteType:null,kind:"LinkedField",name:"v3DeclineContactRequestsMutation",plural:!1,selections:[{kind:"InlineFragment",selections:[r={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},i={alias:null,args:null,concreteType:"ErrorInfo",kind:"LinkedField",name:"error",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"message",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"paramPath",storageKey:null}],storageKey:null}],type:"InvalidParameters",abstractKey:null}],storageKey:null}],type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:t,kind:"Operation",name:"BareInviteSubSectionMutation",selections:[{alias:null,args:n,concreteType:null,kind:"LinkedField",name:"v3DeclineContactRequestsMutation",plural:!1,selections:[r,{kind:"InlineFragment",selections:[i],type:"InvalidParameters",abstractKey:null}],storageKey:null}]},params:{id:"dc8d4280aebb4feb198e76dd77260c6dee9ad757f476ab066dd5b0c1b95cbb9e",metadata:{},name:"BareInviteSubSectionMutation",operationKind:"mutation",text:null}};o.hash="e7bd9732eb7c5f36125a3fa87e7c9d81",e.exports=o},537301:function(e){var t,n,r,i,o={fragment:{argumentDefinitions:t=[{defaultValue:null,kind:"LocalArgument",name:"contactRequestIds"}],kind:"Fragment",metadata:null,name:"BareInviteSubSection_Batch_Mutation",selections:[{alias:null,args:n=[{fields:[{kind:"Variable",name:"contactRequestIds",variableName:"contactRequestIds"}],kind:"ObjectValue",name:"input"}],concreteType:null,kind:"LinkedField",name:"v3BatchDeclineContactRequestsMutation",plural:!1,selections:[{kind:"InlineFragment",selections:[r={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},i={alias:null,args:null,concreteType:"ErrorInfo",kind:"LinkedField",name:"error",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"message",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"paramPath",storageKey:null}],storageKey:null}],type:"InvalidParameters",abstractKey:null}],storageKey:null}],type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:t,kind:"Operation",name:"BareInviteSubSection_Batch_Mutation",selections:[{alias:null,args:n,concreteType:null,kind:"LinkedField",name:"v3BatchDeclineContactRequestsMutation",plural:!1,selections:[r,{kind:"InlineFragment",selections:[i],type:"InvalidParameters",abstractKey:null}],storageKey:null}]},params:{id:"7b6bb656dd1d63968d5d7f295ccdb8845518b0fbd23e2763c66fc77711aa4f64",metadata:{},name:"BareInviteSubSection_Batch_Mutation",operationKind:"mutation",text:null}};o.hash="3ab1aade54dce62ee3b57b3e3caa5e3d",e.exports=o},588707:function(e,t,n){n.d(t,{Z:function(){return Y}});var r=n(76911),i=n(506979),o=n(6637),a=n(851698),l=n.n(a),s=n(499128),c=n(784590),u=n(781165),d=n(254176),_=n(313951),v=n(773285),h=n(698330),b=n(116303),f=n(250059),m=n(377233),p=n(298361),g=n(898781),S=n(349700),x=n(908390),y=n(515198);function I(e){var t,n,r,o,a,l=e.senderName,s=e.boardName,c=e.createdAtDate,u=e.avatarImg,d=e.invite,_=e.handleBlock,v=e.handleUnblock,h=e.handlePreview,I=e.handleDecline,j=e.handleReport,P=e.declineInvite,w=e.blockedInvite,A=e.inInvitesUIUpdateExp,z=(0,g.ZP)(),k=(0,p.Z)(),B=(0,i.useSelector)((function(e){return e.session.locale})),O=new Date(c),C=(0,m.Z)(O,B);if(!d)return null;var R=d.conversation&&(null===(t=d.conversation.users)||void 0===t?void 0:t.length)+(null===(n=d.conversation.emails)||void 0===n?void 0:n.length)>2,q=(null===(r=d.sender)||void 0===r?void 0:r.username)||d.inviter_data.username,D=(0,f.Z)((null===(o=d.board_data)||void 0===o?void 0:o.url)||(null===(a=d.board)||void 0===a?void 0:a.url)),E=s?(0,y.jsx)(x.iP,{role:"link",href:D,tapStyle:"none",rounding:2,children:(0,y.jsx)(x.zd,{width:48,height:48,rounding:2,children:(0,y.jsx)(x.Ee,{color:"rgb(239, 239, 239)",naturalWidth:48,naturalHeight:48,src:u||"",fit:"cover",alt:z._('board cover image', 'InviteSubSection.InviteSubSectionItem.boardCoverImage', 'cover image')})})}):(0,y.jsx)(x.HE,{accessibilityLabel:z._('User`s avatar', 'InviteSubSection.InviteSubSectionItem.usersAvatar', 'avatar image'),role:"link",href:"/".concat(q),collaborators:[{name:l,src:u}],size:"md"}),T=(0,y.jsx)(x.iP,{role:"link",href:"/".concat(q),children:(0,y.jsx)(b.Z,{accessibilityLabel:z._('User`s avatar', 'InviteSubSection.InviteSubSectionItem.usersAvatar', 'avatar image'),name:l,src:u,size:"md"})}),U=(0,y.jsx)(x.xv,{size:"300",weight:"bold",inline:!0,children:l}),Z=(0,y.jsx)(x.xv,{size:"300",weight:"bold",inline:!0,children:(0,y.jsx)(x.rU,{href:D,tapStyle:"none",display:"inlineBlock",underline:"hover",children:s})},s),L=(0,y.jsxs)(x.xv,{color:"subtle",inline:!0,children:[" ","Â·"," ",(0,S.nk)(z._('{{age}}', 'InviteSubSection.InviteSubSectionItem.senderName', 'text for sender name'),{age:k(c,!0)})]}),N=s?(0,S.nk)(z._(' invited you to the board {{boardName}}', 'InviteSubSection.InviteSubSectionItem.inviteDescription', 'text for board description'),{boardName:Z}):z._(' would like to send you a message', 'InviteSubSection.InviteSubSectionItem.inviteDescription', 'text for message description'),F=w?(0,y.jsx)(x.zx,{text:z._('Unblock', 'InviteSubSection.InviteSubSectionItem.unblockButton', 'Button when pressed unblock a request'),onClick:v,accessibilityLabel:z._('Unblock', 'InviteSubSection.InviteSubSectionItem.unblockButton', 'Button when pressed unblock a request'),size:"lg"}):(0,y.jsx)(x.zx,{text:z._('Block', 'InviteSubSection.InviteSubSectionItem.blockButton', 'Button when pressed blocks a request'),onClick:_,accessibilityLabel:z._('Block', 'InviteSubSection.InviteSubSectionItem.blockButton', 'Button when pressed blocks a request'),size:"lg"}),K=(0,y.jsx)(x.zx,{text:z._('Report', 'InviteSubSection.InviteSubSectionItem.reportButton', 'Button when pressed reports request'),onClick:j,accessibilityLabel:z._('Report', 'InviteSubSection.InviteSubSectionItem.reportButton', 'Button when pressed reports request'),size:"lg"}),M=(0,y.jsx)(x.zx,{text:z._('Decline', 'InviteSubSection.InviteSubSectionItem.declineButton', 'Button when pressed declines request'),onClick:I,accessibilityLabel:z._('Decline', 'InviteSubSection.InviteSubSectionItem.declineButton', 'Button when pressed declines request'),size:"lg"}),H=(0,y.jsx)(x.zx,{text:z._('Remove', 'InviteSubSection.InviteSubSectionItem.removeButton', 'Button when pressed declines request'),onClick:I,accessibilityLabel:z._('Remove', 'InviteSubSection.InviteSubSectionItem.removeButton', 'Button when pressed declines request'),size:"lg",color:"transparent"}),V=(0,y.jsx)(x.zx,{text:z._('Preview', 'InviteSubSection.InviteSubSectionItem.previewButton', 'Button when pressed preview contact request'),onClick:h,color:A?void 0:"red",accessibilityLabel:z._('Preview', 'InviteSubSection.InviteSubSectionItem.previewButton', 'Button when pressed preview contact request'),size:"lg"});return A?(0,y.jsxs)(x.xu,{alignItems:"center",width:"100%",direction:"column",display:"flex",marginTop:4,marginBottom:6,children:[(0,y.jsxs)(x.kC,{alignItems:"center",justifyContent:"start",width:"100%",children:[(0,y.jsx)(x.xu,{marginEnd:4,children:T}),(0,y.jsxs)(x.kC,{direction:"column",flex:"grow",children:[(0,y.jsxs)(x.xu,{display:"flex",justifyContent:"between",marginBottom:1,children:[(0,y.jsx)(x.kC,{flex:"grow",children:(0,y.jsx)(x.rU,{href:"/".concat(q),tapStyle:"none",display:"inlineBlock",underline:"hover",children:(0,y.jsx)(x.xv,{lineClamp:1,children:l})})}),(0,y.jsx)(x.xu,{display:"flex",flex:"none",alignItems:"center",marginStart:4,children:(0,y.jsx)(x.xv,{align:"end",size:"100",color:"subtle",children:C})})]}),(0,y.jsx)(x.iP,{onTap:h,children:(0,y.jsx)(x.xu,{children:(0,y.jsx)(x.xv,{inline:!0,color:"subtle",lineClamp:1,children:R?z._('Added you to a group message', 'InviteSubSection.InvitePreviewSubSectionItem.groupMessageDescription', 'text for group message request description'):z._('Sent you a message', 'InviteSubSection.InvitePreviewSubSectionItem.messageDescription', 'text for message request description')})})})]})]}),(0,y.jsxs)(x.xu,{display:"flex",marginTop:2,alignItems:"center",justifyContent:"start",width:"100%",children:[(0,y.jsx)(x.xu,{width:64}),P?(0,y.jsxs)(x.kC,{gap:2,children:[F,K]}):(0,y.jsxs)(x.kC,{children:[V,H]})]})]}):(0,y.jsxs)(x.xu,{alignItems:"center",width:"100%",direction:"column",display:"flex",marginTop:4,children:[(0,y.jsxs)(x.kC,{alignItems:"stretch",justifyContent:"start",direction:"row",children:[(0,y.jsx)(x.xu,{marginEnd:4,children:E}),(0,y.jsxs)(x.xv,{inline:!0,children:[(0,y.jsx)(x.rU,{href:"/".concat(q),tapStyle:"none",display:"inlineBlock",underline:"hover",children:U}),N," ",L]})]}),(0,y.jsx)(x.kC,{alignItems:"center",justifyContent:"start",children:(0,y.jsx)(x.xu,{marginEnd:2,children:P?(0,y.jsxs)(x.kC,{alignItems:"center",gap:2,justifyContent:"start",children:[F,K]}):(0,y.jsxs)(x.kC,{alignItems:"center",gap:2,justifyContent:"start",children:[M,V]})})})]})}var j=n(643010);function P(e){var t,n,r,o,a,l,s,c,u,d=e.senderName,_=e.boardName,v=e.createdAtDate,h=e.avatarImg,I=e.invite,P=e.handleAccept,w=e.handleDecline,A=e.inInvitesUIUpdateExp,z=e.isInboxRequestsSectionView,k=(0,g.ZP)(),B=(0,p.Z)(),O=(0,i.useSelector)((function(e){return e.session.locale})),C=new Date(v),R=(0,m.Z)(C,O);if(!I)return null;var q=(null===(t=I.sender)||void 0===t?void 0:t.username)||I.inviter_data.username,D=(0,f.Z)((null===(n=I.board_data)||void 0===n?void 0:n.url)||(null===(r=I.board)||void 0===r?void 0:r.url)),E=(0,f.Z)((null===(o=I.inviter_data)||void 0===o?void 0:o.image_large_url)||(null===(a=I.sender)||void 0===a?void 0:a.image_large_url)),T=(null===(l=I.inviter_data)||void 0===l?void 0:l.full_name)||(null===(s=I.sender)||void 0===s?void 0:s.full_name),U=(0,f.Z)((null===(c=I.board_data)||void 0===c?void 0:c.image_cover_url)||(null===(u=I.board)||void 0===u?void 0:u.image_cover_url)),Z=(0,y.jsx)(x.iP,{role:"link",href:D,rounding:2,children:(0,y.jsxs)(x.zd,{width:48,height:48,rounding:2,children:[U?(0,y.jsx)(x.Ee,{naturalWidth:48,naturalHeight:48,src:U,fit:"cover",alt:k._('board cover image', 'InviteSubSection.InviteSubSectionItem.boardCoverImage', 'cover image')}):(0,y.jsxs)(x.xu,{display:"flex",height:48,width:48,dangerouslySetInlineStyle:{__style:{backgroundColor:(0,j.Yc)()?"#4A4A4A":"#E9E9E9"}},children:[(0,y.jsx)(x.xu,{dangerouslySetInlineStyle:{__style:{borderRight:(0,j.Yc)()?"1px solid black":"1px solid white"}},width:"50%"}),(0,y.jsxs)(x.kC,{direction:"column",width:"50%",children:[(0,y.jsx)(x.xu,{dangerouslySetInlineStyle:{__style:{borderBottom:(0,j.Yc)()?"1px solid black":"1px solid white"}},height:"50%"}),(0,y.jsx)(x.xu,{height:"50%"})]})]}),(0,y.jsx)(x.xu,{position:"absolute",width:20,height:20,right:!0,bottom:!0,children:(0,y.jsx)(b.Z,{accessibilityLabel:k._('board owner avatar', 'InviteSubSection.InviteSubSectionItem.boardInvites.userAvatar', 'avatar image of board owner that displays on board invites'),name:T,src:E,size:"fit",outline:!0})})]})}),L=_?(0,y.jsx)(x.iP,{role:"link",href:D,tapStyle:"none",rounding:2,children:(0,y.jsx)(x.zd,{width:48,height:48,rounding:2,children:(0,y.jsx)(x.Ee,{color:"rgb(239, 239, 239)",naturalWidth:48,naturalHeight:48,src:h||"",fit:"cover",alt:k._('board cover image', 'InviteSubSection.InviteSubSectionItem.boardCoverImage', 'cover image')})})}):(0,y.jsx)(x.HE,{accessibilityLabel:k._('user`s avatar', 'InviteSubSection.InviteSubSectionItem.usersAvatar', 'avatar image'),role:"link",href:"/".concat(q),collaborators:[{name:d,src:h}],size:"md"}),N=(0,y.jsx)(x.xv,{size:"300",weight:"bold",inline:!0,children:d}),F=(0,y.jsx)(x.xv,{size:"300",weight:"bold",inline:!0,children:(0,y.jsx)(x.rU,{href:D,tapStyle:"none",display:"inlineBlock",underline:"hover",children:_})},_),K=(0,y.jsxs)(x.xv,{color:"subtle",inline:!0,children:[" ","Â·"," ",(0,S.nk)(k._('{{age}}', 'InviteSubSection.InviteSubSectionItem.senderName', 'text for sender name'),{age:B(v,!0)})]}),M=_?(0,S.nk)(k._(' invited you to the board {{boardName}}', 'InviteSubSection.InviteSubSectionItem.inviteDescription', 'text for board description'),{boardName:F}):k._(' would like to send you a message', 'InviteSubSection.InviteSubSectionItem.inviteDescription', 'text for message description');return A?(0,y.jsxs)(x.xu,{alignItems:"center",width:"100%",direction:"column",display:"flex",marginTop:4,marginBottom:6,children:[(0,y.jsxs)(x.kC,{alignItems:"center",justifyContent:"start",width:"100%",children:[(0,y.jsx)(x.xu,{marginEnd:4,children:Z}),(0,y.jsxs)(x.kC,{direction:"column",flex:"grow",children:[(0,y.jsxs)(x.xu,{display:"flex",alignItems:"stretch",flex:"grow",marginBottom:1,justifyContent:"between",width:"100%",children:[(0,y.jsx)(x.kC,{justifyContent:"start",flex:"grow",children:z?(0,y.jsx)(x.iP,{role:"link",href:D,children:(0,y.jsx)(x.xv,{children:k._('Board Invite', 'InviteSubSection.InviteSubSectionItem.boardInviteText', 'text to indicate a board invite')})}):(0,y.jsx)(x.rU,{href:"/".concat(q),display:"inlineBlock",underline:"hover",children:(0,y.jsx)(x.xv,{lineClamp:1,children:T})})}),(0,y.jsx)(x.xu,{display:"flex",flex:"none",marginStart:4,alignItems:"center",children:(0,y.jsx)(x.xv,{align:"end",size:"100",color:"subtle",children:R})})]}),(0,y.jsx)(x.iP,{role:"link",href:D,children:(0,y.jsx)(x.xv,{color:"subtle",lineClamp:1,children:_})})]})]}),(0,y.jsxs)(x.xu,{display:"flex",marginTop:2,alignItems:"center",justifyContent:"start",width:"100%",children:[(0,y.jsx)(x.xu,{width:64}),(0,y.jsx)(x.zx,{text:k._('Preview', 'InviteSubSection.InviteSubSectionItem.previewButton', 'Button to preview the board in the request'),role:"link",href:D,accessibilityLabel:k._('Preview', 'InviteSubSection.InviteSubSectionItem.previewButton', 'Button to preview the board in the request'),size:"lg"}),(0,y.jsx)(x.zx,{text:k._('Remove', 'InviteSubSection.InviteSubSectionItem.removeButton', 'Button when pressed declines board request'),onClick:w,accessibilityLabel:k._('Remove', 'InviteSubSection.InviteSubSectionItem.removeButton', 'Button when pressed declines board request'),size:"lg",color:"transparent"})]})]}):(0,y.jsxs)(x.xu,{alignItems:"center",width:"100%",direction:"column",display:"flex",marginTop:4,children:[(0,y.jsxs)(x.kC,{alignItems:"stretch",justifyContent:"start",direction:"row",children:[(0,y.jsx)(x.xu,{marginEnd:4,children:L}),(0,y.jsxs)(x.xv,{inline:!0,children:[(0,y.jsx)(x.rU,{href:"/".concat(q),tapStyle:"none",display:"inlineBlock",underline:"hover",children:N}),M," ",K]})]}),(0,y.jsx)(x.kC,{alignItems:"center",justifyContent:"start",children:(0,y.jsx)(x.xu,{marginEnd:2,children:(0,y.jsxs)(x.kC,{alignItems:"center",gap:{row:2,column:0},justifyContent:"start",children:[(0,y.jsx)(x.zx,{text:k._('Decline', 'InviteSubSection.InviteSubSectionItem.declineButton', 'Button when pressed declines request'),onClick:w,accessibilityLabel:k._('Decline', 'InviteSubSection.InviteSubSectionItem.declineButton', 'Button when pressed declines request'),size:"lg"}),(0,y.jsx)(x.zx,{text:k._('Accept', 'InviteSubSection.InviteSubSectionItem.acceptButton', 'Button when pressed accepts request'),onClick:P,color:"red",accessibilityLabel:k._('Accept', 'InviteSubSection.InviteSubSectionItem.acceptButton', 'Button when pressed accepts request'),size:"lg"})]})})})]})}var w=n(201602);function A(e){return(A="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function z(e,t,n,r,i){var o=e.type,a="collaboratorinvite"===o;return"contactrequest"===o?function(e,t,n,r,i){if(null!=e&&"object"===A(e)){var o,a,l,s,c,u,d=null!==e.board,_=null!==(o=null===(a=e.sender)||void 0===a?void 0:a.full_name)&&void 0!==o?o:"",v=e.created_at,h=d?null===(l=e.board)||void 0===l?void 0:l.image_cover_url:null===(s=e.sender)||void 0===s?void 0:s.image_large_url;return d&&(c=null===(u=e.board)||void 0===u?void 0:u.name),(0,y.jsx)(x.xu,{"data-test-id":"invite-item",children:(0,y.jsx)(P,{senderName:_,createdAtDate:v,avatarImg:null!=h?h:"",boardName:c,invite:e,handleAccept:t,handleDecline:n,isInboxRequestsSectionView:r,inInvitesUIUpdateExp:i})})}return null}(e,t,n,r,i):a?function(e,t,n,r,i){if(null!=e&&"object"===A(e)){var o,a,l=null!==(o=null===(a=e.inviter_data)||void 0===a?void 0:a.full_name)&&void 0!==o?o:"",s=e.board_data.name,c=e.created_at,u=e.board_data.image_cover_url;return(0,y.jsx)(x.xu,{"data-test-id":"invite-item",children:(0,y.jsx)(P,{senderName:l,createdAtDate:c,avatarImg:u,boardName:s,invite:e,handleAccept:t,handleDecline:n,isInboxRequestsSectionView:r,inInvitesUIUpdateExp:i})})}return null}(e,t,n,r,i):null}function k(e,t,n,r,o,a,l,s){var c=(0,i.useDispatch)();return"contactrequest"===e.type?function(e,t,n,r,i,o,a){if(null!=e&&"object"===A(e)){var l,s,c,u,d,_,v=null!==e.board,h=null!==(l=null===(s=e.sender)||void 0===s?void 0:s.full_name)&&void 0!==l?l:"",b=e.created_at,f=v?null===(c=e.board)||void 0===c?void 0:c.image_cover_url:null===(u=e.sender)||void 0===u?void 0:u.image_large_url,m=e.hasDeclined,p=e.hasBlocked;return v&&(d=null===(_=e.board)||void 0===_?void 0:_.name),(0,y.jsx)(x.xu,{"data-test-id":"invite-item",children:(0,y.jsx)(I,{senderName:h,createdAtDate:b,avatarImg:null!=f?f:"",boardName:d,invite:e,handlePreview:t,handleBlock:r,handleUnblock:i,handleDecline:n,handleReport:o,declineInvite:m,blockedInvite:p,inInvitesUIUpdateExp:a})})}return null}(e,n,(function(){c((0,w.O)(e.id,!0,!1)),l&&l()}),r,o,a,s):null}var B,O,C=n(793450),R=n(65721),q=n(704217),D=n(609500),E=n(343341);function T(e){return function(e){if(Array.isArray(e))return H(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||M(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function U(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Z(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?U(Object(n),!0).forEach((function(t){L(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):U(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function L(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function N(e,t,n,r,i,o,a){try{var l=e[o](a),s=l.value}catch(c){return void n(c)}l.done?t(s):Promise.resolve(s).then(r,i)}function F(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){N(o,r,i,a,l,"next",e)}function l(e){N(o,r,i,a,l,"throw",e)}a(void 0)}))}}function K(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,i,o=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(s){l=!0,i=s}finally{try{a||null==n.return||n.return()}finally{if(l)throw i}}return o}(e,t)||M(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function M(e,t){if(e){if("string"==typeof e)return H(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?H(e,t):void 0}}function H(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var V=function(e,t,n,r){t((function(e){var t=e.hideToast;return(0,y.jsx)(s.ZP,{duration:5e3,text:r._('Message declined!', 'InviteSubSection.InvitePreviewSubSection.declineToast', 'Toast alerting user that they declined a message request'),primaryAction:{accessibilityLabel:r._('Undo blocking', 'InviteSubSection.InvitePreviewSubSection.declineToast.a11yUndo', 'Accessibility label for toast to undo comment highlight or comment highlight removal'),label:r._('Undo', 'InviteSubSection.InvitePreviewSubSection.declineToast.undo', 'Toast Undo button do undo a block'),size:"lg",onClick:n},onHide:t})}))},W=function(e,t,n){var r,i,o=(null===(r=e.board_data)||void 0===r?void 0:r.url)||(null===(i=e.board)||void 0===i?void 0:i.url),a=function(){return function(e,t){var n,r,i=(null===(n=e.board_data)||void 0===n?void 0:n.url)||(null===(r=e.board)||void 0===r?void 0:r.url);t.push(i)}(e,o)};t((function(e){var t=e.hideToast;return(0,y.jsx)(s.ZP,{duration:4e3,href:o,text:(0,y.jsx)(x.xv,{children:n._('You\'re in! Save Pins, plan with collaborators, and more!', 'InviteSubSection.InviteSubSectionItem.joinedInvite', 'Toast shown after joining a board.')}),onHide:t,_dangerouslySetPrimaryAction:(0,y.jsx)(x.hU,{icon:"directional-arrow-right",bgColor:"white",iconColor:"darkGray",onClick:a,accessibilityLabel:n._('Arrow button to navigate to board', 'InviteSubSection.InviteSubSectionItem.arrowButton', 'toast with Button for user to navigate to board'),size:"md"})})}))};function Y(e){var t,a,b=e.numberOfRequestToShow,f=e.isInboxRequestsSectionView,m=e.inInvitesUIUpdateExp,p=(0,g.ZP)(),S=(0,i.useDispatch)(),I=(0,D.useHistory)(),j=(0,E.F9)(),P=j.showToast,A=j.showOneToast,U=(0,C.Z)(),L=(0,i.useSelector)((function(e){return e.contactRequests})),N=(0,i.useSelector)((function(e){return e.inbox})),H=(0,h.mN)(),Y=(0,v.F)().checkExperiment,J=(t=void 0!==O?O:O=n(537301),a=K((0,q.useMutation)(t),1)[0],function(){var e=F(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={contactRequestIds:t},e.next=3,new Promise((function(e,t){a({variables:Z({},n),onCompleted:function(n,r){r&&t(r[0]),e(n)},onError:function(e){return t(e)}})}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),Q=function(){var e=void 0!==B?B:B=n(739697),t=K((0,q.useMutation)(e),1)[0];return function(){var e=F(regeneratorRuntime.mark((function e(n){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r={contactRequest:n},e.next=3,new Promise((function(e,n){t({variables:Z({},r),onCompleted:function(t,r){r&&n(r[0]),e(t)},onError:function(e){return n(e)}})}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}(),G=(0,_.aX)(),X=(0,c.Z)({name:"ContactRequestsResource",options:{current_user:!0}});(0,c.Z)({name:"BoardInvitesResource",options:{current_user:!0,field_set_key:"news"}});var $=[].concat(T(U||[]),T(Object.values(L||{})));(0,r.useEffect)((function(){var e=N&&N.showToastForContactRequest;if(e){V(0,A,(function(){S((0,w.O)(e,!1,!1))}),p),S((0,R.C)(null))}return function(){var e=[];if(L){for(var t=0,n=Object.entries(L);t<n.length;t++){var r=K(n[t],2),i=r[0],a=r[1];a&&a.hasDeclined&&e.push(i)}if(e.length>0)if(Y("graphql_migration_inbox_growth_web").anyEnabled)J(e).then((function(){S((0,w.A)(e))})).catch((function(){S((0,w.A)(e))}));else o.Z.create("ContactRequestBatchIgnoreResource",{contact_request_ids:e}).callDelete().then((function(){S((0,w.A)(e))})).catch((function(){S((0,w.A)(e))}))}}}),[]);var ee,te=function(){X.refresh()};function ne(e,t){var n=function(){var t=F(regeneratorRuntime.mark((function t(){var n,r,i;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=o.Z.create("ContactRequestAcceptResource",{contact_request:e}),r=null!=e.board,t.prev=2,t.next=5,n.callUpdate();case 5:if(!t.sent){t.next=13;break}if(te&&te(),r){t.next=13;break}return t.next=11,G({user_ids:[e.sender.id,e.recipient.id]});case 11:(i=t.sent)&&I.push("/conversation/".concat(i.id));case 13:t.next=18;break;case 15:throw t.prev=15,t.t0=t.catch(2),new Error(t.t0.message);case 18:case"end":return t.stop()}}),t,null,[[2,15]])})));return function(){return t.apply(this,arguments)}}(),r=function(){var t,r="collaboratorinvite"===e.type,i=!r&&null!=e.board,o=H(null!==(t=e.invited_user)&&void 0!==t?t:"");r?o&&(S((0,u.SD)(e.board_data.id,o)),W(e,P,p)):(n(),i&&W(e,P,p))},i="contactrequest"===e.type&&e.conversation&&!e.board?k(e,0,(function(){var t=e&&e.conversation&&e.conversation.id;t?I.push("/conversation/".concat(t)):(P((function(e){var t=e.hideToast;return(0,y.jsx)(s.ZP,{duration:3e3,text:p._('Conversation not found', 'InviteSubSection.InviteSubSectionItem.conversationNotFoundToast', 'Toast alerting user that Conversation is not found'),onHide:t})})),I.push("/inbox"))}),(function(){S((0,R.z)(e.id,"block"))}),(function(){S((0,R.z)(e.id,"unblock"))}),(function(){S((0,R.z)(e.id,"report")),I.push("/inbox")}),(function(){V(e.id,A,(function(){S((0,w.O)(e.id,!1,!1))}),p)}),m):z(e,r,(function(){var t,n="collaboratorinvite"===e.type,r=!n&&null!=e.board;n?S((0,d.xR)(e.board_data.id,e.invited_user)):(t=o.Z.create("ContactRequestIgnoreResource",{contact_request:e}),Y("graphql_migration_inbox_growth_web").anyEnabled?Q(e.id).then((function(e){te&&te()})):t.callDelete().then((function(e){te&&te()}))),function(e,t,n,r){var i=e||t?r._('Board invite declined!', 'InviteSubSection.InviteSubSectionItem.declineToast', 'Toast alerting user that they declined a board invite'):r._('Message request declined!', 'InviteSubSection.InviteSubSectionItem.declineToast', 'Toast alerting user that they declined a message request');n((function(e){var t=e.hideToast;return(0,y.jsx)(s.ZP,{duration:3e3,onHide:t,text:i})}))}(n,r,A,p)}),f,m);return(0,y.jsx)(x.xu,{children:i},t)}ee=$;var re,ie=($=l()(ee,(function(e){return new Date(e.created_at)})).reverse()).length,oe=[],ae=[],le=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=M(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,l=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){l=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(l)throw o}}}}($);try{for(le.s();!(re=le.n()).done;){var se=re.value;"contactrequest"===se.type&&se.conversation&&!se.board?oe.push(se):ae.push(se)}}catch(ce){le.e(ce)}finally{le.f()}return m&&!f&&ie>0?(0,y.jsxs)(x.xu,{margin:4,children:[oe.length>0&&(0,y.jsxs)(x.xu,{marginBottom:8,children:[(0,y.jsx)(x.xv,{size:"300",inline:!0,children:p._('Message requests', 'mWeb.Messaging.ContactRequests.MessagingRequests', 'Section header for message requests on all requests page')}),oe.map(ne)]}),ae.length>0&&(0,y.jsxs)(x.xu,{children:[(0,y.jsx)(x.xv,{size:"300",inline:!0,children:p._('Board invites', 'mWeb.Messaging.ContactRequests.BoardInvites', 'Section header for board invites on all requests page')}),ae.map(ne)]})]}):ie>0?(0,y.jsx)(x.xu,{margin:4,children:$.slice(0,b||ie).map(ne)}):null}},377233:function(e,t,n){n.d(t,{Z:function(){return a}});var r=n(853579),i=n(296408),o=n(202139);function a(e,t){return Date.now()-Date.parse(e.toString())>o.F4?(0,r.Z)(e,t,{month:"short",day:"numeric"}):(0,i.Z)(e,t,{hour:"numeric",minute:"numeric"})}},793450:function(e,t,n){n.d(t,{Z:function(){return s}});var r=n(506979),i=n(698330),o=n(479739);function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function s(){var e=(0,i.mN)();return(0,r.useSelector)((function(t){var n=(0,o.NZ)(t),r=Object.values(n||{});return r?r.map((function(n){var r=(0,o.gI)(t)[n],i=t.boards[r.board];return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){l(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({inviter_data:e(r.invited_by_user),board_data:i},r)})):null}))}},781165:function(e,t,n){n.d(t,{A8:function(){return m},Cf:function(){return h},GJ:function(){return y},Jn:function(){return _},OA:function(){return c},SD:function(){return p},pS:function(){return u},q1:function(){return d},sJ:function(){return x},xx:function(){return f}});var r=n(6637);function i(e,t,n,r,i,o,a){try{var l=e[o](a),s=l.value}catch(c){return void n(c)}l.done?t(s):Promise.resolve(s).then(r,i)}function o(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var a=e.apply(t,n);function l(e){i(a,r,o,l,s,"next",e)}function s(e){i(a,r,o,l,s,"throw",e)}l(void 0)}))}}function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){s(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function c(e,t,n){return r.Z.create("BoardEmailInviteResource",l({board_id:e,emails:t},n?{orbac_subject_id:n}:Object.freeze({}))).callCreate()}function u(e,t,n){return r.Z.create("BoardInviteResource",l({board_id:e,invited_user_ids:t},n?{orbac_subject_id:n}:Object.freeze({}))).callCreate()}function d(e,t){return function(n){return r.Z.create("BoardInviteResource",{board_id:e,invited_user_id:t}).callUpdate().catch((function(){}))}}function _(e,t,n,i){return function(){var t=o(regeneratorRuntime.mark((function t(o){var a,s,c;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a=e.invited_user,s=e.status,c=e.board.id,a){t.next=3;break}return t.abrupt("return");case 3:return t.next=5,r.Z.create("accepted"===s?"BoardCollaboratorResource":"BoardInviteResource",l({ban:n,board_id:c,field_set_key:"boardEdit",invited_user_id:a.id},i?{orbac_subject_id:i}:{})).callDelete({showError:!1});case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}function v(e,t){return{type:"BOARD_OWNERSHIP_TRANSFER_REQUEST",payload:{boardId:e,collaboratorId:t}}}function h(e,t){return function(){var n=o(regeneratorRuntime.mark((function n(i){return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,r.Z.create("ApiResource",{url:"/v3/boards/".concat(e,"/collaborators/requests/ownership/"),data:{collaborator:t}}).callCreate();case 2:i(v(e,t));case 3:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()}function b(e){return{type:"BOARD_OWNERSHIP_TRANSFER_REQUEST_CANCEL",payload:{boardId:e}}}function f(e,t){return function(){var n=o(regeneratorRuntime.mark((function n(i){return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,r.Z.create("ApiResource",{url:"/v3/boards/".concat(e,"/collaborators/requests/ownership/"),data:{collaborator:t}}).callDelete();case 2:i(b(e));case 3:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()}var m=function(e,t){return{type:"BOARD_INVITE_ACCEPTED_BY_VIEWER",payload:{boardId:e,collaboratingUser:t}}},p=function(e,t){return function(n){n(m(e,t)),r.Z.create("BoardInviteResource",{board_id:e,invited_user_id:t.id}).callUpdate()}};function g(e,t){return{type:"BOARD_REQUEST_TO_JOIN",payload:{boardId:e,value:t}}}function S(e,t){return r.Z.create("BoardCollaboratorRequestResource",{board_id:e,requesting_user_id:t})}function x(e,t){return function(n){S(e,t).callCreate().catch((function(){n(g(e,!1))})),n(g(e,!0))}}function y(e,t){return function(n){S(e,t).callDelete({showError:!1}).catch((function(){n(g(e,!0))})),n(g(e,!1))}}}}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/88707-bda187e2a3ec89f9.js.map