(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[33361,51798,90907,39395,75970],{166379:function(e){"use strict";var t,n,r,o,i={fragment:{argumentDefinitions:t=[{defaultValue:null,kind:"LocalArgument",name:"inviteType"},{defaultValue:null,kind:"LocalArgument",name:"objectId"}],kind:"Fragment",metadata:null,name:"ShareInviteCreateExternalInviteGraphQLQuery",selections:[{alias:null,args:n=[{kind:"Variable",name:"inviteType",variableName:"inviteType"},{kind:"Variable",name:"objectId",variableName:"objectId"}],concreteType:null,kind:"LinkedField",name:"v3InviteUserExternalQuery",plural:!1,selections:[{kind:"InlineFragment",selections:[r={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},o={alias:null,args:null,concreteType:"InviteUserExternal",kind:"LinkedField",name:"data",plural:!1,selections:[{alias:"invite_code",args:null,kind:"ScalarField",name:"inviteCode",storageKey:null},{alias:"invite_url",args:null,kind:"ScalarField",name:"inviteUrl",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null}],storageKey:null}],type:"V3InviteUserExternal",abstractKey:null}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:t,kind:"Operation",name:"ShareInviteCreateExternalInviteGraphQLQuery",selections:[{alias:null,args:n,concreteType:null,kind:"LinkedField",name:"v3InviteUserExternalQuery",plural:!1,selections:[r,{kind:"InlineFragment",selections:[o],type:"V3InviteUserExternal",abstractKey:null}],storageKey:null}]},params:{id:"ab55ea9f382837bc92cb5dab03686e16868a27912a9e4237e2ddbe7a15540d21",metadata:{},name:"ShareInviteCreateExternalInviteGraphQLQuery",operationKind:"query",text:null}};i.hash="9c91c46b70b37b163403747442a8c1d4",e.exports=i},380465:function(e){"use strict";var t,n,r,o,i={fragment:{argumentDefinitions:t=[{defaultValue:null,kind:"LocalArgument",name:"invite_category"},{defaultValue:null,kind:"LocalArgument",name:"url"}],kind:"Fragment",metadata:null,name:"ShareInviteCreateShareLinkGraphQLQuery",selections:[{alias:null,args:n=[{kind:"Variable",name:"inviteCategory",variableName:"invite_category"},{kind:"Literal",name:"name",value:""},{kind:"Variable",name:"url",variableName:"url"}],concreteType:null,kind:"LinkedField",name:"v3CreateShareLinkQuery",plural:!1,selections:[{kind:"InlineFragment",selections:[r={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},o={alias:null,args:null,concreteType:"ShareLink",kind:"LinkedField",name:"data",plural:!1,selections:[{alias:"invite_code",args:null,kind:"ScalarField",name:"inviteCode",storageKey:null},{alias:"invite_url",args:null,kind:"ScalarField",name:"inviteUrl",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null}],storageKey:null}],type:"V3CreateShareLink",abstractKey:null},{kind:"InlineFragment",selections:[r],type:"ClientError",abstractKey:null}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:t,kind:"Operation",name:"ShareInviteCreateShareLinkGraphQLQuery",selections:[{alias:null,args:n,concreteType:null,kind:"LinkedField",name:"v3CreateShareLinkQuery",plural:!1,selections:[r,{kind:"InlineFragment",selections:[o],type:"V3CreateShareLink",abstractKey:null}],storageKey:null}]},params:{id:"8d8e9da7f5f5830ad00711d5fa1aa68c48b859aac0680cc0e49d58d3c1ccea88",metadata:{},name:"ShareInviteCreateShareLinkGraphQLQuery",operationKind:"query",text:null}};i.hash="e485abf49d319ba9c47587981f2a86be",e.exports=i},656177:function(e){"use strict";var t,n,r,o,i,a,l,c,s={fragment:{argumentDefinitions:[t={defaultValue:null,kind:"LocalArgument",name:"inviteCode"},n={defaultValue:null,kind:"LocalArgument",name:"inviteType"},r={defaultValue:null,kind:"LocalArgument",name:"objectId"}],kind:"Fragment",metadata:null,name:"ShareInviteMutation",selections:[{alias:null,args:o=[{fields:[{kind:"Variable",name:"inviteCode",variableName:"inviteCode"},{kind:"Variable",name:"inviteType",variableName:"inviteType"},{kind:"Variable",name:"objectId",variableName:"objectId"}],kind:"ObjectValue",name:"input"}],concreteType:null,kind:"LinkedField",name:"v3InviteSentExternalMutation",plural:!1,selections:[{kind:"InlineFragment",selections:[i={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{alias:null,args:null,concreteType:"InviteCode",kind:"LinkedField",name:"data",plural:!1,selections:[a={alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},l={alias:null,args:null,kind:"ScalarField",name:"fromUserId",storageKey:null}],storageKey:null}],type:"V3InviteSentExternal",abstractKey:null},{kind:"InlineFragment",selections:[i,c={alias:null,args:null,concreteType:"ErrorInfo",kind:"LinkedField",name:"error",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"message",storageKey:null}],storageKey:null}],type:"InvalidParameters",abstractKey:null}],storageKey:null}],type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[n,t,r],kind:"Operation",name:"ShareInviteMutation",selections:[{alias:null,args:o,concreteType:null,kind:"LinkedField",name:"v3InviteSentExternalMutation",plural:!1,selections:[i,{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"InviteCode",kind:"LinkedField",name:"data",plural:!1,selections:[a,l,{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null}],type:"V3InviteSentExternal",abstractKey:null},{kind:"InlineFragment",selections:[c],type:"InvalidParameters",abstractKey:null}],storageKey:null}]},params:{id:"30e03e1f3b6dded5c6d93bfecfb50065b254f1307aec34dfa67719890b615b82",metadata:{},name:"ShareInviteMutation",operationKind:"mutation",text:null}};s.hash="c33b898a613c3dc2792113fb7e97b0f5",e.exports=s},850115:function(e){e.exports="https://s.pinimg.com/webapp/goodIdea-b770896d.svg"},379507:function(e){e.exports="https://s.pinimg.com/webapp/haha-e2800d2d.svg"},637956:function(e){e.exports="https://s.pinimg.com/webapp/love-c31e0b8d.svg"},909745:function(e){e.exports="https://s.pinimg.com/webapp/thanks-62775475.svg"},128206:function(e){e.exports="https://s.pinimg.com/webapp/wow-3cb697ef.svg"},832654:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});var r=n(349700);function o(e,t){var n=e.alt_text,o=e.auto_alt_text;return n?(0,r.nk)(t._('This contains: {{ altText }}', 'web.altText', 'Alt text input by a human'),{altText:n}).join(""):o?(0,r.nk)(t._('This may contain: {{ autoAltText }}', 'web.altText', 'Alt text generated by a computer'),{autoAltText:o}).join(""):null}},695014:function(e,t,n){"use strict";n.d(t,{Z:function(){return g}});var r=n(76911),o=n(506979),i=n(616211),a=n(898781),l=n(6637);function c(e,t,n,r,o,i,a){try{var l=e[i](a),c=l.value}catch(s){return void n(s)}l.done?t(c):Promise.resolve(c).then(r,o)}function s(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){c(i,r,o,a,l,"next",e)}function l(e){c(i,r,o,a,l,"throw",e)}a(void 0)}))}}function u(e){return{type:"PIN_FAVORITE",payload:{id:e,increment:1,value:!0}}}function d(e){return function(){var t=s(regeneratorRuntime.mark((function t(n){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,l.Z.create("ApiResource",{url:"/v3/pins/".concat(e,"/favorite/")}).callCreate();case 2:n(u(e));case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}function p(e){return{type:"PIN_FAVORITE",payload:{id:e,increment:-1,value:!1}}}function f(e){return function(){var t=s(regeneratorRuntime.mark((function t(n){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,l.Z.create("ApiResource",{url:"/v3/pins/".concat(e,"/favorite/")}).callDelete();case 2:n(p(e));case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}var _=n(908390),h=n(515198);function y(e,t,n,r,o,i,a){try{var l=e[i](a),c=l.value}catch(s){return void n(s)}l.done?t(c):Promise.resolve(c).then(r,o)}function m(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,i=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(c){l=!0,o=c}finally{try{a||null==n.return||n.return()}finally{if(l)throw o}}return i}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return v(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return v(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function v(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function g(e){var t=e.favorited,n=e.favoriteCount,l=e.isCloseupButton,c=e.onFavorite,s=e.onUnfavorite,u=e.pinId,p=e.size,v=(0,a.ZP)(),g=(0,o.useDispatch)(),b=m((0,r.useState)(!1),2),P=b[0],w=b[1],S=m((0,r.useState)(t),2),x=S[0],O=S[1],A=m((0,r.useState)(null!=n?n:0),2),j=A[0],E=A[1],T=function(){var e,t=(e=regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(O(!x),w(!0),!x){e.next=10;break}return E(j-1),e.next=6,g(f(u));case 6:s(),w(!1),e.next=15;break;case 10:return E(j+1),e.next=13,g(d(u));case 13:c(),w(!1);case 15:case"end":return e.stop()}}),e)})),function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){y(i,r,o,a,l,"next",e)}function l(e){y(i,r,o,a,l,"throw",e)}a(void 0)}))});return function(){return t.apply(this,arguments)}}(),I=j<10?j:v._('9+', 'favoriteButton.favoriteCountText', 'Text shown when greater than 9 favorites on Pin');return(0,h.jsxs)(_.kC,{alignItems:"center",gap:{row:1,column:0},children:[void 0!==n&&j>0&&(0,h.jsx)(_.xv,{size:"200",weight:"bold",children:I}),(0,h.jsx)(i.Z,{isCloseupButton:l,isDisabled:P,isFavorited:x,onTap:function(){T()},size:p})]})}},578722:function(e,t,n){"use strict";n.d(t,{H1:function(){return s},HW:function(){return i},iL:function(){return c},pN:function(){return l},s_:function(){return a}});var r=n(19121),o=n(773285),i=new Date(2022,1,1);function a(){var e=(0,o.F)().checkExperiment,t=["enabled_public","employees"].includes(e("web_ip_plays",{dangerouslySkipActivation:!0}).group),n=e("web_ip_pinner_plays",{dangerouslySkipActivation:!0}).anyEnabled,r=e("android_ios_web_ip_plays_dark_reads").anyEnabled;return t||n||r}function l(e){var t=e.isOwnPin,n=e.isStoryPin,a=e.pinCreationDate,l=e.surface,c=(0,r.Z)(),s=(0,o.F)().checkExperiment,u=s("web_play_playtime_pin_stats",{dangerouslySkipActivation:!0}).anyEnabled,d=!!("CreatorProfileStoryPinGrid"===l&&n&&a&&a.getTime()>=i.getTime()&&u&&c.isPartner&&t)&&s("web_ip_plays").anyEnabled,p=["enabled_public","employees"].includes(s("web_ip_plays",{dangerouslySkipActivation:!0}).group);if("CreatorProfileStoryPinGrid"===l&&n&&a&&a.getTime()>=i.getTime()){if(c.isPartner)return t&&d||!t&&p;if(s("web_ip_pinner_plays").anyEnabled)return!0}return!1}function c(e){var t=e.isOwnPin,n=e.isPartner,r=(0,o.F)().checkExperiment,i=["enabled_public","employees"].includes(r("web_ip_plays",{dangerouslySkipActivation:!0}).group),a=r("web_ip_pinner_plays",{dangerouslySkipActivation:!0}).anyEnabled;return!(t||!(a&&!n||i&&n))}function s(e){var t=e.isOwnPin,n=e.isPartner,r=(0,o.F)().checkExperiment,i=r("web_ip_plays",{dangerouslySkipActivation:!0}).anyEnabled,a=r("web_ip_pinner_plays",{dangerouslySkipActivation:!0}).anyEnabled;return!(!t||!(i&&n||a&&!n))}},955362:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return g}});var r=n(76911),o=n(506979),i=n(205202),a=n(248975),l=n(907775),c=n(883561),s=n(898781),u=n(199387),d=n(447948),p=n(623568),f=n(116674),_=n(576440),h=n(908390),y=n(515198);function m(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,i=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(c){l=!0,o=c}finally{try{a||null==n.return||n.return()}finally{if(l)throw o}}return i}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return v(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return v(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function v(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function g(e){var t,n,v,g=e.feedbackData,b=e.feedbackType,P=e.pin,w=e.pinTitle,S=e.setForcePrimary,x=e.transparentBackground,O=(0,s.ZP)(),A=(0,o.useDispatch)(),j=(0,_.E)(),E=j.viewParameter,T=j.viewType,I=(0,f.f)().reportPin,C=m((0,r.useState)(!1),2),D=C[0],R=C[1],k=m((0,r.useState)(),2),z=k[0],N=k[1],L=P.ad_match_reason,M=P.show_ad_reasons,B=P.board,Z=P.category,F=P.description,U=P.id,G=void 0===U?"":U,V=P.images,H=P.is_promoted,W=P.pinner,K=P.promoter,Y=P.recommendation_reason,X=P.source_interest,q=P.videos,J=(v=H?60:50,function(e){return(0,c.ZP)((e||"").trim(),v)})(null!=F?F:""),$=(0,i.Z)(V,"236x"),Q=(0,p.iR)(q),ee=(0,u.Z)(101,{component:0,element:981,object_id_str:G,aux_data:{feedback_type:b}}),te=function(){M||(S(!1),A((0,d.i0)(G)),R(!1))};return(0,y.jsxs)(r.Fragment,{children:[(0,y.jsx)(h.xu,{"data-test-id":"feedback-button",ref:N,children:(0,y.jsx)(h.hU,{accessibilityLabel:O._('More information', 'accessibility label for overflow menu button', 'accessibility label for overflow menu button'),bgColor:x?"transparent":"white",icon:"ellipsis",iconColor:"darkGray",onClick:function(){D?te():(S(!0),R(!0)),ee()},size:"sm"})}),D&&(0,y.jsx)(h.xu,{onFocus:function(e){return e.stopPropagation()},children:(0,y.jsx)(l.Z,{anchor:z,ad_match_reason:L,bestPinImgSrc:(0,a.Z)({images:P.images,embedSrc:null===(t=P.embed)||void 0===t?void 0:t.src,embedType:null===(n=P.embed)||void 0===n?void 0:n.type}),board:B,feedbackData:g,feedbackType:b,hideDownload:Q,isPromoted:H,onLinkClick:function(){D&&te()},onDismiss:te,onHide:te,onDownloadHideFlyout:function(){S(!1),R(!1)},pinCategory:Z,pinDescription:J,pinId:G,pinImgSrc:$,pinner:W,pinTitle:w,promoter:K,recommendationReason:Y,reportPin:function(){return I(P,E,T)},sourceInterest:X,viewParameter:E,viewType:T})})]})}},907775:function(e,t,n){"use strict";n.d(t,{Z:function(){return te}});var r=n(76911),o=n(506979),i=n(941646),a=n(908390),l=n(515198);function c(e){var t=e.iconAccessibilityLabel,n=e.icon,r=e.linkAccessibilityLabel,o=e.showNavigationIcon,c=e.text;return(0,l.jsxs)(a.kC,{alignItems:"stretch",justifyContent:"start",children:[(0,l.jsx)(i.Z,{id:"ad-reason-icon",children:(0,l.jsx)(a.Sj,{accessibilityLabel:t,bgColor:"lightGray",icon:n,iconColor:"darkGray"})}),(0,l.jsx)(a.xu,{alignSelf:"center","data-test-id":"ad-location-targeting-reason",height:"100%",marginStart:2,children:(0,l.jsx)(a.xv,{children:c})}),o&&r&&(0,l.jsx)(a.kC,{direction:"column",justifyContent:"center",children:(0,l.jsx)(a.JO,{accessibilityLabel:r,color:"default",icon:"arrow-forward"})})]})}var s=n(898781),u=n(966113),d=n(170168),p=n(349700),f=n(407043);function _(e){var t=e.brandName,n=e.country,r=e.language,o=e.isAgeMatched,_=e.isBehaviorTargetingMatched,h=e.isCustomerListMatched,y=e.isGeoPostalCodeMatched,m=e.isGeoRegionMatched,v=e.isShoppingTargetingRematched,g=(0,f.v)().logContextEvent,b=(0,s.ZP)();return(0,l.jsx)(i.Z,{id:"ad-reasons",children:(0,l.jsxs)(a.kC,{direction:"column",flex:"none",gap:{row:0,column:4},children:[(y||m)&&(0,l.jsx)(a.iP,{role:"link",href:"".concat(d.C0).concat(u.QL),onTap:function(){g({event_type:101,component:13756,element:12059})},target:"blank",children:(0,l.jsx)(c,{iconAccessibilityLabel:b._('Icon for ad targeting location', 'app.common.react.components.PinRep.components.AdReasons.locationIcon', 'Icon for ad targeting location'),icon:"location",linkAccessibilityLabel:b._('Navigate to account settings', 'app.common.react.components.PinRep.components.AdReasonRow.icon', 'An icon for navigating to account settings'),showNavigationIcon:!0,text:(0,p.nk)(b._('Your primary location is in {{countryName}} and your primary language is {{language}}', 'app.common.react.components.PinRep.components.AdReasonsModal.locationTargeting', 'Ad explanation for targeting location'),{countryName:(0,l.jsx)(a.xv,{inline:!0,weight:"bold",children:n},"ad-reasons-country-name"),language:(0,l.jsx)(a.xv,{inline:!0,weight:"bold",children:r},"ad-reasons-language")})})}),o&&(0,l.jsx)(c,{iconAccessibilityLabel:b._('Icon for ad targeting age', 'app.common.react.components.PinRep.components.AdReasons.ageIcon', 'Icon for ad targeting age'),icon:"person",text:(0,p.nk)(b._('{{ brandName }} is trying to reach people in your age range', 'app.common.react.components.PinRep.components.AdReasonsModal.ageTargeting', 'Ad explanation for targeting age range'),{brandName:(0,l.jsx)(a.xv,{inline:!0,weight:"bold",children:t},"ad-reasons-age-brand-name")})}),_&&(0,l.jsx)(c,{iconAccessibilityLabel:b._('Icon for ad targeting search history', 'app.common.react.components.PinRep.components.AdReasons.searchIcon', 'Icon for ad targeting search history'),icon:"search",text:b._('Your Pinterest browsing history and search behavior', 'app.common.react.components.PinRep.components.AdReasonsModal.searchTargeting', 'Ad explanation for targeting the search history of the user')}),v&&(0,l.jsx)(c,{iconAccessibilityLabel:b._('Icon for ad targeting customers who interacted with this brand previously', 'app.common.react.components.PinRep.components.AdReasonsModal.shoppingTargetingIcon', 'Ad explanation for targeting users who have interacted with an advertiser brand'),icon:"clock",text:(0,p.nk)(b._('You\'ve interacted with {{brandName}} before', 'app.common.react.components.PinRep.components.AdReasonsModal.shoppingTargetingText', 'Text explaining the ad reason for targeting users who interacted with brand previously, brandName: promoter name'),{brandName:(0,l.jsx)(a.xv,{inline:!0,weight:"bold",children:t},"retargeting-ad-reason")})}),h&&(0,l.jsx)(c,{iconAccessibilityLabel:b._('Icon for ad targeting user on an audience list', 'app.common.react.components.PinRep.components.AdReasons.genderIcon', 'Icon for ad targeting gender'),icon:"menu",text:(0,p.nk)(b._('You\'re on an audience list provided by {{brandName}}', 'app.common.react.components.PinRep.components.AdReasonsModal.customerListTargeting', 'Ad explanation for targeting customer list, brandName: promoter name'),{brandName:(0,l.jsx)(a.xv,{inline:!0,weight:"bold",children:t},"ad-reasons-customer-list")})})]})})}function h(e){var t=e.brandName,n=e.language,r=e.geoRegion,o=e.geoPostalCode,u=e.ageBucketMatch,d=e.localeMatch,f=e.interestMatch,_=e.genderMatch,h=e.deviceMatch,y=e.isCustomerListMatched,m=e.isShoppingTargetingRematched,v=e.isActAlikeMatched,g=e.isEngagementMatched,b=e.isExpandTargetingMatched,P=e.isFromGPSLocation,w=e.isVisitorMatched,S=e.gender,x=e.device,O=(0,s.ZP)();return(0,l.jsx)(i.Z,{id:"ad-reasons",children:(0,l.jsxs)(a.kC,{direction:"column",flex:"none",gap:{row:0,column:4},children:[""!==u&&(0,l.jsx)(c,{iconAccessibilityLabel:O._('Icon for ad targeting age bucket', 'app.common.react.components.PinRep.components.AdReasons.ageIcon', 'Icon for ad targeting age bucket'),icon:"person",text:(0,p.nk)(O._('Age {{ ageBucketMatch }}', 'app.common.react.components.PinRep.components.AdReasonsModal.ageBucketMatch', 'Ad explanation for targeting age range, ageBucketMatch: Users age range'),{ageBucketMatch:(0,l.jsx)(a.xv,{inline:!0,weight:"bold",children:u},"ad-reasons-age-bucket")})}),""!==_&&(0,l.jsx)(c,{iconAccessibilityLabel:O._('Icon for ad targeting gender', 'app.common.react.components.PinRep.components.AdReasons.genderIcon', 'Icon for ad targeting gender'),icon:"person",text:(0,p.nk)(O._('{{ gender }}', 'app.common.react.components.PinRep.components.AdReasonsModal.genderMatch', 'Ad explanation for targeting gender, gender: Users gender'),{gender:(0,l.jsx)(a.xv,{inline:!0,weight:"bold",children:S},"ad-reasons-gender")})}),""!==r&&(0,l.jsx)(c,{iconAccessibilityLabel:O._('Icon for ad targeting location', 'app.common.react.components.PinRep.components.AdReasons.locationIcon', 'Icon for ad targeting location, v2'),icon:"location",text:(0,p.nk)(O._('Based in {{geoRegion}}', 'app.common.react.components.PinRep.components.AdReasonsModal.locationTargetingV2', 'Ad explanation for targeting location v2, geoRegion: location user is based in'),{geoRegion:(0,l.jsx)(a.xv,{inline:!0,weight:"bold",children:r},"ad-reasons-country-name")})}),""!==o&&(0,l.jsx)(c,{iconAccessibilityLabel:O._('Icon for ad targeting location', 'app.common.react.components.PinRep.components.AdReasons.locationIcon', 'Icon for ad targeting location, v2'),icon:"location",text:(0,p.nk)(O._('Based in {{geoPostalCode}}', 'app.common.react.components.PinRep.components.AdReasonsModal.locationTargetingV2', 'Ad explanation for targeting location v2, geoPostalCode: location user is based in'),{geoPostalCode:(0,l.jsx)(a.xv,{inline:!0,weight:"bold",children:o},"ad-reasons-country-name")})}),""!==d&&(0,l.jsx)(c,{iconAccessibilityLabel:O._('Icon for ad targeting locale', 'app.common.react.components.PinRep.components.AdReasons.localeIcon', 'Icon for ad targeting locale'),icon:"globe",text:(0,p.nk)(O._('Primary language {{ language }}', 'app.common.react.components.PinRep.components.AdReasonsModal.localeMatch', 'Ad explanation for targeting age range, language: Users language'),{language:(0,l.jsx)(a.xv,{inline:!0,weight:"bold",children:n},"ad-reasons-locale")})}),""!==h&&(0,l.jsx)(c,{iconAccessibilityLabel:O._('Icon for ad targeting device', 'app.common.react.components.PinRep.components.AdReasons.deviceIcon', 'Icon for ad targeting device'),icon:"overview",text:(0,p.nk)(O._('Using {{ device }}', 'app.common.react.components.PinRep.components.AdReasonsModal.deviceMatch', 'Ad explanation for targeting device, device: Users device'),{device:(0,l.jsx)(a.xv,{inline:!0,weight:"bold",children:x},"ad-reasons-device")})}),""!==f&&(0,l.jsx)(c,{iconAccessibilityLabel:O._('Icon for ad targeting interest', 'app.common.react.components.PinRep.components.AdReasons.interestIcon', 'Icon for ad targeting interest'),icon:"heart",text:(0,p.nk)(O._('Interested in {{ interestMatch }}', 'app.common.react.components.PinRep.components.AdReasonsModal.interestMatch', 'Ad explanation for targeting interest, interestMatch: Users interest'),{interestMatch:(0,l.jsx)(a.xv,{inline:!0,weight:"bold",children:f},"ad-reasons-interest")})}),m&&(0,l.jsx)(c,{iconAccessibilityLabel:O._('Icon for ad targeting user on an audience list', 'app.common.react.components.PinRep.components.AdReasons.shoppingTargeting', 'Icon for ad targeting shopping targeting'),icon:"history",text:(0,p.nk)(O._('Interacted with {{brandName}}', 'app.common.react.components.PinRep.components.AdReasonsModal.shoppingTargeting', 'Ad explanation for shopping targeting, brandName: promoter name'),{brandName:(0,l.jsx)(a.xv,{inline:!0,weight:"bold",children:t},"ad-reasons-shopping-targeting")})}),w&&(0,l.jsx)(c,{iconAccessibilityLabel:O._('Icon for ad targeting customers who interacted with this brand previously, visitor matched', 'app.common.react.components.PinRep.components.AdReasonsModal.visitorMatchIcon', 'Ad explanation for visitor targeting users who have interacted with an advertiser brand'),icon:"history",text:(0,p.nk)(O._('Interacted with {{brandName}}', 'app.common.react.components.PinRep.components.AdReasonsModal.visitorTargetingText', 'Text explaining the ad reason for visitor targeting users who interacted with brand previously, brandName: promoter name'),{brandName:(0,l.jsx)(a.xv,{inline:!0,weight:"bold",children:t},"ad-reason-visitor")})}),y&&(0,l.jsx)(c,{iconAccessibilityLabel:O._('Icon for ad targeting user on an audience list', 'app.common.react.components.PinRep.components.AdReasons.listIcon', 'Icon for ad targeting customer list'),icon:"menu",text:(0,p.nk)(O._('On a list provided by {{brandName}}', 'app.common.react.components.PinRep.components.AdReasonsModal.customerListTargetingV2', 'Ad explanation for targeting customer list v2, brandName: promoter name'),{brandName:(0,l.jsx)(a.xv,{inline:!0,weight:"bold",children:t},"ad-reasons-customer-list")})}),g&&(0,l.jsx)(c,{iconAccessibilityLabel:O._('Icon for ad targeting user on engagement audience', 'app.common.react.components.PinRep.components.AdReasons.engagementIcon', 'Icon for ad targeting engagement'),icon:"pin",text:(0,p.nk)(O._('Interacted with {{brandName}} on Pinterest', 'app.common.react.components.PinRep.components.AdReasonsModal.engagementTargeting', 'Ad explanation for targeting engagement audience, brandName: promoter name'),{brandName:(0,l.jsx)(a.xv,{inline:!0,weight:"bold",children:t},"ad-reasons-engagement")})}),v&&(0,l.jsx)(c,{iconAccessibilityLabel:O._('Icon for ad targeting user on act alike', 'app.common.react.components.PinRep.components.AdReasons.actAlikeIcon', 'Icon for ad targeting act alike'),icon:"graph-bar",text:(0,p.nk)(O._('Similar demographic or interest as other {{brandName}} customers', 'app.common.react.components.PinRep.components.AdReasonsModal.', 'Ad explanation for targeting act alike, brandName: promoter name'),{brandName:(0,l.jsx)(a.xv,{inline:!0,weight:"bold",children:t},"ad-reasons-act-alike")})}),b&&(0,l.jsx)(c,{iconAccessibilityLabel:O._('Icon for ad targeting user on expand targeting', 'app.common.react.components.PinRep.components.AdReasons.expandTargeting', 'Icon for ad expand targeting'),icon:"pinterest",text:O._('Relevant activity on Pinterest', 'app.common.react.components.PinRep.components.AdReasonsModal.expandTargeting', 'Ad explanation for targeting ')}),P&&(0,l.jsx)(c,{iconAccessibilityLabel:O._('Icon for ad targeting user on GPS', 'app.common.react.components.PinRep.components.AdReasons.GPS', 'Icon for ad targeting GPS'),icon:"location",text:O._('GPS Location', 'app.common.react.components.PinRep.components.AdReasonsModal.GPS', 'Ad explanation for targeting GPS')})]})})}var y=n(121151),m=n(773285);function v(e){var t=e.onDismiss,n=e.brandName,r=e.userName,o=e.country,c=e.language,v=e.geoRegion,g=e.geoPostalCode,b=e.ageBucketMatch,P=e.localeMatch,w=e.interestMatch,S=e.genderMatch,x=e.deviceMatch,O=e.isAgeMatched,A=e.isBehaviorTargetingMatched,j=e.isCustomerListMatched,E=e.isGeoPostalCodeMatched,T=e.isGeoRegionMatched,I=e.isShoppingTargetingRematched,C=e.isActAlikeMatched,D=e.isEngagementMatched,R=e.isExpandTargetingMatched,k=e.isFromGPSLocation,z=e.isVisitorMatched,N=e.gender,L=e.device,M=(0,f.v)().logContextEvent,B=(0,s.ZP)(),Z=function(){M({event_type:101,component:13756,element:12058})},F=E||T||O||A||I||j||D||C||R||k||z||""!==b||""!==P||""!==w||""!==S||""!==x||""!==v||""!==g,U=(0,(0,m.F)().checkExperiment)("ads_web_waista_v2").anyEnabled,G=d.C0+"/".concat(r,"/");return(0,l.jsx)(y.ZP,{accessibilityModalLabel:B._('Why am I seeing this Ad?', 'app.common.react.components.PinRep.components.AdReasonsModal', 'Modal for explaining the reasons an advertiser is targeting a user'),onDismiss:t,children:(0,l.jsxs)(a.xu,{paddingX:8,paddingY:6,children:[(0,l.jsxs)(a.xu,{display:"flex",justifyContent:"center",marginBottom:6,position:"relative",children:[(0,l.jsx)(a.xu,{position:"absolute",left:!0,children:(0,l.jsx)(a.hU,{accessibilityLabel:B._('Close', 'app.common.react.components.PinRep.components.AdReasonsModal.closeModal', 'Close ad reasons modal'),icon:"cancel",iconColor:"darkGray",onClick:t,size:"sm"})}),U?(0,l.jsx)(a.X6,{align:"center",size:"500",children:B._('Why you\'re seeing this ad', 'Heading for promoted Pins explanation, v2', 'Heading for promoted pins explanation, WAISTA v2')}):(0,l.jsx)(a.X6,{align:"center",size:"500",children:B._('Why am I seeing this ad?', 'Heading for promoted Pins explanation', 'Heading for promoted pins explanation')})]}),(0,l.jsxs)(a.xu,{children:[(0,l.jsxs)(a.kC,{direction:"column",gap:{row:0,column:4},children:[U?null:(0,l.jsx)(a.xu,{children:(0,l.jsx)(a.xv,{children:(0,p.nk)(B._('{{ brandName }} wants to get their ads in front of people like you. {{ learnMoreLink }}', 'app.common.react.components.PinRep.components.AdReasonsModal.advertiserExplanation', 'text informing the user about who is the advertiser'),{brandName:(0,l.jsx)(a.xv,{inline:!0,weight:"bold",children:n},"ad-reasons-brand-name"),learnMoreLink:(0,l.jsx)(i.Z,{id:"ad-reasons-learn-more-link",children:(0,l.jsx)(a.xv,{inline:!0,children:(0,l.jsx)(a.rU,{href:u.UF,display:"inlineBlock",onClick:function(){M({event_type:101,component:13756,element:12057})},target:"blank",underline:"hover",children:B._('Learn more', 'app.common.react.components.PinRep.components.AdReasonsModal.learnMoreLink', 'Learn more link for info about the reasons an ad is shown')})},"ad-reasons-learn-more-link")})})})}),F&&(0,l.jsx)(a.xu,{marginBottom:4,children:U?(0,l.jsx)(a.xv,{children:(0,p.nk)(B._('{{ brandName }} is trying to reach specific groups of people. Based on what you\'ve told us or other information, we think you fit some of those groups:', 'app.common.react.components.PinRep.components.AdReasonsModal.audienceExplanationWAISTAv2', 'text informing the user about who is the advertiser\'s target audience, for WAISTAv2 brandName: is promoter name'),{brandName:(0,l.jsx)(a.xv,{inline:!0,weight:"bold",children:(0,l.jsx)(a.rU,{href:G,display:"inlineBlock",onClick:function(){M({event_type:101,component:13756,element:13407})},target:"blank",underline:"hover",children:n})},"ad-reasons-brand-name")})}):(0,l.jsx)(a.xv,{children:(0,p.nk)(B._('{{ brandName }} is trying to reach people who fit the following criteria:', 'app.common.react.components.PinRep.components.AdReasonsModal.audienceExplanation', 'text informing the user about who is the advertiser\'s target audience'),{brandName:(0,l.jsx)(a.xv,{inline:!0,weight:"bold",children:n},"ad-reasons-brand-name")})})})]}),(0,l.jsx)(i.Z,{id:"ad-reasons",children:(0,l.jsxs)(a.kC,{direction:"column",flex:"none",gap:{row:0,column:4},children:[!U&&(0,l.jsx)(_,{brandName:n,country:o,language:c,isAgeMatched:O,isBehaviorTargetingMatched:A,isCustomerListMatched:j,isGeoPostalCodeMatched:E,isGeoRegionMatched:T,isShoppingTargetingRematched:I}),U&&(0,l.jsx)(h,{brandName:n,language:c,geoRegion:v,geoPostalCode:g,ageBucketMatch:b,localeMatch:P,genderMatch:S,interestMatch:w,deviceMatch:x,isCustomerListMatched:j,isShoppingTargetingRematched:I,isActAlikeMatched:C,isEngagementMatched:D,isExpandTargetingMatched:R,isFromGPSLocation:k,isVisitorMatched:z,gender:N,device:L}),F&&!U&&(0,l.jsx)(a.xu,{marginBottom:1,children:(0,l.jsx)(a.xv,{children:B._('There could also be more factors not listed here.', 'app.common.react.components.PinRep.components.AdReasonsModal.miscFactors', 'Text explaining there are more targeting factors')})}),F&&U?(0,l.jsx)(a.xu,{marginBottom:1,children:(0,l.jsx)(a.xv,{children:(0,p.nk)(B._('If this isn\'t right, {{ changeUserSettings }}', 'app.common.react.components.PinRep.components.AdReasonsModal.changeUserSettingsText', 'Text explaining how to update personal information, changeUserSettings: link to personal settings'),{changeUserSettings:(0,l.jsx)(a.xv,{inline:!0,weight:"bold",children:(0,l.jsx)(a.rU,{display:"inline",href:"".concat(d.C0).concat(u.AH),onClick:function(){M({event_type:101,component:13756,element:13361})},target:"blank",underline:"hover",children:B._('update your personal information', 'app.common.react.components.PinRep.components.AdReasonsModal.changeUserSettings', 'Link for updating personal information')})},"ad-reasons-change-user-settings")})})}):null]})}),(0,l.jsxs)(a.kC,{direction:"column",gap:{row:0,column:1},children:[(0,l.jsx)(a.xu,{marginBottom:3,marginTop:3,children:U?null:(0,l.jsx)(a.iz,{})}),(0,l.jsx)(a.xu,{marginBottom:1,marginTop:1,children:U?(0,l.jsx)(a.X6,{size:"400",children:B._('Ads on Pinterest', 'app.common.react.components.PinRep.components.AdReasonsModal.adsOnPinterestHeading', 'Text for explaining Ads on Pinterest')}):(0,l.jsx)(a.X6,{size:"400",children:B._('I don\'t want to see this ad', 'app.common.react.components.PinRep.components.AdReasonsModal.hideThisAdHeading', 'Text for explaining how to hide an ad')})}),(0,l.jsx)(a.xu,{marginBottom:4,children:U?(0,l.jsx)(a.xv,{children:(0,p.nk)(B._('We show you ads that may be based on your profile settings, websites you visit, ads you interact with or other factors. {{adPreferencesLink}}', 'app.common.react.components.PinRep.components.AdReasonsModal.adPreferencesText', 'Text explaining what ads are based on, adPreferencesLink: link to privacy settings'),{adPreferencesLink:(0,l.jsx)(a.xv,{inline:!0,weight:"bold",children:(0,l.jsx)(a.rU,{display:"inline",href:"".concat(d.C0).concat(u.Gx),onClick:function(){M({event_type:101,component:13756,element:13401})},target:"blank",underline:"hover",children:B._('Review your ad preferences', 'app.common.react.components.PinRep.components.AdReasonsModal.adPreferencesLink', 'Privacy settings link')})},"ad-reasons-ad-preferences")})}):(0,l.jsx)(a.xv,{children:(0,p.nk)(B._('If you don\'t want to see ads from a specific advertiser you can block the advertiser\'s Pinterest profile. {{learnMoreLink}}', 'app.common.react.components.PinRep.components.AdReasonsModal.blockAdvertiserText', 'Text explaining how to block an advertiser profile'),{learnMoreLink:(0,l.jsx)(a.xv,{inline:!0,children:(0,l.jsx)(a.rU,{display:"inlineBlock",href:u.K_,onClick:Z,target:"blank",underline:"hover",children:B._('Learn more', 'app.common.react.components.PinRep.components.AdReasonsModal.learnMoreLink', 'Learn more link for info about the reasons an ad is shown')})},"ad-reasons-learn-more-link")})})}),(0,l.jsx)(a.xu,{marginBottom:4,children:U&&(0,l.jsx)(a.xv,{children:(0,p.nk)(B._('For more about how we collect and use data, {{ privacyPolicyLink }}', 'app.common.react.components.PinRep.components.AdReasonsModal.privacyPolicyText', 'Text explaining how we collect and use data, privacyPolicyLink: link to privacy policy'),{privacyPolicyLink:(0,l.jsx)(a.xv,{inline:!0,weight:"bold",children:(0,l.jsx)(a.rU,{display:"inline",href:u.R_,onClick:function(){M({event_type:101,component:13756,element:13402})},target:"blank",underline:"hover",children:B._('read our Privacy Policy', 'app.common.react.components.PinRep.components.AdReasonsModal.privacyPolicyLink', 'Privacy policy link for reading how data is collected and used')})},"ad-reasons-privacy-policy")})})}),(0,l.jsx)(a.xu,{marginBottom:4,children:U&&(0,l.jsx)(a.xv,{children:(0,p.nk)(B._('To stop seeing content from an advertiser, {{ blockAccounts }}', 'app.common.react.components.PinRep.components.AdReasonsModal.privacyPolicyText', 'Text explaining how to block an advertiser profile, blockAccounts: link to how to block accounts'),{blockAccounts:(0,l.jsx)(a.xv,{inline:!0,weight:"bold",children:(0,l.jsx)(a.rU,{display:"inline",href:u.K_,onClick:Z,target:"blank",underline:"hover",children:B._('learn how to block accounts', 'app.common.react.components.PinRep.components.AdReasonsModal.blockAccountLink', 'Link for how to block accounts')})},"ad-reasons-block-accounts")})})})]})]})]})})}var g=n(784590),b=n(19121),P=n(350118),w=n(780280);function S(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function x(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?S(Object(n),!0).forEach((function(t){O(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):S(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function O(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var A="Female",j="Male",E="Web";function T(e){var t,n,o,i,a,c=e.pinId,s=e.onDismiss,u=(0,f.v)().logContextEvent,d=(0,w.B)().locale,p=(0,b.Z)().country,_=void 0===p?"":p,h=(0,g.Z)({name:"CountriesResource",options:{hasEmptyState:!0}}),y=(0,g.Z)({name:"LocalesResource"}),m=(0,P.S6)()(c);(0,r.useEffect)((function(){u({event_type:120,component:13756})}),[u]);var S=null!=m?m:{},T=S.ad_targeting_attribution,I=S.promoter,C=null!==(t=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:4;return e&&Object.keys(e).filter((function(t){return"boolean"==typeof e[t]||"string"==typeof e[t]})).slice(0,t).reduce((function(t,n){return x(x({},t),{},O({},n,e[n]))}),{})}(T))&&void 0!==t?t:{},D=C.is_age_matched,R=void 0!==D&&D,k=C.is_behavior_targeting_matched,z=void 0!==k&&k,N=C.is_customer_list_matched,L=void 0!==N&&N,M=C.is_geo_postal_code_matched,B=void 0!==M&&M,Z=C.is_geo_region_matched,F=void 0!==Z&&Z,U=C.is_shopping_retargeting_matched,G=void 0!==U&&U,V=C.is_actalike_matched,H=void 0!==V&&V,W=C.is_engagement_matched,K=void 0!==W&&W,Y=C.is_expand_targeting_matched,X=void 0!==Y&&Y,q=C.is_from_gps_location,J=void 0!==q&&q,$=C.is_visitor_matched,Q=void 0!==$&&$,ee=C.matched_age_bucket,te=void 0===ee?"":ee,ne=C.matched_locale,re=void 0===ne?"":ne,oe=C.matched_interest,ie=void 0===oe?"":oe,ae=C.matched_gender,le=void 0===ae?"":ae,ce=C.matched_device,se=void 0===ce?"":ce,ue=C.geo_region,de=void 0===ue?"":ue,pe=C.geo_postal_code,fe=void 0===pe?"":pe,_e=null!==(n=null==I?void 0:I.full_name)&&void 0!==n?n:"",he=function(e,t){var n,r=(null!==(n=e.find((function(e){return e.key===t})))&&void 0!==n?n:{}).name;return void 0===r?"":r}(null!==(o=h.data)&&void 0!==o?o:[],_),ye=function(e,t){var n,r=(null!==(n=e.find((function(e){return e.key===t})))&&void 0!==n?n:{}).name;return void 0===r?"":r}(null!==(i=y.data)&&void 0!==i?i:[],d),me=function(e){return"FEMALE"===e?A:"MALE"===e?j:""}(le),ve=function(e){return"AppType_WEB"===e||"AppType_WEB_DENZEL"===e?E:""}(se),ge=null!==(a=null==I?void 0:I.username)&&void 0!==a?a:"";return(0,l.jsx)(v,{brandName:_e,userName:ge,country:he,language:ye,ageBucketMatch:te,localeMatch:re,interestMatch:ie,genderMatch:me,deviceMatch:ve,isAgeMatched:R,isBehaviorTargetingMatched:z,isCustomerListMatched:L,isGeoPostalCodeMatched:B,isGeoRegionMatched:F,isShoppingTargetingRematched:G,isActAlikeMatched:H,isEngagementMatched:K,isExpandTargetingMatched:X,isFromGPSLocation:J,isVisitorMatched:Q,onDismiss:s,gender:me,device:ve,geoRegion:de,geoPostalCode:fe})}var I=n(920085),C=n(149230),D=n(379884),R=n(852964),k=n(814197),z=n(760372),N=n(813401),L=n(680046),M=n(827896),B=n(447948),Z=n(55275),F=n(609500);function U(e){return(U="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function G(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function V(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?G(Object(n),!0).forEach((function(t){Q(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):G(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function H(e){return function(e){if(Array.isArray(e))return W(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return W(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return W(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function W(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function K(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Y(e,t){return(Y=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function X(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=$(e);if(t){var o=$(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return q(this,n)}}function q(e,t){if(t&&("object"===U(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return J(e)}function J(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function $(e){return($=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Q(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ee=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Y(e,t)}(c,e);var t,n,o,i=X(c);function c(e){var t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c),Q(J(t=i.call(this,e)),"getRecommendationDescription",(function(){var e=t.props,n=e.ad_match_reason,r=e.board,o=e.feedbackType,i=e.pinner,a=e.promoter,l=e.recommendationReason,c=e.sourceInterest;return t.feedbackHelpers.getRecommendationDescription({ad_match_reason:n,board:r,feedbackType:o,makeNavigateLink:t.makeNavigateLink,pinner:i,promoter:a,recommendationReason:l,sourceInterest:c})})),Q(J(t),"getRecommendationDescriptionImage",(function(){var e,n,r,o=t.props,i=o.board,c=o.feedbackType,s=o.pinner,u=o.recommendationReason;return"followed"!==c&&"pfyBoard"!==c?null:(s&&s.explicitly_followed_by_me?(e=s.image_small_url,n="50%",r="/".concat(s.username)):i&&i.image_thumbnail_url&&(e=i.image_thumbnail_url,n="4px",r=u&&u.board&&u.board.url||i.url),e?(0,l.jsx)(a.xu,{dangerouslySetInlineStyle:{__style:{borderRadius:n}},flex:"none",marginStart:3,overflow:"hidden",children:(0,l.jsx)(a.iP,{onTap:function(){var e;return t.props.history.push(null!==(e=r)&&void 0!==e?e:"")},children:(0,l.jsx)(a.zd,{height:40,wash:!0,width:40,children:(0,l.jsx)(a.Ee,{alt:"",fit:"cover",naturalHeight:1,naturalWidth:1,src:e})})})}):null)})),Q(J(t),"getUnfollowAction",(function(){var e=t.props,n=e.board,r=e.feedbackType,o=e.pinner,i=e.sourceInterest;return t.feedbackHelpers.getUnfollowAction({board:n,feedbackType:r,makeNavigateLink:t.makeNavigateLink,pinner:o,sourceInterest:i})})),Q(J(t),"getUndoText",(function(e){return"unfollowPinner"===e||"unfollowBoard"===e?t.props.i18n._('Follow again', 'Caption for button to undo a unfollowing of a topic', 'Caption for button to undo a unfollowing of a topic'):""})),Q(J(t),"feedbackHelpers",(0,L.ZP)({i18n:t.props.i18n,interpolateNamedTemplate:p.nk})),Q(J(t),"makeNavigateLink",(function(e,n,r,o){return(0,l.jsx)(a.rU,{onClick:t.props.onLinkClick,href:n,display:"inlineBlock",underline:"hover",children:(0,l.jsx)(a.xu,{dangerouslySetInlineStyle:{__style:o?{display:"inline",color:"white",textDecorationColor:"white"}:{display:"inline"}},children:r})},e)})),Q(J(t),"reportPinOption",(function(){return{action:"reportPin",elementType:974,text:t.props.i18n._('Report Pin', 'Report a pin in the dropdown', 'Report a pin in the dropdown'),description:t.props.i18n._('This goes against Pinterest\'s community guidelines', 'Description for the report pin option', 'Description for the report pin option'),callback:t.props.reportPin,dataTestId:"report-pin-option"}})),Q(J(t),"hidePinOption",(function(e){var n=t.props,r=n.clientTrackingParams,o=n.feedbackData,i=n.feedbackType,a=n.pinId,l=n.recommendationReason,c="search"===i?973:982,s=t.feedbackHelpers.getHidePinAction({feedbackData:o,feedbackType:i,pinId:a,recommendationReasonId:(0,R.Z)(l),pinFeedbackType:"pfy"===i?4:10,throughId:l&&(0,L.yl)(l),throughProperties:l&&(0,L.XZ)(l),clientTrackingParams:r(a)}),u=s.action,d=s.actionOptions,p=t.props.i18n._('Hide Pin', 'message displayed in pin feedback list', 'message displayed in pin feedback list');return{action:u,actionOptions:d,feedbackText:t.pinHiddenFeedbackText(e),text:p,description:t.props.i18n._('See fewer Pins like this', 'Description for the hide pin option', 'Description for the hide pin option'),elementType:c}})),Q(J(t),"stopRecommendationOption",(function(){var e=t.props,n=e.clientTrackingParams,r=e.feedbackData,o=e.feedbackType,i=e.pinId,a=e.recommendationReason,l=(null!=a?a:{}).board,c=(0,R.Z)(a),s=a&&(0,L.yl)(a),u=a&&(0,L.XZ)(a),d="pfyBoard"===o,f=t.feedbackHelpers.getHidePinAction({feedbackData:r,feedbackType:o,pinId:i,recommendationReasonId:c,pinFeedbackType:d?2:4,throughId:s,throughProperties:u,clientTrackingParams:n(i)}),_=f.action,h=f.actionOptions,y=l?t.makeNavigateLink("boardUrl",l.url,l.name,!0):"";return{action:_,actionOptions:h,feedbackText:{subTitle:d&&l?(0,p.nk)(t.props.i18n._('We won\'t show you Pins inspired by your board {{ formattedBoard }} anymore.', 'Primary caption displayed in pin feedback list to unfollow a board', 'Primary caption displayed in pin feedback list to unfollow a board'),{formattedBoard:y}):t.props.i18n._('Got it! We won\'t show you Pins like this in the future.', 'message displayed after stopping recommendations from a pin', 'message displayed after stopping recommendations from a pin')},text:d&&l?(0,p.nk)(t.props.i18n._('Stop seeing Pins inspired by {{ boardName }}', 'Primary caption displayed in pin feedback list to unfollow a board', 'Primary caption displayed in pin feedback list to unfollow a board'),{boardName:l.name}):t.props.i18n._('See fewer Pins like this', 'Feedback option to stop recommendations inspired by this Pin', 'Feedback option to stop recommendations inspired by this Pin'),elementType:284}})),Q(J(t),"unfollowBoardOption",(function(){var e,n,r=t.props.board,o=r?t.makeNavigateLink("boardUrl",null!==(e=r.url)&&void 0!==e?e:"",null!==(n=r.name)&&void 0!==n?n:"",!0):"",i=(0,p.nk)(t.props.i18n._('Unfollow {{ boardName }}', 'Primary caption displayed in pin feedback list to unfollow a board', 'Primary caption displayed in pin feedback list to unfollow a board'),{boardName:null==r?void 0:r.name}),a=(0,p.nk)(t.props.i18n._('Got it! You unfollowed {{ formattedBoard }} and won\'t see Pins saved to it in the future.', 'Confirmation text after unfollowing a board', 'Confirmation text after unfollowing a board'),{formattedBoard:o});return{action:"unfollowBoard",actionOptions:{board_id:null==r?void 0:r.id},feedbackText:{title:"",subTitle:a},text:i,description:(0,p.nk)(t.props.i18n._('Stop seeing Pins from the board "{{ boardName }}"', 'Secondary caption displayed in pin feedback list to unfollow a board', 'Secondary caption displayed in pin feedback list to unfollow a board'),{boardName:null==r?void 0:r.name}),elementType:10614}})),Q(J(t),"unfollowTopicOption",(function(){var e=t.props.sourceInterest;if(e){var n=e.id,r=e.name,o=void 0===r?"":r,i=e.url_name,a="/topics/".concat(void 0===i?"":i),l=t.makeNavigateLink("topicUrl",a,o,!0),c=(0,p.nk)(t.props.i18n._('See fewer Pins from {{ topicName }}', 'Primary caption displayed in pin feedback list to unfollow a topic', 'Primary caption displayed in pin feedback list to unfollow a topic'),{topicName:o}),s=(0,p.nk)(t.props.i18n._('We\'ll show you fewer Pins from {{ formattedTopic }} in the future.', 'Confirmation text after unfollowing a topic', 'Confirmation text after unfollowing a topic'),{formattedTopic:l});return{action:"unfollowTopic",actionOptions:{interest_id:n,interest_list:z.X},feedbackText:{title:"",subTitle:s},text:c,description:(0,p.nk)(t.props.i18n._('Stop seeing Pins from the topic "{{ topicName }}"', 'Secondary caption displayed in pin feedback list to unfollow a topic', 'Secondary caption displayed in pin feedback list to unfollow a topic'),{topicName:e.name}),elementType:976}}return null})),Q(J(t),"unfollowUserOption",(function(){var e=t.props.pinner,n=null!=e?e:{},r=n.id,o=n.username,i=n.full_name,a="/".concat(o),l=e?t.makeNavigateLink("pinnerUrl",a,null!=i?i:"",!0):"";return{action:"unfollowPinner",actionOptions:{user_id:r},feedbackText:{title:"",subTitle:(0,p.nk)(t.props.i18n._('Got it! You unfollowed {{ formattedUser }} and won\'t see Pins they save in the future.', 'Confirmation text after unfollowing a user', 'Confirmation text after unfollowing a user'),{formattedUser:l})},text:(0,p.nk)(t.props.i18n._('Unfollow {{ fullName }}', 'Primary caption displayed in pin feedback list to unfollow a user', 'Primary caption displayed in pin feedback list to unfollow a user'),{fullName:i}),description:t.props.i18n._('Stop seeing all their Pins', 'Secondary caption displayed in pin feedback list to unfollow a user', 'Secondary caption displayed in pin feedback list to unfollow a user'),elementType:10640}})),Q(J(t),"downloadPinOption",(function(){return{action:"downloadPin",text:t.props.i18n._('Download image', 'Button to download Pin image', 'Button to download Pin image'),elementType:10836}})),Q(J(t),"_pinFeedbackText",(function(){var e=t.props,n=e.location,r=e.feedbackType,o=e.hideDownload,i=e.pinner,a="followed"===t.props.feedbackType,l=n.pathname.includes("following"),c=(a||"topic"===r)&&!l,s=t.hidePinOption(c),u=t.reportPinOption(),d="promoted"!==r&&!o;switch(r){case"followed":var p=l,f=!p&&t.getRecommendationDescription(),_=null!=i&&i.explicitly_followed_by_me?t.unfollowUserOption():t.unfollowBoardOption(),h=[s].concat(H(c||p?[_]:[]),H("promoted"!==r?[t.downloadPinOption()]:[]),[u]);return V(V({},f?{description:f}:{}),{},{options:h});case"promoted":var y=t.props,m=y.pinId,v=y.showAdReasonsModal,g=[s,{dataTestId:"why-am-i-seeing-this-ad-reasons",action:"showAdReasons",text:t.props.i18n._('Why am I seeing this ad?', 'app.common.react.components.PinFeedbackDropdown.adReasonText', 'Text to promoted pins explanation modal'),callback:function(){v(m)}},u];return{description:t.getRecommendationDescription(),options:g};case"topic":var b=t.unfollowTopicOption(),P=[s].concat(H(c&&b?[b]:[]),H(d?[t.downloadPinOption()]:[]),[u]);return{description:t.getRecommendationDescription(),options:P};case"pfy":case"pfyBoard":var w=[s].concat(H("pfyBoard"===r?[t.stopRecommendationOption()]:[]),H(d?[t.downloadPinOption()]:[]),[u]);return{description:t.getRecommendationDescription(),options:w};default:var S=[s].concat(H(d?[t.downloadPinOption()]:[]),[u]);return{description:t.getRecommendationDescription(),options:S}}})),Q(J(t),"pinHiddenFeedbackText",(function(e){var n=t.props,r=n.isPromoted,o=n.promoter,i=e?null:t.getUnfollowAction();return r&&null!=o&&o.full_name?{title:"",subTitle:(0,p.nk)(t.props.i18n._('{{ promoter }} has paid to have this pin show up where you\'d be more likely to notice it.', 'webapp.app.pinFeedbackDropdown.promotedFeedbackText.subtitle', 'Message displayed after hiding a promoted pin. promoter: the name of the person who promoted the pin.'),{promoter:o.full_name})}:i?{title:"",subTitle:t.getRecommendationDescription(),unfollow:i}:{title:"",subTitle:t.props.i18n._('Got it! We won\'t show you this Pin in the future.', 'message displayed after hiding a pin', 'message displayed after hiding a pin')}}));var n=t._pinFeedbackText();return t.state={pinFeedbackConfig:n,showSecondary:!1},t}return t=c,(n=[{key:"onPinFeedbackActionButtonClick",value:function(e,t,n){e.stopPropagation(),t.auxData?this.handleClickLogging(t.elementType,t.auxData):this.handleClickLogging(t.elementType),(0,Z.t)(t.action,t.actionOptions,n)}},{key:"onPinHide",value:function(e,t,n,r){var o=this.props,i=o.hidePinFeedback,a=o.onHide,l=o.pinId,c=o.showPinFeedback,s=o.showPinFeedbackOverlay,u=o.showPinFeedbackUndo,d=o.viewParameter,p=o.viewType,f=o.logContextEvent;t&&n&&r?u(l,e,(0,L.EF)(n,r,l,p,d,i,f),this.getUndoText(r)):c(l,e),!n||n.promoted||10!==n.feedback_type&&4!==n.feedback_type?a():(this.setState({showSecondary:!0}),s(l))}},{key:"handleClickLogging",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=this.props,r=n.feedbackType,o=n.viewParameter,i=n.viewType,a=n.logContextEvent;a({event_type:101,view_type:i,view_parameter:o,element:e,component:(0,L.nb)(r),aux_data:V({},t)})}},{key:"renderButtons",value:function(){for(var e=this,t=this.props,n=t.hideDownload,r=t.onDownloadHideFlyout,o=t.pinId,i=t.viewType,c=t.viewParameter,s=t.logContextEvent,u=t.isWindowsPwa,d=this.state.pinFeedbackConfig.options,p=[],f=d.length,_=function(t){var f=d[t],_=Z.P.includes(f.action),h=f.callback?f.callback:function(){return e.onPinHide(f.feedbackText,_,f.actionOptions,f.action)};if("downloadPin"!==f.action){var y=(0,C.Z)({url:f.link||""}),m="";Array.isArray(f.text)?m=f.text.join(""):"string"!=typeof f.text&&"number"!=typeof f.text||(m=f.text.toString()),p.push(f.link?(0,l.jsx)(a.Lt.Link,{href:f.link,isExternal:y,option:{value:f.action||"",label:m},dataTestId:f.dataTestId||""}):(0,l.jsx)(a.Lt.Item,{onSelect:function(t){var n=t.event;return e.onPinFeedbackActionButtonClick(n,f,h)},option:{value:f.action||"",label:m},dataTestId:f.dataTestId||""}))}else if(!n&&!1===u){var v=e.props,g=v.bestPinImgSrc,b=v.pinTitle,P=v.pinDescription,w=v.pinCategory;p.push((0,l.jsx)(a.Lt.Item,{onSelect:function(){(0,I.Z)({category:w,filename:b||P,imageDownloadSuccessCallback:function(){r&&r()},imgSrc:g,pinId:o,viewParameter:c,viewType:i},s)},option:{value:"downloadImage",label:e.props.i18n._('Download image', 'pinRep.pinFeedbackDropdown.downloadImage', 'Label to download the pin image')}}))}},h=0;h<f;h+=1)_(h);return p}},{key:"render",value:function(){var e=this.state,t=e.pinFeedbackConfig,n=e.showSecondary,o=this.props,i=o.anchor,c=o.onDismiss,s=o.feedbackData,u=o.feedbackType,d=o.hideAdReasonsModal,p=o.pinId,f=o.onHide,_=o.recommendationReason,h=o.showAdReasons,y=o.viewParameter,m=o.viewType,v=t.description,g=this.getRecommendationDescriptionImage();return(0,l.jsxs)(r.Fragment,{children:[n?(0,l.jsx)(D.Z,{anchor:i,feedbackData:s,feedbackType:u,pinId:p,onDismiss:c,onHide:f,recommendationReason:_,viewParameter:y,viewType:m}):(0,l.jsx)(a.Lt,{anchor:i,id:"pin-action-dropdown",idealDirection:"down",onDismiss:c,zIndex:k.lI,headerContent:v&&(0,l.jsxs)(a.kC,{alignItems:"center",children:[(0,l.jsx)(a.xu,{"data-pin-recommendation-reason":null==_?void 0:_.reason,maxHeight:56,overflow:"hidden",children:(0,l.jsx)(a.xv,{color:"default",overflow:"normal",size:"200",children:v})}),g]}),children:this.renderButtons()}),h&&(0,l.jsx)(T,{onDismiss:function(){return d(p)},pinId:p})]})}}])&&K(t.prototype,n),o&&K(t,o),c}(r.Component);function te(e){var t=(0,f.v)().logContextEvent,n=(0,M.Z)(),r=(0,s.ZP)(),i=(0,P.S6)()(e.pinId),a=null!=i?i:{},c=a.ad_targeting_attribution,u=a.show_ad_reasons,d=void 0!==u&&u,p=(0,N.kf)(),_=(0,o.useDispatch)();return(0,l.jsx)(ee,V(V({},e),{},{clientTrackingParams:n,showAdReasons:d,adTargetingAttribution:c,history:(0,F.useHistory)(),i18n:r,isWindowsPwa:p,location:(0,F.useLocation)(),logContextEvent:t,hidePinFeedback:function(e){return _((0,B.I1)(e))},showPinFeedback:function(e,t){return _((0,B.q1)(e,t))},showPinFeedbackOverlay:function(e){return _((0,B.Ib)(e))},showPinFeedbackUndo:function(e,t,n,r){return _((0,B.NA)({id:e,text:t,undoAction:n,undoText:r}))},showAdReasonsModal:function(e){return _((0,B.b9)(e))},hideAdReasonsModal:function(e){return _((0,B.yj)(e))}}))}},441707:function(e,t,n){"use strict";n.d(t,{Z:function(){return v}});var r=n(206134),o=n.n(r),i=n(876371),a=n(832654),l={debugPinImpressions:999,max:9999,pinActionWrapper:101,saved:102,storyPinImage:-1},c=n(773285),s=n(908390),u=n(515198);function d(e){var t=e.alt,n=e.dominantColor,r=e.naturalHeight,o=e.naturalWidth,i=e.onError,a=e.onLoad,c=e.url,d="".concat(16/9*100,"%");return(0,u.jsx)(s.xu,{position:"relative",dangerouslySetInlineStyle:{__style:{paddingTop:d}},children:(0,u.jsx)(s.xu,{position:"absolute",top:!0,left:!0,width:"100%",height:"100%",dangerouslySetInlineStyle:{__style:{zIndex:l.storyPinImage}},children:(0,u.jsx)(s.Ee,{alt:t,color:n||"transparent",naturalHeight:null!=r?r:1,naturalWidth:null!=o?o:1,onError:i,onLoad:a,src:c,fit:"cover"})})})}function p(e){var t=e.alt,n=e.dominantColor,r=e.naturalHeight,o=e.naturalWidth,i=e.onError,a=e.onLoad,c=e.url;return(0,u.jsx)(s.xu,{width:"100%",dangerouslySetInlineStyle:{__style:{zIndex:l.storyPinImage}},children:(0,u.jsx)(s.Ee,{alt:t,color:n||"transparent",naturalHeight:null!=r?r:1,naturalWidth:null!=o?o:1,onError:i,onLoad:a,src:c})})}function f(e){var t=e.alt,n=e.onError,r=void 0===n?function(){}:n,o=e.onLoad,i=void 0===o?function(){}:o,a=e.pin,l=(0,(0,c.F)().checkExperiment)("web_idea_pin_flexible_aspect_ratio_display").anyEnabled,s=a.dominant_color,f=a.images,_=function(e){var t;return"number"==typeof(null===(t=e["474x"])||void 0===t?void 0:t.width)&&"number"==typeof e["474x"].height&&e["474x"].width>e["474x"].height?e["736x"]:e["474x"]}(void 0===f?{}:f)||{},h=_.height,y=_.width,m=_.url,v=l?p:d;return(0,u.jsx)(v,{alt:t,dominantColor:s,naturalHeight:h,naturalWidth:y,onError:r,onLoad:i,url:m||""})}var _=n(898781),h=n(349700),y=n(310227),m=n(243943),v=function(e){var t,n,r,l=e.cropHeight,c=e.cropWidth,d=e.fallbackColor,p=e.highResOnly,v=e.imageFit,g=e.lowResOnly,b=e.mediumResOnly,P=e.onError,w=e.onLoad,S=e.pin,x=e.saved,O=void 0!==x&&x,A=e.animateGif,j=(0,_.ZP)(),E=(0,m.Xx)(),T=S.carousel_data,I=S.description,C=void 0===I?"":I,D=S.dominant_color,R=S.grid_title,k=S.id,z=S.images,N=S.title,L=(0,h.nk)(j._('This contains an image of: {{ pinTitle }}', 'web.altText', 'Alt text input for PinImage by a human'),{pinTitle:N||R}).join(""),M=(0,a.Z)(S,j)||C.trim().length>0&&C||L;if(T)return(0,u.jsx)(i.Z,{onError:P,onLoad:w,highResOnly:p,lowResOnly:g,pinId:k});var B,Z="",F=0,U=0;if(z){var G,V,H,W,K,Y,X,q,J=z["236x"];if(p?J=z["736x"]||z.orig||z["474x"]||z["236x"]:b&&(J=z["474x"]||z.orig||z["236x"]),F=null===(G=J)||void 0===G?void 0:G.height,U=null===(V=J)||void 0===V?void 0:V.width,Z=null===(H=J)||void 0===H?void 0:H.url,g||b||p)B=null!==(W=J)&&void 0!==W&&W.url?"".concat(J.url," 1x"):"";else B=[(null===(K=z["236x"])||void 0===K?void 0:K.url)&&"".concat(z["236x"].url," 1x"),(null===(Y=z["474x"])||void 0===Y?void 0:Y.url)&&"".concat(z["474x"].url," 2x"),(null===(X=z["736x"])||void 0===X?void 0:X.url)&&"".concat(z["736x"].url," 3x"),(null===(q=z.orig)||void 0===q?void 0:q.url)&&"".concat(z.orig.url," 4x")].filter(Boolean).join(", ")}if(A){var $=Math.max(S.embed&&S.embed.width||0,236),Q=Math.max(S.embed&&S.embed.height||0,236),ee=S.embed?S.embed.src:"";ee&&(F=Q,U=$,Z=ee,B="")}return null!=E&&E.image&&(F=E.image.height,U=E.image.width,Z=E.image.url),(0,u.jsx)(s.kC,{alignItems:"center",justifyContent:"start",minHeight:y.Ml,children:(0,u.jsx)(s.xu,{flex:"grow",children:(0,u.jsx)("div",{className:o()({savedGradient:O}),children:S.story_pin_data_id?(0,u.jsx)(f,{alt:M,pin:S,onError:P,onLoad:w}):(0,u.jsx)(s.xu,{height:c?l:void 0,width:c||void 0,"data-test-id":"non-story-pin-image",children:(0,u.jsx)(s.Ee,{alt:M,color:"dominant"===d?D:d,fit:v,naturalHeight:null!==(t=F)&&void 0!==t?t:1,naturalWidth:null!==(n=U)&&void 0!==n?n:1,onError:P,onLoad:w,src:null!==(r=Z)&&void 0!==r?r:"",srcSet:B})})})})})}},118334:function(e,t,n){"use strict";n.d(t,{Z:function(){return B}});var r=n(76911),o=n(964082),i=n(983722),a=n(357787),l=n(36971),c=n(463045),s=n(965900),u=n(108529),d=n(441707),p=n(350445),f=n(898781),_=n(46584),h=n(926749),y=n(908390),m=n(623568),v=n(515198);function g(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function b(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?g(Object(n),!0).forEach((function(t){P(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):g(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function P(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function w(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,i=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(c){l=!0,o=c}finally{try{a||null==n.return||n.return()}finally{if(l)throw o}}return i}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return S(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return S(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function S(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var x=new Set(["ConversationView","TodayTabFeed"]);function O(e){var t,n,o=e.inAdsDesktopVideoExperiment,i=e.isAutoplay,a=e.cropHeight,l=e.currentTime,c=e.lowResOnly,g=e.highResOnly,P=e.onLoad,S=e.onError,O=e.saved,A=e.onTimeChange,j=e.isExperimentalPinRep,E=e.pin,T=e.surface,I=e.playing,C=e.rootMargin,D=e.viewType,R=e.viewParameter,k=e.onVisibilityChanged,z=e.trackFullVisible,N=e.inVisibilityChangedHookExperiment,L=e.imageHeightModifier,M=e.cropWidth,B=(0,f.ZP)(),Z=w((0,r.useState)(!1),2),F=Z[0],U=Z[1],G=w((0,r.useState)(!0),2),V=G[0],H=G[1],W=(0,m.jL)(E),K=W&&!E.is_eligible_for_web_closeup,Y=j&&W&&E.is_eligible_for_web_closeup&&!x.has(T),X=(0,s.I)().setCurrentVideo,q=K||!j||!W,J=(0,_.Z)({onVisibilityChanged:k,inAdsDesktopVideoExperiment:o,trackFullVisible:z,rootMargin:C}),$=!I;o&&($=V,i&&I&&V&&H(!1));var Q=((null===(t=E.images)||void 0===t?void 0:t["236x"])||{}).url,ee=E.id,te=E.is_promoted,ne=(0,r.useCallback)((function(e){var t=e.event;t.preventDefault(),t.stopPropagation(),X({pinId:ee,isPromoted:Boolean(te),currentTime:0}),U(!1)}),[te,ee,X]),re=(0,r.useCallback)((function(){te&&U(Y)}),[Y,te]);if(!E.videos||null===(n=E.videos.video_list)||void 0===n||!n.V_HLSV4)return null;var oe,ie=E.videos.video_list.V_HLSV4||{},ae=ie.height,le=ie.thumbnail,ce=ie.width,se=ie.url,ue=E.videos.id,de=[{type:"video/m3u8",src:se}],pe=(null!=ce?ce:1)/(null!=ae?ae:1),fe=o&&T&&(0,u.Z)(T);if(fe&&(pe=1,oe="transparent",L&&(pe-=L-1)),F&&W)return(0,v.jsx)(y.xu,{ref:N?J:null,children:(0,v.jsx)(p.Z,{backgroundImage:null!=Q?Q:"",naturalHeight:null!=ae?ae:1,naturalWidth:null!=ce?ce:1,pin:E,onRestartVideo:ne})});if($){var _e={highResOnly:g,lowResOnly:c,onError:S,onLoad:P,pin:E,saved:O};return fe&&(_e=b(b({},_e),{},{cropHeight:a,cropWidth:M,imageFit:"contain"})),(0,v.jsx)(y.xu,{ref:N?J:null,children:(0,v.jsx)(d.Z,b({},_e))})}return(0,v.jsx)(y.xu,{ref:N?J:null,children:(0,v.jsx)(h.ZP,{isAutoPlay:!!i,cropHeight:a,rootMargin:C,surface:T,inAdsDesktopVideoExperiment:o,contextLogData:{viewParameter:R,component:0,objectId:E.id,video_id:ue,view:D},accessibilityMaximizeLabel:B._('Maximize', 'Maximize button on video', 'Maximize button on video'),accessibilityMinimizeLabel:B._('Minimize', 'Minimize button on video', 'Minimize button on video'),accessibilityMuteLabel:B._('Mute', 'Mute button on video', 'Mute button on video'),accessibilityPauseLabel:B._('Pause', 'Pause button on video', 'Pause button on video'),accessibilityPlayLabel:B._('Play', 'Play button on video', 'Play button on video'),accessibilityProgressBarLabel:B._('Progress bar', 'PinVideo.accessibilityProgressBarLabel', 'Video progress bar accessibility label'),accessibilityUnmuteLabel:B._('Unmute', 'Unmute button on video', 'Unmute button on video'),aspectRatio:pe,backgroundColor:oe,captions:"",hlsConfig:{capLevelToPlayerSize:!0,startPosition:l||-1},loop:q,onTimeChange:A,playing:I,onPlay:function(){},onPlayError:function(){},poster:Q||le,src:null!=de?de:[],videoStartTime:l,volume:0,onEnded:re})})}function A(e){return(A="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function j(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function E(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?j(Object(n),!0).forEach((function(t){N(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):j(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function T(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function I(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function C(e,t){return(C=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function D(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=z(e);if(t){var o=z(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return R(this,n)}}function R(e,t){if(t&&("object"===A(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return k(e)}function k(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function z(e){return(z=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function N(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var L=(0,a.Z)(O),M=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&C(e,t)}(s,e);var t,n,r,a=D(s);function s(){var e;T(this,s);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return N(k(e=a.call.apply(a,[this].concat(n))),"calculateCurrentVideoTime",(function(){var t=e.props,n=t.currentTimeFromPinRep,r=t.pin,o=t.videosAutoplaying,i=r.id,a=(0,l.Z)(i,o);return e.currentVideoCurrentTime||a||n})),N(k(e),"handleVisibilityChanged",(function(t){var n=e.props,r=n.currentTimeFromPinRep,a=n.pin,l=n.setCurrentVideo,s=n.pauseAutoplay,u=n.videosAutoplaying,d=a.id,p=a.is_promoted,f=(0,c.Z)(d,u),_=(0,o.Z)(d,u);if(t){if(p)l({pinId:d,isPromoted:p,currentTime:e.calculateCurrentVideoTime()});else if(_){var h=(0,i.Z)(),y=((null==h?void 0:h.experimentsClient.checkExperiment("hfp_web_video_autoplay_in_grid"))||{}).anyEnabled;l({pinId:d,isPromoted:Boolean(p),currentTime:e.calculateCurrentVideoTime(),inVideoGridAutoplayExp:y})}}else!t&&f&&s({pinId:d,isPromoted:Boolean(p),currentTime:r||e.currentVideoCurrentTime})})),N(k(e),"handleVideoTimeChange",(function(t){var n=e.props,r=n.pin,o=n.onTimeChange,i=n.videosAutoplaying,a=r.id;(0,c.Z)(a,i)&&(e.currentVideoCurrentTime=t.time),o&&o(t)})),e}return t=s,(n=[{key:"componentDidMount",value:function(){this.props.onLoad&&this.props.onLoad()}},{key:"componentDidUpdate",value:function(e){var t=e.appInFocus,n=this.props,r=n.appInFocus,o=n.currentTimeFromPinRep,i=n.pauseAutoplay,a=n.pin,l=n.setCurrentVideo,s=n.videosAutoplaying,u=a.id,d=a.is_promoted,p=(0,c.Z)(u,s);r!==t&&!r&&p?(this.pausedDueToBrowserOutOfFocus=!0,i({pinId:u,isPromoted:Boolean(d),currentTime:o||this.currentVideoCurrentTime})):this.pausedDueToBrowserOutOfFocus&&r&&(this.pausedDueToBrowserOutOfFocus=!1,l({pinId:u,isPromoted:Boolean(d),currentTime:this.calculateCurrentVideoTime()}))}},{key:"componentWillUnmount",value:function(){var e=this.props,t=e.currentTimeFromPinRep,n=e.pauseAutoplay,r=e.pin,o=e.videosAutoplaying,i=r.id,a=r.is_promoted;(0,c.Z)(i,o)&&n({pinId:i,isPromoted:Boolean(a),currentTime:t||this.currentVideoCurrentTime})}},{key:"render",value:function(){var e=this.props,t=e.cropHeight,n=e.isAutoplay,r=e.pin,o=e.surface,i=e.videosAutoplaying,a=e.viewParameter,s=e.viewType,u=e.highResOnly,d=e.lowResOnly,p=e.onError,f=e.onLoad,_=e.saved,h=e.inAdsDesktopVideoExperiment,y=e.isExperimentalPinRep,m=e.rootMargin,g=e.cropWidth,b=e.imageHeightModifier,P=r.id,w=(0,l.Z)(P,i),S=(0,c.Z)(P,i)&&n;return(0,v.jsx)(L,{cropHeight:t,rootMargin:m,currentTime:w,inAdsDesktopVideoExperiment:h,isAutoplay:n,viewParameter:a,viewType:s,onTimeChange:this.handleVideoTimeChange,onVisibilityChanged:this.handleVisibilityChanged,pin:r,surface:o,playing:S,trackFullVisible:!1,highResOnly:u,lowResOnly:d,onError:p,onLoad:f,saved:_,isExperimentalPinRep:y,cropWidth:g,imageHeightModifier:b})}}])&&I(t.prototype,n),r&&I(t,r),s}(r.Component);function B(e){var t=(0,s.I)(),n=t.appUI,r=n.appInFocus,o=n.isAutoplay,i=n.videosAutoplaying,a=t.pauseAutoplay,l=t.setCurrentVideo;return(0,v.jsx)(M,E(E({},e),{},{appInFocus:r,isAutoplay:o,pauseAutoplay:a,setCurrentVideo:l,videosAutoplaying:i}))}},745868:function(e,t,n){"use strict";n.d(t,{Z:function(){return eo}});var r=n(76911),o=n(506979),i=n(41233),a=n(605028),l=n(333155);function c(e){var t=e.isGroupBoard,n=e.pin,r=e.surface,o=n.carousel_data,i=n.grid_title,c=n.rich_summary,s=n.title,u=(0,a.Z)(n),d=u.isOwnPin,p=u.isPromoted;if(o){var f=o.carousel_slots,_=void 0===f?[]:f,h=o.index,y=void 0===h?0:h;if(_[y]&&_[y].title)return _[y].title.trim()}if(p){if(l.ZF.includes(r))return i||"";if(d&&!t&&!o&&"UserProfilePinGrid"!==r)return"";var m=c&&"mobile application"!==c.type_name&&c.display_name;return s||m||i||""}return i||""}var s=n(623568),u=["EngagementDetails","OtherProfilePinGrid","UserProfilePinGrid"];var d=n(35495);function p(e,t){return((0,a.Z)(e).isProduct||"ShoppingGridShippedMetadataWithVisitButton"===t&&(0,d.bA)(e))&&(0,d.QY)(e)||""}var f=n(807592),_=n(4294),h=n(18857),y=["CloseupRelatedProducts","ConversationView","CreatorProfileStoryPinGrid","CreatorProfileActivityPinGrid","ProductPinsFeed","UserProfilePinGrid"];function m(e){var t,n=e.attributionOption,r=e.board,o=e.contentType,i=e.experimentsClient,l=e.feedbackData,s=e.feedbackType,u=e.hasCarouselData,d=e.isGroupBoard,m=e.isORBACProfileManager,v=e.isOwnBoard,g=e.pin,b=e.showImageOnly,P=e.showNativeReactions,w=e.showPromotedShoppingPrice,S=e.surface,x=e.viewer,O=e.variantData,A=(0,a.Z)(g),j=A.isPromoted,E=A.isSponsored,T=g.pin_note,I=function(e){var t=e.attributionOption,n=e.feedbackType,r=e.isGroupBoard,o=e.pin,i=e.showImageOnly,a=e.surface,l=o.is_downstream_promotion,c=o.native_creator,s=o.promoter,u=o.sponsorship,d=o.story_pin_data_id;if("promoted"===n||s&&!l||u)return"default";if("ConversationView"!==a&&y.includes(a))return"none";if(r)return"none";var p="default";return"SearchItem"===a&&d?p:(t&&("image-only"===t?p="image-only-credit":"hide"===t&&(p="none")),"followed"!==n||i?["IdeasHubSeasonalRow","TodayArticleFeed","ShoppingPackageItem"].includes(a)&&"hide"===t?p:"TodayArticleFeed"===a&&"show"===t?"show-for-claimed-content":c?"default":"none":p)}({attributionOption:n,feedbackType:s,isGroupBoard:d,pin:g,showImageOnly:b,surface:S}),C=null!=O&&O.title?O.title:c({isGroupBoard:d,pin:g,surface:S}),D=b?"":C,R=!["ShoppingPackageItem","ShoppingSquareGridDomain","ShoppingSquareGridStorefrontDomain","ShoppingSquareGridStorefront"].includes(S)&&!j&&!b&&Boolean(p(g,S)),k=["ShoppingGridShippedMetadataWithVisitButton"].includes(S),z="BaseBoardPinGrid"===S&&T?null===(t=T.text)||void 0===t?void 0:t.trim():null,N=j,L="shopping"===o;"AuthHomefeed"!==S||j||(P=!1);var M,B,Z,F,U=2;if(j?U=3:(R||"none"!==I)&&(U=L?2:1),L||w){var G,V,H=((null===(G=g.rich_summary)||void 0===G||null===(V=G.products)||void 0===V?void 0:V[0])||{}).offer_summary;M=H?H.standard_price:void 0,B=H?(0,f.Z)(H):void 0}if(O){var W=O.offerSummary;M=W?W.standard_price:void 0,B=W?W.price||W.max_price:void 0}if(L&&!j){var K,Y,X,q=(null===(K=g.rich_summary)||void 0===K?void 0:K.aggregate_rating)||{},J=q.rating_count,$=q.rating_value,Q=q.review_count;(J||Q)&&parseFloat($)&&(Z={count:J||Q,rating:$}),F=null===(Y=g.rich_metadata)||void 0===Y||null===(X=Y.products)||void 0===X?void 0:X[0].shipping_info}var ee=(0,h.rh)(g,x,i),te="CreatorProfileStoryPinGrid"===S||"CreatorProfileActivityPinGrid"===S,ne=!te,re=d&&!E;return{attributionType:I,board:r,contentType:o,feedbackData:l,feedbackType:s,pinNoteText:z,pinTitle:D,productCurrentPrice:B,productOriginalPrice:M,productRating:Z,productShipping:F,showCarouselEllipsis:u,showFavoriteButton:!m&&("BaseBoardPinGrid"===S&&v||Boolean((null==r?void 0:r.is_collaborative)&&(0,_.Z)({board:r,viewer:x})))&&!te,showGroupBoardAvatar:re,showNativeReactions:P,showOverflowMenu:N,showPinStats:ee,showSource:R,showTextContent:ne,showVisitSiteButton:k,showAttribution:!0,titleLines:U}}var v=n(27255),g=n(121630),b=n(704177),P=n(841478),w=n(53325);var S=["ShoppingCatalogsProductsMetadata"];var x=["BoardCreateUpsell","BoardCoverSelectablePin","BoardNoteSelectablePin","BoardNotePin","BulkEditMode","EngagementDetails","SectionSuggestedPins","SelectableBoardlessPin"],O=["BoardCreateUpsell","BoardCoverSelectablePin","BoardNoteSelectablePin","BoardNotePin","BulkEditMode","ConversationView","EngagementDetails","SectionSuggestedPins","SelectableBoardlessPin","ShoppingCatalogsProductsMetadata"];var A=n(221263),j=n(319915);function E(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function T(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?E(Object(n),!0).forEach((function(t){I(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):E(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function I(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function C(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return Object.keys(e).reduce((function(n,r){return t.includes(r)?n:T(T({},n),{},I({},r,e[r]))}),{})}var D=n(675725),R=n(687551),k=n(954571);var z=n(976071),N=n(411938),L=n(108529),M=n(463045),B=n(947599),Z=n(898781),F=n(717615),U=n(436395),G=n(19121),V=n(908390),H=n(407043),W=n(515198);function K(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Y(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var X=["CreatorProfileStoryPinGrid","CreatorProfileActivityPinGrid"],q={component:210,view_type:4,view_parameter:3106},J={view_type:5,view_parameter:3069},$={component:13668,view_type:4,view_parameter:3106};function Q(e){var t,n=e.pinId,r=e.surface,o=(0,H.v)().logContextEvent,i=(0,Z.ZP)(),a=function(){var e=X.includes(r)?$:"BaseBoardPinGrid"===r?J:"UserProfilePinGrid"===r?q:{};o(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?K(Object(n),!0).forEach((function(t){Y(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):K(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({event_type:101,element:10573},e))},l=i._('See more stats', 'pinRep.actionBar.seeStatsButton', 'Button that will re-direct user to detailed stats page');return(0,W.jsx)(V.xu,{"data-test-id":"see-stats-button",paddingX:3,paddingY:3,children:X.includes(r)?(0,W.jsx)(V.zx,{role:"link",accessibilityLabel:i._('Go to pin stats details page', 'pinRep.actionBar.seeStatsButton', 'This button will take the user to their detailed pin stats page for the pin'),color:"semiTransparentWhite",fullWidth:!0,href:"/pin/".concat(n,"/analytics"),onClick:a,size:"sm",text:(t=l,t.length>14?"".concat(t.substring(0,12).trim(),"..."):t)}):(0,W.jsx)(V.hU,{role:"link",accessibilityLabel:i._('Go to pin stats details page', 'pinRep.actionBar.seeStatsButton', 'This icon button will take the user to their detailed pin stats page for the pin'),bgColor:"white",href:"/pin/".concat(n,"/analytics"),icon:"ads-stats",iconColor:"darkGray",onClick:a,size:"sm"})})}var ee=n(681227),te=n(697247),ne=n(576440),re=n(965900),oe=n(773285),ie=n(578722),ae=n(130460),le=n(350118),ce=n(329734),se=n(243943),ue=n(99137),de=n(698330),pe=n(241244),fe=n(95551),_e=n(699825),he=n(768559),ye=n(89254);function me(e,t){var n=e.carousel_data,r=e.domain,o=e.ad_destination_url,i=r||"";return o&&(i=(0,ye.Z)(o).hostname||""),n&&n.id&&(i=function(e,t){var n=t||e&&e.index||0,r=e&&e.carousel_slots||[],o=r[n]&&r[n].link||"";return o&&(0,ye.Z)(o).hostname||""}(n,t)),i.replace("www.","")}var ve=n(287072),ge=n(199387),be=n(609500);function Pe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function we(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Pe(Object(n),!0).forEach((function(t){Se(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Pe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Se(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function xe(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,i=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(c){l=!0,o=c}finally{try{a||null==n.return||n.return()}finally{if(l)throw o}}return i}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Oe(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Oe(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Oe(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Ae={container:{backgroundColor:"rgba(255, 255, 255, 0.9)",borderRadius:18,height:"32px",maxWidth:"132px"},containerHovered:{backgroundColor:"rgba(255, 255, 255, 1.0)"},containerTruncated:{maxWidth:"87px"},text:{color:"#333333"}};function je(e){var t,n,o=e.pin,i=e.sourceLinkStyle,a=e.surface,l=e.url,c=(0,Z.ZP)(),s=xe((0,r.useState)(!1),2),u=s[0],p=s[1],f=o.id,_=me(o),h=(0,be.useLocation)(),y=(0,d.Kl)(o)||{},m=(0,ne.E)().slotIndex,v=(0,he.Z)({boardUrl:null===(t=o.board)||void 0===t?void 0:t.url,callToCreateSourcePinId:o.call_to_create_source_pin_id,location:h,pinId:o.id,pinnerUserName:null===(n=o.pinner)||void 0===n?void 0:n.username,storyPinDataId:o.story_pin_data_id,trackingParams:o.tracking_params,trackingParamsMap:o.tracking_params_map}),g=(0,ge.Z)(12,{object_id_str:f,clientTrackingParams:v,aux_data:we({grid_index:m},(0,d.Kl)(o)||{})}),b=(0,ge.Z)(101,{element:162,object_id_str:f,clientTrackingParams:v,aux_data:we({},(0,d.Kl)(o)||{})}),P=(0,ge.Z)(8948,{object_id_str:f,clientTrackingParams:v,aux_data:we({click_type:"clickthrough",closeup_navigation_type:"click",grid_index:m},(0,d.Kl)(o)||{})}),w=function(){g(),b(),P()},S=(0,ve.Z)({href:l,target:"blank",externalData:{auxData:y,pin:o,surface:a}});return"icon-only"===i?(0,W.jsx)(V.hU,{accessibilityLabel:c._('link', 'Website url link', 'Website url link'),bgColor:"white",href:l,icon:"arrow-up-right",iconColor:"darkGray",onClick:function(e){var t=e.event;(0,e.dangerouslyDisableOnNavigation)(),w(),S({event:t})},role:"link",rel:"nofollow",size:"sm"}):(0,W.jsx)(V.xu,{dangerouslySetInlineStyle:{__style:we(we(we({},Ae.container),u?Ae.containerHovered:Object.freeze({})),"truncated-text"===i?Ae.containerTruncated:Object.freeze({}))},"data-test-id":"pinrep-source-link",onMouseEnter:function(){return p(!0)},onMouseLeave:function(){return p(!1)},position:"relative",children:(0,W.jsx)(_e.Z,{hovered:u,pin:o,slotIndex:m,viewType:1,children:(0,W.jsx)(V.iP,{fullWidth:!1,href:l,onTap:function(e){var t=e.event;(0,e.dangerouslyDisableOnNavigation)(),w(),S({event:t})},rel:"nofollow",role:"link",rounding:4,children:(0,W.jsxs)(V.xu,{alignItems:"baseline",dangerouslySetInlineStyle:{__style:Ae.text},display:"flex",justifyContent:"between",children:[(0,W.jsx)(V.xu,{display:"flex",flex:"none",marginTop:3,marginBottom:3,marginStart:3,children:(0,W.jsx)(V.JO,{accessibilityLabel:c._('link', 'Website url link', 'Website url link'),color:"default",icon:"arrow-up-right",size:9})}),(0,W.jsx)(V.xu,{alignItems:"center",display:"flex",height:18,marginStart:2,marginEnd:3,overflow:"hidden",children:(0,W.jsx)(V.xv,{color:"default",size:"200",weight:"bold",lineClamp:1,children:_})})]})})})})}var Ee=n(538232),Te=n(50286),Ie=n(780280);function Ce(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function De(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ce(Object(n),!0).forEach((function(t){Re(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ce(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Re(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ke(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,i=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(c){l=!0,o=c}finally{try{a||null==n.return||n.return()}finally{if(l)throw o}}return i}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return ze(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ze(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ze(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Ne=(0,r.lazy)((function(){return Promise.all([n.e(97270),n.e(10903),n.e(34685),n.e(78120),n.e(48035)]).then(n.bind(n,43819))})),Le=(0,r.lazy)((function(){return Promise.resolve().then(n.bind(n,955362))})),Me=(0,r.lazy)((function(){return n.e(5035).then(n.bind(n,351326))}));var Be=function(e){var t=e.pinId,n=(0,Ee.R)().onSendButtonClick,r=(0,ge.Z)(101,{element:72,object_id_str:t});return(0,W.jsx)(fe.Z,{onSendButtonClick:n,trackShareTap:r,size:"sm",bgColor:"white"})},Ze=(0,r.memo)((function(e){var t,n,o=e.actionBarEditBeforeShare,i=e.feedbackData,l=e.feedbackType,c=e.layout,s=e.onToggleFlyout,u=e.pin,d=e.pinTitle,p=e.setForcePrimary,f=e.showEditButton,_=e.showOverflowMenu,h=e.showShareButton,y=e.showSourceLinkButton,m=e.sourceLinkStyle,v=e.surface,g=(0,Z.ZP)(),b=(0,V.JZ)(),P=(0,Ie.B)().isRTL,w=!(0,Te.HG)(),S=(0,ne.E)(),x=S.viewParameter,O=S.viewType,A=u.carousel_data,E=u.id,T=u.savedInfo,I=u.tracked_link,C=u.link,D=u.ad_destination_url,R=null!==(t=null!==(n=null!=D?D:I)&&void 0!==n?n:C)&&void 0!==t?t:"",k=(0,a.Z)(u).isLeadPin,z=ke((0,r.useState)(f),2),N=z[0],L=z[1],M=ke((0,r.useState)(f),2),F=M[0],U=M[1],G=ke((0,r.useState)(f),2),H=G[0],K=G[1],Y=De(De({},P?{marginLeft:f&&_?-44:0}:{marginRight:f&&_?-44:0}),{},{transition:P?"margin-left .2s ease-in-out":"margin-right .2s ease-in-out"}),X={opacity:H?1:0,transition:"opacity .2s ease-in-out",pointerEvents:"auto"},q=De(De({},P?{marginRight:F?4:0}:{marginLeft:F?4:0}),{},{transition:P?"margin-right .2s ease-in-out":"margin-left .2s ease-in-out"});(0,r.useEffect)((function(){var e;return f&&_?(U(!0),e=setTimeout((function(){requestAnimationFrame((function(){L(!0),requestAnimationFrame((function(){K(!0)}))}))}),800)):(U(f),L(f),requestAnimationFrame((function(){K(f)}))),function(){clearTimeout(e)}}),[f,_]);var J=null;y&&(J=(0,W.jsx)(pe.Z,{children:k?(0,W.jsx)(V.zx,{role:"button",accessibilityLabel:g._('Link for closeup view and sign up', '[m10n] pinRep.actionBar.signup', 'Content for sign up link'),size:"sm",text:g._('Sign up', '[m10n] pinRep.actionBar.signup', 'Content for sign up link')}):(0,W.jsx)(je,{pin:u,sourceLinkStyle:m,surface:v,url:R})}));var $=h&&(0,W.jsx)(j.Z,{name:"SafeSuspense_PinRep_SendShareLink",children:(0,W.jsx)(B.Z,{children:(0,W.jsx)(V.xu,{"data-test-id":"send-share-link",children:(0,W.jsx)(pe.Z,{children:w?(0,W.jsx)(Be,{pinId:u.id}):(0,W.jsx)(Me,{pin:u,setForcePrimary:p})})})})}),Q=Boolean(null==T?void 0:T.localPinId)?null==T?void 0:T.localPinId:E,ee=N&&(0,W.jsx)(j.Z,{name:"SafeSuspense_PinRep_EditButton",children:(0,W.jsx)(B.Z,{children:(0,W.jsx)(V.xu,{"data-test-id":"edit-button",dangerouslySetInlineStyle:b?void 0:{__style:X},children:(0,W.jsx)(pe.Z,{children:(0,W.jsx)(Ne,{carouselSlotCurrentIndex:A&&A.index,component:0,onToggleModal:s,pinId:Q,style:{size:"sm"},view:O,viewParameter:x,useLegoStyles:!0})})})})});return"equally-spaced"===c?(0,W.jsxs)(V.xu,{display:"flex",justifyContent:"between",alignItems:"center",padding:3,children:[(0,W.jsx)(V.xu,{dangerouslySetInlineStyle:{__style:{flexBasis:32}},children:J}),o?ee:$,o?$:ee]}):(0,W.jsxs)(V.xu,{alignItems:"center",display:"flex",padding:3,children:[(0,W.jsx)(V.xu,{flex:"shrink",children:J}),(0,W.jsx)(V.xu,{alignItems:"center",display:"flex",flex:"none",marginStart:"auto",dangerouslySetInlineStyle:b?void 0:{__style:Y},children:(0,W.jsxs)(V.kC,{alignItems:"center",gap:{row:2,column:0},justifyContent:"end",children:[o?ee:$,o?$:ee,_&&(0,W.jsx)(j.Z,{name:"SafeSuspense_PinRep_OverflowMenu",children:(0,W.jsx)(B.Z,{children:(0,W.jsx)(V.xu,{"data-test-id":"overflow-menu-button",dangerouslySetInlineStyle:b?void 0:{__style:q},children:(0,W.jsx)(pe.Z,{children:(0,W.jsx)(Le,{feedbackData:i,feedbackType:l,pin:u,pinTitle:d,setForcePrimary:p})})})})})]})})]})})),Fe=n(834911),Ue=n(447948);function Ge(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ve(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ge(Object(n),!0).forEach((function(t){He(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ge(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function He(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function We(e){var t=e.direction,n=e.swipeHandler,r=(0,Z.ZP)(),o={left:r._('View Previous', 'Button to advance carousel to the previous image', 'Button to advance carousel to the previous image'),right:r._('View Next', 'Button to advance carousel to the next image', 'Button to advance carousel to the next image')};return(0,W.jsx)(V.xu,{position:"absolute",bottom:!0,top:!0,left:"left"===t,right:"right"===t,children:(0,W.jsx)(V.iP,{fullHeight:!0,fullWidth:!0,onTap:n,children:(0,W.jsx)(V.xu,{alignItems:"center",display:"flex",height:"100%",justifyContent:"center",padding:2,width:"100%","data-test-id":"carousel-slider-".concat(t),children:(0,W.jsx)(V.JO,{accessibilityLabel:o[t],color:"inverse",icon:{left:"arrow-back",right:"arrow-forward"}[t]})})})})}var Ke=(0,o.connect)(null,(function(e){return{changeCarouselSlotIndex:function(t,n){return e((0,Ue.yR)(t,n))}}}))((function(e){var t=e.pin,n=e.changeCarouselSlotIndex,r=(0,H.v)().logContextEvent,o=(0,ne.E)(),i=o.componentType,a=o.viewParameter,l=o.viewType,c=(0,Fe.Z)({carouselData:t.carousel_data,images:t.images,richMetadata:t.rich_metadata,richSummary:t.rich_summary});if(!c)return null;var s=t.id,u=void 0===s?"":s,p=c.carousel_slots,f=void 0===p?[]:p,_=c.index,h=void 0===_?0:_,y=c.id;function m(e){return function(){var o="left"===e?h-1:h+1;n(u,o),function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1?arguments[1]:void 0;r({event_type:108,object_id_str:u,component:i,view_type:l,view_parameter:a,event_data:{pinCarouselSlotEventData:{carouselSlotId:f[e]&&Number(f[e].id),carouselDataId:Number(y),carouselSlotIndex:e,toCarouselSlotIndex:n}},aux_data:Ve({},(0,d.Kl)(t)||{})})}(h,o)}}return(0,W.jsxs)(V.xu,{height:"100%",position:"relative",width:"100%",children:[h>0&&(0,W.jsx)(pe.Z,{children:(0,W.jsx)(We,{direction:"left",swipeHandler:m("left")})}),h<f.length-1&&(0,W.jsx)(pe.Z,{children:(0,W.jsx)(We,{direction:"right",swipeHandler:m("right")})})]})})),Ye=n(337986),Xe=n(116303);function qe(e){var t=e.accessibilityLabel,n=e.attributionNameLink,r=e.avatarUrl,o=e.fullWidth,i=void 0===o||o,a=e.name,l=void 0===a?"":a,c=e.onClick,s=e.outline,u=void 0!==s&&s,d=e.size,p=void 0===d?32:d,f=e.shouldRenderAdsOnlyProfileClick,_=void 0!==f&&f,h=(0,W.jsx)(V.xu,{"data-test-id":"attribution-avatar",height:p,width:p,children:(0,W.jsx)(Xe.Z,{name:l,src:r,accessibilityLabel:"",outline:u})});return n?(0,W.jsx)(V.iP,{fullWidth:i,role:"link",href:n,rel:_?"nofollow":void 0,target:_?"blank":void 0,onTap:c,accessibilityLabel:t,children:h}):h}function Je(e){var t=e.isHover,n=e.attributionNameLink,r=e.name,o=e.onClick,i=e.regularWeight,a=(0,oe.F)().checkExperiment,l=!n&&a("web_disable_ads_blocker").anyEnabled;return(0,W.jsx)(V.xu,{children:(0,W.jsx)(V.xv,{underline:t,size:"200",lineClamp:1,weight:i?"normal":"bold",children:n?(0,W.jsx)(V.rU,{onClick:o,href:n,children:r}):l?(0,W.jsx)("span",{children:r}):r})})}function $e(e){var t=e.isHover,n=e.link,r=e.onClick,o=e.title,i=e.weight;return o?(0,W.jsx)(V.xv,{inline:!0,underline:t,size:"200",weight:i,children:n?(0,W.jsx)(V.rU,{onClick:r,href:n,children:o}):o}):null}var Qe=n(865607),et=n(807532);function tt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function nt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?tt(Object(n),!0).forEach((function(t){rt(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):tt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function rt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ot(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,i=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(c){l=!0,o=c}finally{try{a||null==n.return||n.return()}finally{if(l)throw o}}return i}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return it(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return it(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function it(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function at(e){var t=e.attributionNameLink,n=e.attributionTitle,o=e.avatarUrl,i=e.display,l=void 0===i?"default":i,c=e.isPromotedByPinCreator,s=e.pin,u=e.name,d=e.url,p=e.verifiedIdentity,f=e.isVerifiedMerchant,_=e.shouldRenderAdsOnlyProfileClick,h=(0,et.f)(),y=ot((0,r.useState)(!1),2),m=y[0],v=y[1],g=s.id,b=s.sponsorship,P=s.story_pin_data_id,w=(0,a.Z)(s).isPromoted,S=(0,H.v)().logContextEvent,x=((b||{}).creator||{}).id,O=!!P,A=(0,ge.Z)(101,{view_type:3,element:w?283:27,object_id_str:g,component:O?230:void 0,aux_data:nt({},x?{creator_id:x,pin_id:g}:{})}),j=function(){h.setMostRecentPinId(g),A()},E=function(){v((function(e){return!e}))},T=d&&!t,I=T?"":u,C="overlay"===l,D=(0,W.jsxs)(V.xu,{alignItems:"center",display:C?void 0:"flex",dangerouslySetInlineStyle:{__style:{marginLeft:"-3px",marginRight:"-3px"}},children:[(0,W.jsx)(V.xu,{flex:"none",dangerouslySetInlineStyle:{__style:{marginLeft:"3px",marginRight:"3px"}},display:C?"flex":void 0,justifyContent:"center",children:(0,W.jsx)(V.xu,{dangerouslySetInlineStyle:C?{__style:{marginTop:-45}}:void 0,children:(0,W.jsx)(qe,{attributionNameLink:I?t:void 0,avatarUrl:o,name:I,onClick:function(){return j()},accessibilityLabel:I,size:C?64:32,outline:C})})}),(0,W.jsxs)(V.xu,{dangerouslySetInlineStyle:{__style:{marginLeft:"3px",marginRight:"3px"}},flex:"grow",overflow:"hidden",display:C?"flex":void 0,justifyContent:"center",marginTop:C?2:void 0,children:[(0,W.jsx)(V.xu,{dangerouslySetInlineStyle:{__style:{marginBottom:"2px"}},children:(0,W.jsxs)(V.kC,{gap:{row:1,column:0},children:[(0,W.jsx)(Je,{attributionNameLink:t,name:u,onClick:function(){return j()},regularWeight:!(w&&!b||c),isHover:m}),(0,W.jsx)(Qe.Z,{size:"sm",hasVerifiedIdentity:p,isVerifiedMerchant:f})]})}),(0,W.jsx)($e,{isHover:m,title:n,weight:"normal"})]})]});return T?(0,W.jsx)(V.iP,{role:"link",onTap:function(e){var t=e.event;_&&S({event_type:9371,element:13382,aux_data:{aop_origin:"Attribution"}}),t.stopPropagation(),j()},href:d,rel:_?"nofollow":void 0,target:_?"blank":void 0,onMouseEnter:E,onMouseLeave:E,children:D}):D}var lt=n(356725),ct=n(333312),st=n(695014),ut=n(676464),dt=n(596493),pt=n(422946),ft=n(956800),_t=n(852025);function ht(e){var t=e.board,n=e.favoriteCount,i=e.favorited,a=e.pinId,l=(0,H.v)().logContextEvent,c=(0,o.useDispatch)(),s=(0,ne.E)().slotIndex,u=(0,_t.s)(),d=u.currentFilter,p=u.eligibleFilters,f=u.refreshData,_=void 0===f?function(){}:f,h=u.sectionId,y=u.setShowExperienceTooltip,m=(0,r.useRef)(null),v=(0,G.Z)(),g=(0,A.Z)(v,t),b=d===dt.Ac&&(!n||1===n),P=(0,ut.E)(p,dt.Ac),w=function(e){l({event_type:101,component:0,element:e?12225:12226,object_id_str:a,view_type:5,view_parameter:g?3069:3070})};return(0,W.jsxs)(r.Fragment,{children:[(0,W.jsx)(V.xu,{ref:m,children:(0,W.jsx)(st.Z,{favorited:i,favoriteCount:n,onFavorite:function(){w(!0),P&&_(),y&&y(!0)},onUnfavorite:function(){w(!1),t&&b&&c((0,ft.EX)({feedId:h||t.id,feedType:h?pt.DV.BOARD_SECTION_PINS:pt.DV.BOARDFEED,itemIds:[a],itemType:"pin"}))},pinId:a,size:20})}),m&&!i&&!h&&0===s&&(0,W.jsx)(V.mh,{children:(0,W.jsx)(ct.default,{anchor:m.current,experienceIds:[502973],flyoutSize:312,idealDirection:"up",placementId:18,positionRelativeToAnchor:!1,showCaret:!0,textAlign:"center"})})]})}var yt,mt=n(850115),vt=n.n(mt),gt=n(379507),bt=n.n(gt),Pt=n(637956),wt=n.n(Pt),St=n(694379),xt=n(909745),Ot=n.n(xt),At=n(128206),jt=n.n(At);function Et(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Tt={goodIdea:vt(),love:wt(),thanks:Ot(),wow:jt(),haha:bt()},It=(Et(yt={},7,"goodIdea"),Et(yt,1,"love"),Et(yt,13,"thanks"),Et(yt,11,"wow"),Et(yt,5,"haha"),yt),Ct=["CreatorProfileStoryPinGrid"];var Dt=function(e){var t=e.alignment,n=void 0===t?"start":t,r=e.pinId,o=e.pinner,i=e.reactionCounts,a=e.surface,l=(0,G.Z)(),c=i?(0,ee.At)(i):null,s=i?(0,ee.Ud)(i):0,u=Boolean(l.isAuth&&(null==o?void 0:o.id)===l.id),d=!!c&&c.length>0&&c.map((function(e,t){var n=Tt[It[e]];return(0,W.jsx)(V.xu,{dangerouslySetInlineStyle:{__style:{marginRight:2}},children:(0,W.jsx)(V.xu,{width:17,height:17,dangerouslySetInlineStyle:{__style:{backgroundImage:"url(".concat(n,")"),backgroundPosiiton:"center",backgroundRepeat:"no-repeat",backgroundSize:"cover"}}})},t)})),p=!!d&&(0,W.jsx)(V.iP,{role:"link",href:"/pin/".concat(r,"/"),children:(0,W.jsxs)(V.xu,{display:"flex",direction:"row",alignItems:"center",justifyContent:n,height:19,paddingY:3,children:[(0,W.jsx)(V.kC,{alignItems:"stretch",justifyContent:"start",direction:"row",children:d}),(0,W.jsx)(V.xu,{paddingX:1,children:(0,W.jsx)(V.xv,{size:"200",children:(0,W.jsx)(St.Z,{value:s,shortform:!0,shortformMaximumFractionDigits:1})})})]})}),f=u&&Ct.includes(a)&&(0,W.jsx)(V.xu,{height:24});return p||f},Rt=n(62700),kt=n(862628);function zt(e){var t=e.feedbackType,n=e.pin,r=(0,Z.ZP)(),o=n.pinner,i=n.source_interest,a=o||{},l=a.full_name,c=a.username,s=(i||{}).name,u="topic"===t,d=!u&&"followed"===t,p="/".concat(c,"/"),f=(0,kt.Z)(s),_="/search/pins/?q=".concat(encodeURIComponent(f),"&rs=image_only_attribution"),h=u?_:p,y={topic:r._('From {topic}', 'attribution on pin rep', 'attribution on pin rep'),followed:r._('From {pinnerName}', 'attribution on pin rep', 'attribution on pin rep'),pfyBoard:r._('Picked for you', 'attribution on pin rep', 'attribution on pin rep'),pfy:r._('Picked for you', 'attribution on pin rep', 'attribution on pin rep')}[t];if(!y)return null;if(d||u){var m=0===y.indexOf("{"),v=u?s:l,g=m?y.slice(y.indexOf("}")+1):y.slice(0,y.indexOf("{"));return m?(0,W.jsxs)(V.xu,{children:[(0,W.jsx)(V.rU,{display:"inlineBlock",href:h,underline:"hover",children:(0,W.jsx)(V.xv,{weight:"bold",inline:!0,size:"200",lineClamp:1,children:v})}),(0,W.jsx)(V.xv,{inline:!0,size:"200",children:g})]}):(0,W.jsxs)(V.xu,{children:[(0,W.jsx)(V.xv,{inline:!0,size:"200",children:g}),(0,W.jsx)(V.rU,{display:"inlineBlock",href:h,underline:"hover",children:(0,W.jsx)(V.xv,{color:"default",weight:"bold",inline:!0,size:"200",lineClamp:1,children:v})})]})}return(0,W.jsx)(V.xu,{children:(0,W.jsx)(Rt.Z,{pin:n,children:(0,W.jsx)(V.xv,{color:"default",overflow:"normal",size:"200",weight:"bold",children:y})})})}var Nt=n(955362),Lt=n(397066),Mt=n(48714);function Bt(e){return(Bt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Zt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ft(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Zt(Object(n),!0).forEach((function(t){Xt(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Zt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ut(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Gt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Vt(e,t){return(Vt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Ht(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Yt(e);if(t){var o=Yt(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Wt(this,n)}}function Wt(e,t){if(t&&("object"===Bt(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Kt(e)}function Kt(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Yt(e){return(Yt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Xt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var qt=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Vt(e,t)}(i,e);var t,n,r,o=Ht(i);function i(){var e;Ut(this,i);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return Xt(Kt(e=o.call.apply(o,[this].concat(n))),"state",{spamCheck:null}),Xt(Kt(e),"mounted",!1),Xt(Kt(e),"handleSpammyDomainCheck",(function(){var t=e.props,n=t.location,r=t.pin,o=t.surface,i=t.url;i&&r&&(0,Mt.$3)({location:n,pin:r,surface:o})&&(0,Mt.iw)({isMounted:e.mounted,pin:r,location:n,spamCheckCallback:function(t){return e.setState({spamCheck:t})},href:i})})),Xt(Kt(e),"handleClick",(function(t){var n=e.props,r=n.auxData,o=n.location,i=n.onClick,a=n.pin,l=n.pinId,c=n.url,s=n.logContextEvent;(0,Mt.gV)({isOffsiteUrl:!0,event:t})||(t.preventDefault(),i&&i(t),c&&(0,Lt.h)({href:c,pinId:l,pin:a,location:o,auxData:r},s))})),e}return t=i,(n=[{key:"componentDidMount",value:function(){this.mounted=!0,this.handleSpammyDomainCheck()}},{key:"componentWillUnmount",value:function(){this.mounted=!1}},{key:"componentDidUpdate",value:function(){null===this.state.spamCheck&&this.handleSpammyDomainCheck()}},{key:"render",value:function(){var e=this.props,t=e.children,n=e.pin,r=e.url;return(0,W.jsx)("a",{"aria-label":(null==n?void 0:n.domain)||"",href:r,onClick:this.handleClick,rel:"nofollow",style:{color:"inherit",textDecoration:"none",outline:"none",cursor:"pointer",display:"block"},target:null,children:t})}}])&&Gt(t.prototype,n),r&&Gt(t,r),i}(r.Component);function Jt(e){var t,n=(0,H.v)().logContextEvent,r=(0,le.S6)()(null!==(t=e.pinId)&&void 0!==t?t:"");return(0,W.jsx)(qt,Ft(Ft({},e),{},{history:(0,be.useHistory)(),location:(0,be.useLocation)(),logContextEvent:n,match:(0,be.useRouteMatch)(),pin:r}))}function $t(e){if(!window||!window.prefetchCompletion||!window.prefetchCompletion[e])return"0";var t=window.prefetchCompletion[e],n=t.downloadedAssets,r=t.totalAssets;return r?(n/r*100).toFixed(3).toString():"-1"}var Qt=n(941646),en=n(385740);function tn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function nn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?tn(Object(n),!0).forEach((function(t){rn(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):tn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function rn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function on(e){var t,n=e.children,r=e.componentType,o=e.contextLogData,i=e.pin,a=e.surface,l=e.viewParameter,c=e.viewType,s=(0,H.v)().logContextEvent,u=(0,ne.E)(),d=i.ad_destination_url,p=i.carousel_data,f=i.id,_=i.link,h=i.tracked_link,y=d||h||_||"",m="one-tap-desktop",v=(0,en.SU)();if(p){var g=p.carousel_slots,b=void 0===g?[]:g,P=p.id,w=p.index,S=void 0===w?0:w;b[S]&&b[S].link&&(y=b[S].link),t={carousel_slot_id:b[S]&&b[S].id,carousel_data_id:P,carousel_slot_index:S},m+="-carousel"}return(0,W.jsx)(V.xu,{"data-test-id":"otpp",children:(0,W.jsx)(Qt.Z,{id:m,children:(0,W.jsx)(Jt,{auxData:t,onClick:function(){s({event_type:12,view_type:c||u.viewType,view_parameter:l||u.viewParameter,component:r||u.componentType,object_id_str:f,aux_data:nn(nn({},o),{},{grid_index:u.slotIndex,pin_id:f,prefetch_percentage_complete:$t(_||"")})}),s({event_type:8948,view_type:c||u.viewType,view_parameter:l||u.viewParameter,component:r||u.componentType,object_id_str:f,aux_data:nn(nn({},o),{},{click_type:"clickthrough",closeup_navigation_type:"click",grid_index:u.slotIndex,pin_id:f,prefetch_percentage_complete:$t(_||"")})}),s({event_type:13,object_id_str:f,component:r||u.componentType,view_type:3,aux_data:nn(nn({closeup_navigation_type:"web_closeup"},u.contextLogData),o)}),s({event_type:13,view_type:v.viewType,view_parameter:v.viewParameter,view_data:v.viewData})},pinId:f,surface:a,url:y,children:n})})})}function an(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ln(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function cn(e){var t=e.pin,n=e.surface,r=(0,a.Z)(t),o=r.isOneTap,i=r.isVideo,l=r.isPromoted,c=!r.isLeadPin&&(o||i&&l)?on:Rt.Z;return(0,W.jsx)(c,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?an(Object(n),!0).forEach((function(t){ln(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):an(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({surface:o?n:void 0},C(e,["surface"])))}function sn(e){var t=e.pin,n=e.pinNoteText;return(0,W.jsx)(cn,{pin:t,children:(0,W.jsx)(V.xv,{lineClamp:1,overflow:"normal",size:"200",children:n})})}var un=n(81226);function dn(e){var t=e.value,n=e.valueFormat,r=(0,Z.ZP)();return t||0===t?"TIME"===n?(0,un.Z)(t):(0,W.jsx)(St.Z,{shortform:!0,shortformMaximumFractionDigits:1,value:t}):(0,W.jsx)(V.u,{idealDirection:"up",text:r._('This stat is not available yet', 'closeup.partnerAnalytics.unavailableStat', 'when data for this field has not populated yet'),children:""})}function pn(e){var t,n=e.pin,r=(0,Z.ZP)(),o=(0,G.Z)(),i=(0,a.Z)(n),l=i.isStoryPin,c=i.isVideo,s=o.isAuth&&(null===(t=n.pinner)||void 0===t?void 0:t.id)===o.id&&!n.is_repin,u=o.isAuth&&o.isPartner,d=(0,ie.iL)({isOwnPin:s,isPartner:u}),p=(0,ie.H1)({isOwnPin:s,isPartner:u}),f=n.created_at?new Date(n.created_at):null,_=(d||p)&&f&&f.getTime()<=ie.HW.getTime(),h=d?function(e){var t=e.public_creator_analytics;return(0,a.Z)(e).isStoryPin&&t?t:null}(n):function(e){var t=e.aggregated_pin_data,n=e.creator_analytics,r=(t||{}).creator_analytics,o=(0,a.Z)(e).isStoryPin;return!n||!o&&r?r:n}(n),y=function(e){var t=e.isVideo,n=e.isStoryPin,r=e.i18n,o=e.showPublicPinStats,i=e.showPrivateFullScreenPinStats;return t?[{align:"start",displayText:r._('Video views', 'pinRep.pinStats.videoViews', 'Label for views of a video pin on pinrep'),field:"video_views",iconType:"play"},{align:"center",displayText:r._('Avg. time', 'pinRep.pinStats.videoAverageTime', 'Label for average time of a video pin on pinrep'),field:"video_average_time",iconType:"clock",valueFormat:"TIME"},{align:"end",displayText:r._('Saves', 'pinRep.pinStats.save', 'Label for saves of a video pin on pinrep'),field:"save",iconType:"angled-pin"}]:n?o?[{align:"start",displayText:r._('Full screen plays', 'pinRep.pinStats.fullScreenPlays', 'Label for how many times the Idea Pin has been played full screen'),field:"full_screen_play",iconType:"play"}]:i?[{align:"start",displayText:r._('Full screen plays', 'pinRep.pinStats.fullScreenPlays', 'Label for how many times the Idea Pin has been played full screen'),field:"full_screen_play",iconType:"play"},{align:"center",displayText:r._('Impressions', 'pinRep.pinStats.impression', 'Label for impressions of a pin on pinrep'),field:"impression",iconType:"eye"},{align:"end",displayText:r._('Saves', 'pinRep.pinStats.save', 'Label for saves of a pin on pinrep'),field:"save",iconType:"angled-pin"}]:[{align:"start",displayText:r._('Impressions', 'pinRep.pinStats.impression', 'Label for impressions of a pin on pinrep'),field:"impression",iconType:"eye"},{align:"center",displayText:r._('Closeups', 'pinRep.pinStats.closeups', 'Label for closeups of a pin on pinrep'),field:"closeup",iconSize:10,iconType:"hand-pointing"},{align:"end",displayText:r._('Saves', 'pinRep.pinStats.save', 'Label for saves of a pin on pinrep'),field:"save",iconType:"angled-pin"}]:[{align:"start",displayText:r._('Impressions', 'pinRep.pinStats.impression', 'Label for impressions of a pin on pinrep'),field:"impression",iconType:"eye"},{align:"center",displayText:r._('Saves', 'pinRep.pinStats.save', 'Label for saves of a pin on pinrep'),field:"save",iconType:"angled-pin"},{align:"end",displayText:r._('Link clicks', 'pinRep.pinStats.clickthrough', 'Label for click-throughs of a pin on pinrep'),field:"clickthrough",iconSize:10,iconType:"arrow-up-right"}]}({isVideo:c,isStoryPin:l,i18n:r,showPublicPinStats:d,showPrivateFullScreenPinStats:p}),m=c||l?null==h?void 0:h.all_time_realtime:null==h?void 0:h["30d_realtime"];return(0,W.jsx)(V.kC,{alignItems:"stretch",justifyContent:"start",children:y.map((function(e){var t=e.align,n=e.displayText,r=e.field,o=e.iconType,i=e.iconSize,a=void 0===i?12:i,l=e.valueFormat;return(0,W.jsxs)(V.xu,{alignItems:"center",column:4,display:"flex",justifyContent:t,children:[(0,W.jsx)(V.xu,{display:"inlineBlock",marginEnd:1,children:(0,W.jsx)(V.JO,{accessibilityLabel:n,color:"default",icon:o,size:a})}),(0,W.jsx)(V.xv,{inline:!0,size:"200",children:(0,W.jsx)(dn,{value:"full_screen_play"===r&&_?null:null==m?void 0:m[r],valueFormat:l})})]},r)}))})}function fn(e){var t=e.currentPrice,n=e.disableLink,r=e.originalPrice,o=e.pin,i=e.surface,a=r&&r!==t,l=(0,W.jsxs)(V.kC,{alignItems:"stretch",justifyContent:"start",direction:"row",children:[t&&(0,W.jsx)(V.xv,{color:"default",size:"200",weight:"bold",children:t}),a&&(0,W.jsx)(V.xu,{dangerouslySetInlineStyle:{__style:{textDecoration:"line-through",textDecorationColor:"#767676"}},marginStart:1,children:(0,W.jsx)(V.xv,{color:"subtle",size:"200",weight:"bold",children:r})})]});return n?l:(0,W.jsx)(cn,{pin:o,surface:i,children:l})}function _n(e){var t=e.disableLink,n=e.pin,r=e.surface,o=(0,W.jsx)(V.kC,{alignItems:"stretch",justifyContent:"start",children:(0,W.jsx)(V.xv,{color:"default",lineClamp:1,overflow:"normal",size:"200",weight:"normal",children:p(n,r)})});return t?o:(0,W.jsx)(cn,{pin:n,surface:r,children:o})}var hn=n(202870);function yn(e){var t=e.disableLink,n=e.numberOfLines,r=void 0===n?2:n,o=e.pin,i=e.pinTitle,a=e.surface,l=t?i:(0,W.jsx)(cn,{pin:o,surface:a,children:i});return(0,W.jsx)(V.xv,{color:"default",lineClamp:r,size:"200",weight:"bold",children:l})}var mn=n(225692),vn={container:{padding:"8px 6px 16px"},productContainer:{padding:"12px 6px 16px"},imageOnlyAttribution:{hidden:{opacity:0,transition:"opacity ".concat(mn.X,"ms ease")},visible:{opacity:1}}};function gn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function bn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?gn(Object(n),!0).forEach((function(t){Pn(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):gn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Pn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function wn(e){var t,n,i,l,c=e.attributionType,s=e.board,u=e.feedbackData,d=e.feedbackType,p=e.hasTextContent,f=e.hasTitleOrSource,h=e.hoverTransitionState,y=e.pin,m=e.pinNoteText,v=e.pinTitle,g=e.productCurrentPrice,b=e.productOriginalPrice,P=e.setForcePrimary,w=e.showCarouselEllipsis,S=e.showFavoriteButton,x=e.showGroupBoardAvatar,O=e.showNativeReactions,A=e.showOverflowMenu,j=e.showPinStats,E=e.showSource,T=e.showTextContent,I=e.showAttribution,C=e.surface,D=e.titleLines,R=(0,Z.ZP)(),k=(0,G.Z)(),z=(0,o.useDispatch)(),N=y.favorited_by_me,L=y.favorite_user_count,M=y.id,B=y.pinner,F=y.reaction_counts,U=y.sponsorship,H=(y.story_pin_data||{}).has_affiliate_products,K=(0,oe.F)().checkExperiment,Y=function(e,t,n,r){var o,i,l,c,s,u,d,p,f,_,h,y,m,v=e.board,g=e.link_domain,b=void 0===g?{}:g,P=e.promoter,w=e.sponsorship,S=e.native_creator,x=(w||{}).sponsor,O=(0,a.Z)(e).isPromoted,A=(b||{}).official_user,j=O&&!!w&&(null==S?void 0:S.id)!==(null==P?void 0:P.id),E=e.pinner||{},T="",I="",C="",D="",R="",k="",z=!1,N=!1,L=!1;function M(e,t){return r&&!!e&&!!t}if(j)T=null!==(u=null!==(d=null==S?void 0:S.image_medium_url)&&void 0!==d?d:null==S?void 0:S.image_small_url)&&void 0!==u?u:"",I=M(null==S?void 0:S.is_ads_only_profile,null==S?void 0:S.ads_only_profile_site)?null!==(p=S.ads_only_profile_site)&&void 0!==p?p:"":"/".concat(null!==(f=null==S?void 0:S.username)&&void 0!==f?f:"","/"),C=null==P?void 0:P.full_name,D=null==S?void 0:S.full_name,k=M(null==S?void 0:S.is_ads_only_profile,null==S?void 0:S.ads_only_profile_site)?null!==(_=S.ads_only_profile_site)&&void 0!==_?_:"":"/".concat(null!==(h=null==S?void 0:S.username)&&void 0!==h?h:"","/"),R="/".concat(null!==(y=null==P?void 0:P.username)&&void 0!==y?y:"","/"),z=null==S||null===(m=S.verified_identity)||void 0===m?void 0:m.verified,N=null==S?void 0:S.is_verified_merchant,L=M(null==S?void 0:S.is_ads_only_profile,null==S?void 0:S.ads_only_profile_site);else if(O&&P)T=P.image_medium_url||P.image_small_url,C=P.full_name,D=n._('Promoted by', 'indicating the username of the person who promoted the pin', 'indicating the username of the person who promoted the pin'),k=M(P.is_ads_only_profile,P.ads_only_profile_site)?P.ads_only_profile_site:"/".concat(P.username,"/"),L=M(P.is_ads_only_profile,P.ads_only_profile_site);else if(w&&null!=x&&x.username){var B,Z,F,U,G,V,H,W,K;T=null!==(B=null!==(Z=null!==(F=null==S?void 0:S.image_large_url)&&void 0!==F?F:null==S?void 0:S.image_medium_url)&&void 0!==Z?Z:null==S?void 0:S.image_small_url)&&void 0!==B?B:"",I=M(null==S?void 0:S.is_ads_only_profile,null==S?void 0:S.ads_only_profile_site)?null!==(U=S.ads_only_profile_site)&&void 0!==U?U:"":"/".concat(null!==(G=null==S?void 0:S.username)&&void 0!==G?G:"","/"),C=x.full_name,D=null==S?void 0:S.full_name,k=M(null==S?void 0:S.is_ads_only_profile,null==S?void 0:S.ads_only_profile_site)?null!==(V=S.ads_only_profile_site)&&void 0!==V?V:"":"/".concat(null!==(H=null==S?void 0:S.username)&&void 0!==H?H:"","/"),R="/".concat(null!==(W=x.username)&&void 0!==W?W:"","/"),z=null==S||null===(K=S.verified_identity)||void 0===K?void 0:K.verified,N=null==S?void 0:S.is_verified_merchant,L=M(null==S?void 0:S.is_ads_only_profile,null==S?void 0:S.ads_only_profile_site)}else if(S){var Y,X,q,J;T=null!==(Y=null!==(X=null!==(q=S.image_large_url)&&void 0!==q?q:S.image_medium_url)&&void 0!==X?X:S.image_small_url)&&void 0!==Y?Y:"",D=S.full_name,k=M(S.is_ads_only_profile,S.ads_only_profile_site)?S.ads_only_profile_site:"/".concat(S.username,"/"),z=null===(J=S.verified_identity)||void 0===J?void 0:J.verified,N=S.is_verified_merchant,L=M(S.is_ads_only_profile,S.ads_only_profile_site)}else if("show-for-claimed-content"===t){var $,Q,ee,te,ne;null!=A&&A.is_primary_website_verified&&A.username&&(T=null!==($=null!==(Q=null!==(ee=A.image_large_url)&&void 0!==ee?ee:A.image_medium_url)&&void 0!==Q?Q:A.image_small_url)&&void 0!==$?$:"",D=A.full_name,k=M(A.is_ads_only_profile,A.ads_only_profile_site)?A.ads_only_profile_site:"/".concat(null!==(te=A.username)&&void 0!==te?te:"","/"),z=null===(ne=A.verified_identity)||void 0===ne?void 0:ne.verified,N=A.is_verified_merchant,L=M(A.is_ads_only_profile,A.ads_only_profile_site))}else{var re,oe,ie,ae;T=null!==(re=null!==(oe=null!==(ie=E.image_large_url)&&void 0!==ie?ie:E.image_medium_url)&&void 0!==oe?oe:E.image_small_url)&&void 0!==re?re:"",I="/".concat(E.username,"/"),D=E.full_name,k=v?v.url:"",z=null===(ae=E.verified_identity)||void 0===ae?void 0:ae.verified,N=E.is_verified_merchant}return{avatarUrl:null!==(o=T)&&void 0!==o?o:"",attributionNameLink:null!==(i=I)&&void 0!==i?i:"",attributionTitle:null!==(l=C)&&void 0!==l?l:"",name:null!==(c=D)&&void 0!==c?c:"",sponsorUrl:R,url:null!==(s=k)&&void 0!==s?s:"",verifiedIdentity:!!z,isVerifiedMerchant:!!N,shouldRenderAdsOnlyProfileClick:!!L}}(y,c,R,K("web_ads_only_profiles_link_redirect").anyEnabled),X=Y.avatarUrl,q=Y.attributionNameLink,J=Y.attributionTitle,$=Y.name,Q=Y.sponsorUrl,ee=Y.url,te=Y.verifiedIdentity,ne=Y.isVerifiedMerchant,re=Y.shouldRenderAdsOnlyProfileClick,ie=!!y.promoter&&!y.is_downstream_promotion,ae=ie&&(null===(t=y.native_creator)||void 0===t?void 0:t.id)===(null===(n=y.promoter)||void 0===n?void 0:n.id),le=(0,ge.Z)(101,{view_type:3,element:27,object_id_str:M,component:y.story_pin_data_id?230:void 0,aux_data:bn({pin_id:M},null!=U&&null!==(i=U.creator)&&void 0!==i&&i.id&&null!==(l=U.sponsor)&&void 0!==l&&l.id?{creator_id:U.creator.id,sponsor_id:U.sponsor.id}:{})}),ce=function e(t){return z(e(t))},se=((null==U?void 0:U.sponsor)||{}).full_name,ue="ConversationView"===C?{padding:"8px"}:vn.container;return(0,W.jsxs)(V.xu,{dangerouslySetInlineStyle:{__style:ue},children:[w&&(0,W.jsx)(V.xu,{dangerouslySetInlineStyle:{__style:f||x||"none"!==c?{marginBottom:"6px"}:{}},display:"flex",justifyContent:"center",children:(0,W.jsx)(lt.default,{pinId:M})}),j&&(0,W.jsx)(V.xu,{dangerouslySetInlineStyle:{__style:{marginBottom:"6px"}},flex:"grow",width:"100%",children:(0,W.jsx)(pn,{pin:y})}),(0,W.jsx)(V.kC,{alignItems:"stretch",justifyContent:"start",children:(0,W.jsxs)(V.xu,{flex:"grow",children:[(!!U||H&&!ie)&&!ae&&(0,W.jsx)(V.xu,{marginBottom:1,children:(0,W.jsx)(V.xu,{flex:"grow",overflow:"hidden",children:(0,W.jsx)(hn.Z,{hasAffiliateProducts:H,href:Q||ee,isPromoted:ie,sponsorName:se,sponsorshipStatus:null==U?void 0:U.status,onNavigateSponsorClick:function(){ce(M),le()},textWeight:"bold"})})}),(T&&p||S)&&(0,W.jsxs)(V.xu,{marginBottom:1,children:[(b||g)&&(0,W.jsx)(V.xu,{marginBottom:1,children:(0,W.jsx)(fn,{currentPrice:g,originalPrice:b,pin:y,surface:C})}),S?(0,W.jsxs)(V.kC,{alignItems:"start",children:[(0,W.jsx)(V.kC,{flex:"grow",children:(0,W.jsx)(yn,{numberOfLines:D,pin:y,pinTitle:v,surface:C})}),(0,W.jsx)(V.xu,{marginStart:3,children:(0,W.jsx)(ht,{board:s,favorited:!!N,favoriteCount:null!=s&&s.is_collaborative&&(0,_.Z)({board:s,viewer:k})?null!=L?L:0:void 0,pinId:M})})]}):(0,W.jsx)(yn,{numberOfLines:D,pin:y,pinTitle:v,surface:C}),E&&(0,W.jsx)(V.xu,{marginBottom:2,children:(0,W.jsx)(_n,{pin:y,surface:C})})]}),I&&(0,W.jsxs)(V.kC,{alignItems:"center",justifyContent:"start",children:[(0,W.jsx)(V.xu,{flex:"grow",children:function(){var e=(0,W.jsx)(at,{attributionNameLink:q,attributionTitle:ie&&!U||ae?J:"",avatarUrl:X,isPromotedByPinCreator:!!ae,isVerifiedMerchant:ne,shouldRenderAdsOnlyProfileClick:re,name:$,pin:y,url:ee,verifiedIdentity:te});switch(c){case"none":return null;case"image-only-credit":return(0,W.jsx)(V.xu,{dangerouslySetInlineStyle:{__style:vn.imageOnlyAttribution["active"===h?"visible":"hidden"]},children:(0,W.jsx)(zt,{pin:y,feedbackType:d})});default:return Object.values(Y).some((function(e){return Boolean(e)}))?e:null}}()}),A&&(0,W.jsx)(V.xu,{flex:"none",children:(0,W.jsx)(Nt.default,{feedbackData:u,feedbackType:d,pin:y,pinTitle:v,setForcePrimary:P,transparentBackground:!0})})]}),O&&!!F&&Object.keys(F).length>0&&(0,W.jsx)(V.xu,{marginTop:"ConversationView"===C?2:void 0,children:(0,W.jsx)(Dt,{pinId:M,pinner:B,reactionCounts:F,surface:C})}),m&&(0,W.jsx)(V.xu,{marginBottom:1,children:(0,W.jsx)(sn,{pin:y,pinNoteText:m})}),x&&!S&&(0,W.jsx)(V.xu,{alignItems:"center",display:"flex",marginTop:1,marginBottom:1,children:(0,W.jsxs)(r.Fragment,{children:[(0,W.jsx)(qe,{attributionNameLink:q||ee,avatarUrl:X,fullWidth:!1,name:$,accessibilityLabel:$,shouldRenderAdsOnlyProfileClick:re}),(0,W.jsx)(V.xu,{marginStart:2,flex:"grow",children:(0,W.jsx)(V.xv,{size:"200",children:$})})]})})]})},"".concat(y.id,"-sponsor-name-link"))]})}var Sn=n(149230);function xn(){var e=(0,Z.ZP)();return(0,W.jsx)(V.xv,{color:"subtle",overflow:"normal",size:"200",weight:"normal",children:e._('Sold out', 'pinrep.footer.outOfStock', 'Footer text to indicate that product pin is out of stock.')})}var On=n(104389);function An(){var e=(0,Z.ZP)();return(0,W.jsx)(V.xv,{color:"subtle",overflow:"normal",size:"200",weight:"normal",children:e._('See price on site', 'pinrep.footer.staleProduct', 'Footer text to indicate that is a stale(untrustworthy) product pin.')})}var jn=18;function En(e){var t,n,r,o=e.dimension,i=e.color,a=e.isSelected,l=e.img,c=e.selectVariant,s=(0,Z.ZP)(),u=(0,W.jsx)(V.iP,{fullHeight:!0,fullWidth:!0,rounding:1,onMouseEnter:function(e){var t=e.event;t.preventDefault(),t.stopPropagation(),c({dimensionName:o,variant:i})},onFocus:function(){c({dimensionName:o,variant:i})},children:(0,W.jsx)(V.xu,{"data-test-id":"primary-variant-preview-icon-".concat(i),height:jn,width:jn,rounding:1,display:"flex",alignItems:"center",justifyContent:"center",dangerouslySetInlineStyle:{__style:{border:a?"1px solid black":"1px solid #EFEFEF"}},children:(0,W.jsx)(V.xu,{height:14,width:14,position:"absolute",rounding:1,overflow:"hidden",children:(0,W.jsx)(V.xu,{"data-test-id":"".concat(i,"-variant-preview-wrapper"),dangerouslySetInlineStyle:{__style:{transform:"scale(".concat(10,",").concat(10,")")}},children:(0,W.jsx)(V.zd,{height:14,width:14,rounding:1,children:(0,W.jsx)(V.Ee,{alt:s._('Color variant preview image', 'MerchantStorefront.Variant.VariantPreviewIcon.Image', 'Alt text for color variant preview image'),naturalHeight:null!==(t=l.height)&&void 0!==t?t:1,naturalWidth:null!==(n=l.width)&&void 0!==n?n:1,src:null!==(r=l.url)&&void 0!==r?r:"",fit:"contain"})})})})})});return(0,W.jsx)(V.xu,{"data-test-id":"primary-variant-main-".concat(i),display:"inlineBlock",height:jn,rounding:1,width:jn,children:u})}function Tn(){var e=(0,H.v)().logContextEvent,t=(0,se.Xx)(),n=t&&t.primaryVariants.filter((function(e){return e.image})).length>0;if((0,r.useEffect)((function(){e({event_type:120,component:14092})}),[n,e]),!t)return null;var o=t.primaryVariants,i=t.primaryDimName,a=o.slice(0,6).map((function(e){var n=e.value,r=e.value===t.selectedMap[i],o=e.image;return o?(0,W.jsx)(En,{dimension:i,color:n,isSelected:r,img:o,selectVariant:t.selectVariant},n):null})).filter(Boolean);if(o.length>6){var l=o.length-6;a.push((0,W.jsx)(V.xu,{"data-test-id":"plus-number",display:"flex",height:jn,rounding:1,width:jn,justifyContent:"center",children:(0,W.jsxs)(V.iP,{fullHeight:!0,fullWidth:!0,rounding:1,onTap:function(e){e.event.stopPropagation()},children:["+",l]})},6))}return(0,W.jsx)(V.kC,{justifyContent:"start",alignItems:"center",gap:3,children:a})}function In(e){var t,n=e.contentType,o=e.hasTextContent,i=e.pin,a=e.pinTitle,l=e.productCurrentPrice,c=e.productOriginalPrice,s=e.productRating,u=e.productShipping,p=e.showSource,f=e.showVisitSiteButton,_=e.surface,h=e.titleLines,y=(0,H.v)().logContextEvent,m=(0,Z.ZP)(),v=(0,oe.F)().checkExperiment,g=v("web_shopping_grid_metadata_ratings_shipping",{dangerouslySkipActivation:!0}),b=g.anyEnabled,P=g.group,w=(null===(t=i.rich_summary)||void 0===t?void 0:t.url)||i.link;"shopping"!==n||P.includes("pwt")||v("web_shopping_grid_metadata_ratings_shipping");var S=null;(0,se.Xx)()&&(v("storefront_variant_pins").anyEnabled&&(S=(0,W.jsx)(Tn,{})));var x=(0,Sn.Z)({url:w})?"nofollow":"none";return(0,W.jsx)(V.xu,{dangerouslySetInlineStyle:{__style:vn.productContainer},height:"100%",children:(0,W.jsx)(V.kC,{direction:"column",flex:"grow",height:"100%",justifyContent:"between",children:o&&(0,W.jsxs)(r.Fragment,{children:[(0,W.jsx)(cn,{pin:i,surface:_,children:(0,W.jsxs)(V.kC,{direction:"column",gap:1,children:[(c||l)&&(0,W.jsx)(fn,{currentPrice:l,disableLink:!0,originalPrice:c,pin:i,surface:_}),(0,d.qN)(i)&&(0,W.jsx)(xn,{}),(0,d.SP)(i)&&(0,W.jsx)(An,{}),(0,W.jsx)(yn,{disableLink:!0,numberOfLines:h,pin:i,pinTitle:a,surface:_}),p&&(0,W.jsx)(_n,{disableLink:!0,pin:i,surface:_}),"shopping"===n&&b&&(s||Number.isFinite(null==u?void 0:u.free_shipping_value))&&(0,W.jsx)(On.Z,{count:null==s?void 0:s.count,countFormat:"number",isGridView:!0,ratingValue:null==s?void 0:s.rating,shippingInfo:u}),S]})}),f&&w?(0,W.jsx)(V.xu,{marginTop:2,children:(0,W.jsx)(V.zx,{role:"link",fullWidth:!0,href:w,rel:x,onClick:function(){y({event_type:12,view_type:1,view_parameter:3563})},target:"blank",text:m._('Visit site', 'ShoppingList.Pin.CTA.Button.VisitSite.Text', 'Text on CTA button on ShoppingList Pin to Visit Site')})}):null]})})})}var Cn=(0,r.memo)((function(e){var t=e.attributionType,n=e.blockClickEvents,r=e.board,o=e.contentType,i=e.feedbackData,a=e.feedbackType,l=e.hoverTransitionState,c=e.pin,s=e.pinNoteText,u=e.pinTitle,d=e.productCurrentPrice,p=e.productOriginalPrice,f=e.productRating,_=e.productShipping,h=e.setForcePrimary,y=e.showCarouselEllipsis,m=e.showFavoriteButton,v=e.showGroupBoardAvatar,g=e.showNativeReactions,b=e.showOverflowMenu,P=e.showPinStats,w=e.showSource,S=e.showTextContent,x=e.showVisitSiteButton,O=e.showAttribution,A=void 0===O||O,j=e.surface,E=e.titleLines,T=u||w,I="shopping"===o?(0,W.jsx)(In,{contentType:o,hasTextContent:!!T,pin:c,pinTitle:u,productCurrentPrice:d,productOriginalPrice:p,productRating:f,productShipping:_,showSource:w,showVisitSiteButton:x,surface:j,titleLines:E}):(0,W.jsx)(wn,{attributionType:t,board:r,feedbackData:i,feedbackType:a,hasTextContent:!!T,hasTitleOrSource:!!T,hoverTransitionState:l,pin:c,pinNoteText:s,pinTitle:u,productCurrentPrice:d,productOriginalPrice:p,setForcePrimary:h,showCarouselEllipsis:y,showFavoriteButton:m,showGroupBoardAvatar:v,showNativeReactions:g,showOverflowMenu:b,showPinStats:P,showSource:w,showTextContent:S,showAttribution:A,surface:j,titleLines:E});return n?(0,W.jsx)(V.xu,{dangerouslySetInlineStyle:{__style:{pointerEvents:"none"}},children:I}):(0,W.jsx)(V.kC,{flex:"grow",children:(0,W.jsx)(pe.Z,{fullWidth:!0,children:I})})})),Dn=n(685909),Rn=n(784590),kn=n(990823);function zn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Nn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?zn(Object(n),!0).forEach((function(t){Ln(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):zn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ln(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Mn=(0,r.lazy)((function(){return n.e(34979).then(n.bind(n,91540))})),Bn=(0,r.lazy)((function(){return Promise.all([n.e(97270),n.e(10903),n.e(34685),n.e(78120),n.e(43473)]).then(n.bind(n,666258))})),Zn=(0,r.lazy)((function(){return Promise.all([n.e(97270),n.e(9013),n.e(10903),n.e(34685),n.e(22347)]).then(n.bind(n,494424))})),Fn=(0,r.lazy)((function(){return Promise.all([n.e(97270),n.e(67419),n.e(22538)]).then(n.bind(n,450564))})),Un=(0,r.lazy)((function(){return n.e(1593).then(n.bind(n,331806))}));function Gn(e){var t=e.derivedSaveButtonOptions,n=e.forcePrimaryContent,i=e.showEnabledSaveBehavior,a=e.onToggleFlyout,l=e.onToggleModal,c=e.pin,s=(0,se.Xx)(),u=function(e){return(0,Rn.Z)(e?{name:"PinResource",options:{id:e}}:null)}(null==s?void 0:s.variantUrl),d=u&&u.data?u.data:c,p=d.id,f=d.savedInfo,_=(0,r.useRef)(!!f),h=(0,o.useSelector)((function(e){var t=e.experiences[1000294];return 502450===(null==t?void 0:t.experience_id)?t:null})),y=(0,kn.tY)(i).saveBehaviorType;void 0!==y&&["classic","controlled","inline"].includes(t.type)&&(t=y);var m=(0,ne.E)(),v=m.viewParameter,g=m.viewType,b=(0,ge.Z)(101,{element:0,object_id_str:p}),P=null,w={onToggleModal:a,view:g,viewParameter:v,useLegoStyles:!0};if(!t.hidePinBetterSaveDropdown&&(h||i&&["classic","controlled"].includes(t.type))&&["classic","controlled","inline"].includes(t.type)){var S=t.renderPinSaveTooltip,x=void 0===S?void 0:S;P=(0,W.jsx)(j.Z,{name:"SafeSuspense_PinRepPrimaryContent_QuickSaveButton",children:(0,W.jsx)(B.Z,{children:(0,W.jsx)(pe.Z,{children:(0,W.jsx)(Fn,{experience:h||void 0,forcePrimaryContent:n,pin:d,renderPinSaveTooltip:x,showEnabledSaveBehavior:i,viewParameter:v})})})})}else if("classic"===t.type||"controlled"===t.type){var O=t.renderPinSaveTooltip;P=(0,W.jsx)(j.Z,{name:"SafeSuspense_PinRepPrimaryContent_PinSaveButton",children:(0,W.jsx)(B.Z,{children:(0,W.jsx)(V.xu,{"data-test-id":"pin-save-button",maxWidth:"100%",children:(0,W.jsx)(pe.Z,{children:(0,W.jsx)(Bn,{onClickCallback:b,onToggleModal:l,oneTapSave:"controlled"===t.type?t:void 0,pin:d,renderPinSaveTooltip:O,renderSavedStatus:function(){return!!f&&(0,W.jsx)(pe.Z,{children:(0,W.jsx)(Dn.Z,{isNewlySaved:!_.current,name:f.title,type:f.type,url:f.url})})},variant:"lego",viewParameter:v})})})})})}else if("inline"===t.type){var A=d,E=t,T=E.initialSelection,I=E.onSave,C=E.renderPinSaveTooltip,D=E.hidePinBetterSaveDropdown;P=(0,W.jsx)(j.Z,{name:"SafeSuspense_PinRepPrimaryContent_PinBetterSave",children:(0,W.jsx)(B.Z,{children:(0,W.jsx)(V.xu,{"data-test-id":"better-save",children:(0,W.jsx)(pe.Z,{children:(0,W.jsx)(Zn,{initialSelection:T,onSave:I,onToggleFlyout:a,onToggleModal:l,pin:A,renderPinSaveTooltip:C,renderSavedStatus:function(e){var t=e.savedInfo;return t&&(0,W.jsx)(pe.Z,{children:(0,W.jsx)(Dn.Z,{isNewlySaved:!_.current,name:t.title,type:t.type,url:t.url,shouldUseLegoStyles:!0})})},variant:"pin",viewParameter:v,hideDropdown:D})})})})})}else"persistentOneClickSave"===t.type?P=(0,W.jsx)(j.Z,{name:"SafeSuspense_PinRepPrimaryContent_PersistentOneClickSave",children:(0,W.jsx)(B.Z,{children:(0,W.jsx)(V.xu,{"data-test-id":"persistent-one-click-save",children:(0,W.jsx)(pe.Z,{children:(0,W.jsx)(Mn,Nn(Nn({},w),{},{saveOptions:t,pin:d}))})})})}):"promote"===t.type&&(P=(0,W.jsx)(V.kC,{alignItems:"stretch",justifyContent:"end",children:(0,W.jsx)(j.Z,{name:"SafeSuspense_PinRepPrimaryContent_PinPromoteButton",children:(0,W.jsx)(B.Z,{children:(0,W.jsx)(V.xu,{"data-test-id":"pin-promote-button",children:(0,W.jsx)(pe.Z,{children:(0,W.jsx)(Un,{pin:d})})})})})}));return(0,W.jsx)(j.Z,{name:"PinRepPrimaryContent",children:(0,W.jsx)(V.xu,{display:"flex",margin:3,children:P&&(0,W.jsx)(V.xu,{marginStart:"auto",flex:"grow",children:P})})})}var Vn=n(64446),Hn=n(40706),Wn=n(876371),Kn=n(441707),Yn=n(118334),Xn={__style:{boxShadow:"inset 0 0 0 2px black,  inset 0 0 0 4px white",transition:"all 300ms ease"}};function qn(e){var t=e.isSelected,n=(0,Z.ZP)();return(0,W.jsx)(V.xu,{bottom:!0,left:!0,position:"absolute",right:!0,rounding:4,top:!0,dangerouslySetInlineStyle:t?Xn:{},children:(0,W.jsx)(V.xu,{position:"absolute",bottom:!0,right:!0,padding:3,children:(0,W.jsx)(V.xu,{alignItems:"center",color:t?"dark":"default",display:"flex",height:"24px",justifyContent:"center",rounding:2,width:"24px",dangerouslySetInlineStyle:{__style:{transition:"all 300ms ease"}},children:(0,W.jsx)(V.JO,{accessibilityLabel:n._('Pin is selected to be saved', 'SectionSuggestionPin.iconOnPin.selectedPin', 'accessibility label on an icon'),color:"inverse",icon:"check",size:12})})})})}var Jn=n(124364),$n=n(802933),Qn=n(674915),er=n(944546),tr=n(428258),nr=n(172071),rr={},or=function(e){nr.Z.increment("web_prefetch_via_xhr.attempt",1);var t=(0,ye.Z)(e);return new Promise((function(n,r){if(window.navigator&&window.navigator.connection){var o=window.navigator.connection;o.saveData&&(nr.Z.increment("web_prefetch_via_xhr.saveDataOn",1),n()),/2g/.test(o.effectiveType)&&(nr.Z.increment("web_prefetch_via_xhr.poorConnection",1),n())}var i=new XMLHttpRequest;i.open("GET",e),i.onload=function(){200===i.status?(rr[e]&&(rr[e].loaded=!0),nr.Z.increment("web_prefetch_via_xhr.load.success",1,{hostname:t.hostname||"unknown"}),n(i.response)):(nr.Z.increment("web_prefetch_via_xhr.load.error",1,{hostname:t.hostname||"unknown"}),r())},rr[e]||(i.send(),rr[e]={added:!0,xhr:i},nr.Z.increment("web_prefetch_via_xhr.xhrSent",1,{hostname:t.hostname||"unknown"}))}))},ir={},ar=function(e,t){var n="string"==typeof e?e:e.url;if(t&&n){var r="control"===t?"v3.pinimg.com":"v2.pinimg.com";return n.replace("v.pinimg.com",r)}return n};function lr(e,t){return(ar("https://v.pinimg.com/videos/mc/hls/",t)||"")+"".concat(e.slice(0,2),"/").concat(e.slice(2,4),"/").concat(e.slice(4,6),"/").concat(e)}function cr(e){var t=e.id;t&&ir[t]&&ir[t].length>0&&ir[t].forEach((function(e){!function(e){rr[e]&&rr[e].xhr&&!rr[e].loaded&&(nr.Z.increment("web_prefetch_abort_xhr",1),rr[e].xhr.abort(),rr[e].aborted=!0)}(e)}))}function sr(e){var t=e.autoplaySettingOff,n=e.blockClickEvents,o=e.fallbackColor,i=e.imageFit,l=e.imageHeightModifier,c=e.isDenseView,s=e.isHovering,u=e.isSocialSeasonalBoard,d=void 0!==u&&u,p=e.onError,f=e.onLoad,_=e.pin,h=e.pinImageCrop,y=e.resolution,m=void 0===y?"default":y,v=e.rootMargin,g=e.selectionState,b=e.showCarousel,P=e.showPromotedVideos,w=e.showUnavailablePin,S=e.surface,x=(0,ne.E)(),O=x.contextLogData,A=x.slotIndex,j=x.viewParameter,E=x.viewType,T=(0,oe.F)().checkExperiment,I=T("web_prefetch_video_in_feed").group,C=_.id,D=void 0===C?"":C,R=_.aggregated_pin_data,k=_.image_signature,z=_.story_pin_data,N=(R||{}).pin_tags_chips,L=(0,a.Z)(_),M=L.isOneTap,B=L.isVideo,Z=L.isPromoted,F=L.isGif,U=function(e){return"string"==typeof e?{cropHeight:0,cropWidth:0}:{cropHeight:e.height,cropWidth:e.width}}(h),G=U.cropHeight,H=U.cropWidth,K=null;if(w)K=(0,W.jsx)(Jn.Z,{isDenseView:c,height:c?250:420,rounding:0,width:c?164:236});else if(t||!B||!P&&Z||"BoardCoverSelectablePin"===S)if(b)K=(0,W.jsx)(V.xu,{"data-test-id":"pinrep-carousel",children:(0,W.jsx)(Wn.Z,{cropHeight:G,cropWidth:H,onError:p,onLoad:f,highResOnly:"high-res"===m,lowResOnly:"low-res"===m,pinId:D,showCarouselBadge:!1,pin:_})});else{var Y="backend"===h?function(e){var t,n=e.images,r=e.image_crop,o=n&&(null===(t=n["236x"])||void 0===t?void 0:t.height);if(r&&(0!==r.min_y||1!==r.max_y)){var i=r.min_y,a=void 0===i?0:i,l=r.max_y,c=void 0===l?0:l;return{marginTop:"".concat(a>0?-1*a*(null!=o?o:0):0,"px"),marginBottom:"".concat(c<1?Math.round(-1*(1-c)*(null!=o?o:0)):0,"px")}}return{}}(_):{};K=(0,W.jsx)(V.xu,{dangerouslySetInlineStyle:{__style:Y},"data-test-id":"pinrep-image",minHeight:55,children:(0,W.jsx)(Kn.Z,{animateGif:F&&d,cropHeight:G,cropWidth:H,fallbackColor:o,imageFit:i,highResOnly:"high-res"===m,lowResOnly:"low-res"===m,mediumResOnly:"medium-res"===m,onLoad:f,onError:p,pin:_})})}else K=(0,W.jsx)(V.xu,{"data-test-id":"pinrep-video",direction:"column",display:"flex",height:G||void 0,justifyContent:"center",children:(0,W.jsx)(Yn.Z,{cropHeight:G,cropWidth:H,highResOnly:"high-res"===m,imageHeightModifier:l,inAdsDesktopVideoExperiment:B&&P,isExperimentalPinRep:!0,lowResOnly:"low-res"===m,onError:p,onLoad:f,pin:_,rootMargin:v,surface:S,viewParameter:j,viewType:E})});var X=(0,W.jsx)(V.zd,{wash:!0,children:(0,W.jsx)(_e.Z,{hovered:s,pin:_,slotIndex:A,viewType:1,children:K})}),q=["selected-image-only","deselected-image-only"].includes(g),J="selected-image-only"===g,$=(0,r.useRef)(!0),Q=(0,r.useRef)(!1),ee=(0,r.useRef)(!1),te=T("web_video_quic").group;if((0,r.useEffect)((function(){$.current||!s||M||n||Q.current?s||!Q.current||ee.current||(cr(z||_),ee.current=!0):z?(!function(e,t){var n,r=e.id,o=e.pages,i=e.pages_preview;if(i||o){var a=i?i[0]:null==o?void 0:o[0],l=null==a||null===(n=a.blocks)||void 0===n?void 0:n.find((function(e){return 3===e.block_type}));if(l&&l.video){var c=(0,tr.Z)(l.video)||{},s=c.hlsv3,u=c.mp4||s;if(u&&r){var d,p=null!==(d=ar(u,t))&&void 0!==d?d:"";ir[r]=ir[r]?ir[r].concat(p):[p],or(p)}}}}(z,te),Q.current=!0):(!function(e,t){var n=e.id,r=(e.videos||{}).video_list,o=(0,$n.Z)({pin:e}),i=((0,Qn.Z)(o)||{}).video||{},a=i.hls,l=i.hlsv3;if(r){var c=(0,tr.t)(r)||{},s=l||a||{};if(s.url){var u,d=null!==(u=ar(s.url,t))&&void 0!==u?u:"";ir[n]=ir[n]?ir[n].concat(d):[d],or(d).then((function(e){var r=[];if("string"==typeof e&&(r=e.split("\n").filter((function(e){return e.endsWith(".m3u8")}))),r&&r[er.VS]){var o=lr(r[er.VS],t);return ir[n]=ir[n].concat(o),or(null!=o?o:"")}return null})).then((function(e){var r=[];if("string"==typeof e&&(r=e.split("\n").filter((function(e){return e.endsWith(".ts")}))),r&&r[0]){var o=lr(r[0],t);return ir[n]=ir[n].concat(o),or(null!=o?o:"")}return null}))}else if(c.url){var p,f=null!==(p=ar(c.url,t))&&void 0!==p?p:"";or(f),ir[n]=ir[n]?ir[n].concat(f):[f]}}}(_,te),Q.current=!0),$.current=!1}),[n,s,M,z,_,I,te]),n)return(0,W.jsxs)(r.Fragment,{children:[X,q&&(0,W.jsx)(qn,{isSelected:J}),N&&(0,W.jsx)(V.xu,{dangerouslySetInlineStyle:{__style:{marginTop:1}},children:(0,W.jsx)(Hn.Z,{pin:_,enableCloseupLink:!0})})]});var re=O||{},ie=re.commerce_data,ae=re.story_type,le=re.board_id,ce=re.board_pin_count,se=["RelatedProductsExploreTab","RelatedProductsFeed"].includes(S);return(0,W.jsxs)(cn,{contextLogData:{commerce_data:se?ie:void 0,grid_index:A,image_signature:k,story_type:ae,board_id:le,board_pin_count:ce},elementType:z?12372:35,pin:_,surface:S,children:[X,N&&(0,W.jsx)(V.xu,{dangerouslySetInlineStyle:{__style:{marginTop:1}},children:(0,W.jsx)(Hn.Z,{pin:_,enableCloseupLink:!1})})]})}var ur=n(2396),dr=n(946984),pr=(0,ur.Z)((function(e){var t=e.handleSendShareFlyoutButtonClick,n=(0,Z.ZP)(),r=(0,dr.Z)();return(0,W.jsx)(V.zx,{fullWidth:!0,onClick:function(e){e.event.stopPropagation(),r?r():t()},text:n._('Send', 'Send a pin', 'Send a pin'),color:"gray",accessibilityLabel:n._('Send', 'Accessible label to send a pin', 'Accessible label to send a pin')})}));function fr(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,i=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(c){l=!0,o=c}finally{try{a||null==n.return||n.return()}finally{if(l)throw o}}return i}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return _r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _r(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function hr(e){return e<160?"header-only":"none"}function yr(e){var t,n,o,i=fr((0,r.useState)(e.current?hr(e.current.clientHeight||0):"none"),2),a=i[0],l=i[1];return t=e,n=function(e){var t=hr(e.height);t!==a&&l(t)},o=(0,r.useRef)(),(0,r.useEffect)((function(){var e=t.current;if(e){var r=o.current;r&&r.width===e.offsetWidth&&r.height===e.offsetHeight||(o.current={width:e.offsetWidth||0,height:e.offsetHeight||0},n&&n(o.current))}})),o.current,a}function mr(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,i=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(c){l=!0,o=c}finally{try{a||null==n.return||n.return()}finally{if(l)throw o}}return i}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return vr(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return vr(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function vr(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function gr(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,i=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(c){l=!0,o=c}finally{try{a||null==n.return||n.return()}finally{if(l)throw o}}return i}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return br(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return br(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function br(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Pr=n(485308),wr=n(704115),Sr={impressed:{backgroundColor:"#adebad"}};function xr(e){var t=e.debugImpressionState,n=void 0===t?"paused":t,r=e.slotIndex;return"paused"===n?null:(0,W.jsx)(V.xu,{dangerouslySetInlineStyle:{__style:Sr.impressed},"data-test-id":"debug-pin-impressions",position:"absolute",top:!0,left:!0,right:!0,bottom:!0,opacity:.5,children:(0,W.jsx)(V.xu,{position:"absolute",top:!0,left:!0,padding:2,color:"selected",children:(0,W.jsx)(V.xv,{color:"inverse",children:(0,W.jsx)("span",{className:"deprecatedTextSizeXL",children:r})})})})}var Or=n(43671),Ar=n(841509),jr=n(525199),Er=n(310227),Tr="#000000",Ir="#ffffff";function Cr(e){var t=e.selected,n=void 0!==t&&t,r=(0,Z.ZP)(),o=(0,Ie.B)().isRTL;return(0,W.jsx)(V.xu,{position:"absolute",top:!0,left:!0,bottom:!0,right:!0,zIndex:new V.Ry(1),"data-test-id":"pinRepSelectionBorder",dangerouslySetInlineStyle:{__style:{borderWidth:"3px",borderStyle:"solid",borderColor:n?Tr:Ir,borderRadius:Er.Oc,boxShadow:n?"inset 0 0 0 3px #fff":void 0}},children:n?(0,W.jsx)(V.xu,{position:"absolute",bottom:!0,right:!o,left:o,display:"flex",alignItems:"center",justifyContent:"center",margin:3,rounding:2,height:24,width:24,color:"dark",children:(0,W.jsx)(V.JO,{accessibilityLabel:r._('Check icon', 'pinRepSelectionBorder.checkIcon', 'Accessibility label for check icon on selected Pin'),icon:"check",color:"inverse",size:12})}):(0,W.jsx)(V.xu,{right:!o,left:o,position:"absolute",top:!0,margin:3,children:(0,W.jsx)(V.JO,{accessibilityLabel:r._('Handle icon', 'pinRepSelectionBorder.handleIcon', 'Accessibility label for handle icon on an organizable Pin'),icon:"handle",color:"light",size:24})})})}var Dr={wrapper:{borderRadius:Er.Oc,WebkitMaskImage:"-webkit-radial-gradient(white, black)"},promotedPinBorderTreatment:{background:"#EFEFEF",padding:4,borderRadius:20},primaryContentContainer:{marginBottom:"auto"},visualOverlay:{backgroundColor:Er.Dv.VISUAL},savedOverlay:{backgroundColor:Er.Dv.SAVED},legoWashOverlay:{backgroundColor:Er.Dv.LEGO_WASH}};function Rr(e){var t=e.children,n=e.savedOverlayVisibility,r=void 0===n?"none":n,o=e.visualOverlayVisibility,i=void 0===o?"none":o,a=e.handleMouseOverPinContent,l=e.handleMouseLeavePinContent,c=e.primaryContent,s=e.primaryContentVisibility,u=void 0===s?"none":s,d=e.secondaryContent,p=e.secondaryContentVisibility,f=void 0===p?"none":p,_=e.accessoryContent,h=e.accessoryContentVisibility,y=void 0===h?"none":h,m=e.actionBar,v=e.actionBarVisibility,g=void 0===v?"none":v,b=e.seeStatsButton,P=e.footer,w=e.selectionState,S=void 0===w?"no-selection":w,x=e.debugContent,O=e.signalDebuggerContent,A=e.signalDebuggerV2Content,j=e.signalDebuggerV2ContentVisibility,E=void 0===j?"none":j,T=e.obscuredPinOverlay,I=e.showNoPinBorderRadius,C=e.showPromotedPinBorderTreatment,D=e.shouldUseLegoWash;return(0,W.jsx)(V.xu,{dangerouslySetInlineStyle:{__style:C?Dr.promotedPinBorderTreatment:{}},height:"100%","data-test-id":"pinRepPresentation",children:(0,W.jsxs)(V.xu,{dangerouslySetInlineStyle:{__style:I?{}:Dr.wrapper},"data-test-id":"pinWrapper",display:"flex",direction:"column",height:"100%",overflow:"hidden",position:"relative",children:[["selected","deselected"].includes(S)&&(0,W.jsx)(Cr,{selected:"selected"===S}),(0,W.jsxs)(V.xu,{"aria-hidden":Boolean(T),children:[(0,W.jsxs)(V.xu,{dangerouslySetInlineStyle:{__style:I?{}:Dr.wrapper},overflow:"hidden",position:"relative",onFocus:a,onBlur:l,onMouseEnter:a,onMouseLeave:l,children:[t,(0,W.jsx)(jr.Z,{visibility:i,children:(0,W.jsx)(Ar.Z,{additionalStyles:D?Dr.legoWashOverlay:Dr.visualOverlay})}),(0,W.jsx)(jr.Z,{visibility:r,children:(0,W.jsx)(Ar.Z,{additionalStyles:D?Dr.legoWashOverlay:Dr.savedOverlay})}),_&&(0,W.jsx)(jr.Z,{visibility:y,children:(0,W.jsx)(Ar.Z,{children:_})}),d&&(0,W.jsx)(jr.Z,{visibility:f,children:(0,W.jsx)(Ar.Z,{children:d})}),c&&(0,W.jsx)(jr.Z,{visibility:u,children:(0,W.jsx)(Ar.Z,{children:c})}),A&&(0,W.jsx)(jr.Z,{visibility:E,children:(0,W.jsx)(Ar.Z,{children:(0,W.jsx)(V.xu,{position:"absolute",left:!0,bottom:!0,marginBottom:12,marginStart:2,children:A})})}),m&&(0,W.jsx)(jr.Z,{visibility:g,children:(0,W.jsx)(Ar.Z,{children:(0,W.jsx)(V.xu,{position:"absolute",left:!0,right:!0,bottom:!0,children:m})})}),b&&(0,W.jsx)(Ar.Z,{children:(0,W.jsx)(V.xu,{position:"absolute",bottom:!0,children:b})}),x&&(0,W.jsx)(Ar.Z,{children:x}),O]}),P]}),T&&(0,W.jsx)(V.xu,{children:T})]})})}function kr(e){return"active"===e?"visible":"inactive"===e?"none":"hidden"}function zr(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.includes("visible")?"visible":t.includes("hidden")?"hidden":"none"}function Nr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Lr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Nr(Object(n),!0).forEach((function(t){Mr(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Nr(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Mr(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Br(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,i=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(c){l=!0,o=c}finally{try{a||null==n.return||n.return()}finally{if(l)throw o}}return i}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Zr(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Zr(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Zr(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Fr=(0,r.memo)((function(e){var t,n,o=e.actionBarProps,i=e.blockClickEvents,a=e.borderStyle,c=e.currentlyPlayingVideo,s=e.disableHover,u=void 0!==s&&s,d=e.footerProps,p=e.impressionsDebuggerProps,f=e.obscuredPinOverlayProps,_=e.onError,h=e.onLoad,y=e.pin,m=e.pinVisualProps,v=e.presentationProps,g=e.primaryContentProps,b=e.rounding,P=e.secondaryContentProps,w=e.authDesktopSelectionState,S=e.showFooter,x=e.showImpressionsDebugger,O=e.showObscuredPinOverlay,A=e.showSeeStatsButton,E=e.showSignalDebugger,T=e.showUnavailablePin,I=e.surface,C=e.visibilityOverrides,D=e.imageHeightModifier,R=y.savedInfo,k=(0,ne.E)().viewType,z=(0,kn.Yh)(l.ZF.includes(I)||(0,L.Z)(I)).showEnabledSaveBehavior,N=Br((0,r.useState)(!1),2),M=N[0],B=N[1],Z=(0,mn.Z)(M),F=function(){var e=gr((0,r.useState)(!1),2),t=e[0],n=e[1];return{isHovering:t,hoverTransitionState:(0,mn.Z)(t,0,mn.X),handleMouseOver:(0,r.useCallback)((function(){return n(!0)}),[n]),handleMouseLeave:(0,r.useCallback)((function(){return n(!1)}),[n])}}(),U=F.isHovering,G=F.hoverTransitionState,H=F.handleMouseOver,K=F.handleMouseLeave;u&&(U=!1,G="inactive");var Y,X=(0,mn.Z)(!!R),q=kr(X),J=kr(G),$=kr(G),ee=kr(Z),te=kr(X),re=["HomefeedMoreIdeasTabs","BoardMoreIdeasTabContent"].includes(I),oe="visible"!==q||re?q:"none",ie={primaryContentVisibility:null!==(t=C.primaryContent)&&void 0!==t?t:zr($,ee,"visible"===te?"none":te),secondaryContentVisibility:(Y=zr($,ee,te),"none"===Y?"visible":"visible"===Y?"none":"hidden"),actionBarVisibility:zr($,ee),accessoryContentVisibility:"none",signalDebuggerV2ContentVisibility:"visible"},ae=function(e){return B(e)},le=null;"none"!==ie.primaryContentVisibility&&(le=(0,W.jsx)(Gn,Lr({forcePrimaryContent:function(e){return B(e)},showEnabledSaveBehavior:z,onToggleFlyout:ae,onToggleModal:function(e){B(e),e||K()},pin:y},g)));var ce,se=(0,r.useRef)(!0),ue=se.current;se.current=!1;var de=function(e,t){var n=e.carousel_data,o=(n||{}).index,i=mr((0,r.useState)(!n||t),2),a=i[0],l=i[1],c=(0,r.useRef)(o),s=(0,r.useRef)(null);if(n){var u=c.current;c.current=o,(o!==u||t)&&(s.current&&clearTimeout(s.current),l(!0),s.current=setTimeout((function(){l(!1),s.current=null}),4e3))}return(0,r.useEffect)((function(){return function(){s.current&&clearTimeout(s.current)}}),[]),a}(y,ue),fe=kr((0,mn.Z)(de));ie.secondaryContentVisibility=null!==(n=C.secondaryContent)&&void 0!==n?n:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.includes("none")?"none":t.includes("hidden")?"hidden":"visible"}(ie.secondaryContentVisibility,fe),ce=(P.allowShoppingPriceIndicator||P.shoppingLabelColor||"none"!==ie.secondaryContentVisibility)&&!c&&(0,W.jsx)(V.xu,{margin:2,children:(0,W.jsx)(Vn.Z,Lr({pin:y},P))});var _e=null;"visible"===C.accessoryContent&&(_e=(0,W.jsx)(Ke,{pin:y}),ie.accessoryContentVisibility=kr(G)),m.isSocialSeasonalBoard&&(o.showShareButton=!1);var he=null;A&&(o.showSourceLinkButton=!1,he=(0,W.jsx)(pe.Z,{children:(0,W.jsx)(Q,{pinId:y.id,surface:I})}));var ye="visible"===C.actionBar?(0,W.jsx)(Ze,Lr({onToggleFlyout:ae,pin:y,setForcePrimary:B,surface:I},o)):null,me=null;(S||(0,L.Z)(I))&&(me=(0,W.jsx)(Cn,Lr({blockClickEvents:i,hoverTransitionState:"image-only-credit"===d.attributionType?G:null,pin:y,setForcePrimary:B,surface:I},d))),m.isSocialSeasonalBoard&&(me=(0,W.jsx)(V.xu,{"data-test-id":"social-seasonal-footer",marginTop:2,marginBottom:3,width:"100%",children:(0,W.jsx)(V.xu,{margin:"auto",width:Pr.J,children:(0,W.jsx)(pr,{isFlyoutOpen:M,onFlyoutDismiss:function(){return ae(!M)},onToggleFlyout:function(){return ae(!M)},pinId:y.id,sendType:"pin",shownWithinMasonry:!0,viewType:k,element:72,component:13752})})}));var ve=x&&(0,W.jsx)(xr,Lr({},p)),ge=E&&y.debug_info_html&&(0,W.jsx)(V.xu,{paddingY:1,children:(0,W.jsx)("pre",{children:y.debug_info_html})}),be=(0,W.jsx)(Ye.Z,{pin:y}),Pe=(0,r.useRef)();"header-only"===yr(Pe)&&(ie.actionBarVisibility="none",ie.accessoryContentVisibility="none");var we=O?(0,W.jsx)(Or.ZP,Lr({pin:y},f)):null,Se="ShoppingGridShippedMetadataWithVisitButton"===I?{height:"100%"}:{},xe=S&&"default"===d.attributionType&&l.ZF.includes(I),Oe=!y.is_promoted&&!u&&xe;return(0,W.jsx)(j.Z,{name:"PinRepContainer",children:(0,W.jsx)(V.xu,{"data-test-id":"pin","data-test-pin-id":y.id,onFocus:H,onBlur:K,onMouseEnter:H,onMouseLeave:K,dangerouslySetInlineStyle:{__style:Se},rounding:"ConversationView"===I?b:void 0,borderStyle:"ConversationView"===I?a:"none",overflow:"ConversationView"===I?"hidden":"visible",children:(0,W.jsx)(Rr,Lr(Lr({visualOverlayVisibility:J,savedOverlayVisibility:oe,handleMouseOverPinContent:Oe?H:function(){},handleMouseLeavePinContent:Oe?K:function(){},primaryContent:le,primaryContentVisibility:ie.primaryContentVisibility,secondaryContent:ce,secondaryContentVisibility:ie.secondaryContentVisibility,accessoryContent:_e,accessoryContentVisibility:ie.accessoryContentVisibility,actionBar:ye,actionBarVisibility:ie.actionBarVisibility,seeStatsButton:he,footer:me,selectionState:w,debugContent:ve,signalDebuggerV2Content:be,signalDebuggerV2ContentVisibility:ie.signalDebuggerV2ContentVisibility,signalDebuggerContent:ge,obscuredPinOverlay:we},v),{},{children:(0,W.jsx)(V.xu,{height:"100%",ref:Pe,children:(0,W.jsx)(sr,Lr({blockClickEvents:i,showUnavailablePin:T,isHovering:U,onError:_,onLoad:h,pin:y,surface:I,selectionState:w,imageHeightModifier:D},m))})}))})})})),Ur=n(231947),Gr=n(53987),Vr=["attributionOption","blockClickEvents","debugImpressionState","disableReaction","feedback","imageOnlyOption","pin","pinId","pinImageCrop","pinImageFit","resolution","saveButtonOptions","authDesktopSurface","trackingParameters"];function Hr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Wr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Hr(Object(n),!0).forEach((function(t){Kr(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Hr(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Kr(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Yr(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function Xr(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var qr,Jr=(0,r.lazy)((function(){return Promise.all([n.e(97270),n.e(67419),n.e(10903),n.e(4593),n.e(92982)]).then(n.bind(n,576070))})),$r=["ArticleProductsStory","BoardCoverSelectablePin","BoardNoteSelectablePin","BulkEditMode","CommentReply","EngagementDetails","IdeasHubSeasonalRow","OtherProfilePinGrid","SectionSuggestedPins","SelectableBoardlessPin","TopicBestPinNarrow","TopicBestPinWide"],Qr=["BaseBoardPinGrid","UserProfilePinGrid"].concat(function(e){if(Array.isArray(e))return Xr(e)}(qr=X)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(qr)||function(e,t){if(e){if("string"==typeof e)return Xr(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Xr(e,t):void 0}}(qr)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}());function eo(e){var t,n,d,p,f,_,y,E,T=e.attributionOption,I=e.blockClickEvents,V=e.debugImpressionState,H=e.disableReaction,K=e.feedback,Y=e.imageOnlyOption,X=void 0===Y?"default":Y,q=e.pin,J=e.pinId,$=e.pinImageCrop,Q=e.pinImageFit,pe=e.resolution,fe=void 0===pe?"default":pe,_e=e.saveButtonOptions,he=e.authDesktopSurface,ye=e.trackingParameters,me=Yr(e,Vr),ve=(0,le.S6)()(J)||q,ge=null!==(t=null===(n=ve.board)||void 0===n?void 0:n.id)&&void 0!==t?t:"",Pe=(0,ae.gC)()(ge)||ve.board;ve.grid_title=ve.grid_title||q.grid_title;var we=(0,Z.ZP)(),Se=(0,oe.F)(),xe=Se.checkExperiment,Oe=Pe||{},Ae=Oe.collaborated_by_me,je=Oe.collaborator_count,Ee=Oe.is_collaborative,Te=ve.is_quick_promotable,Ie=ve.pinner,Ce=ve.showFeedback,De=ve.sponsorship,Re=(0,a.Z)(ve).isPromoted,ke=(0,z.Z)(ve),ze=(0,G.Z)(),Ne=(0,F.Z)(),Le=xe("web_m10n_business_access_orbac_www").anyEnabled,Me=xe("web_m10n_business_access_orbac_ga").anyEnabled,Be=Me?(0,Ur.lJ)(ze,Ne):"",Ze=(0,be.useLocation)(),Fe=ye.slotIndex,Ue=ye.viewParameter,Ge=["AuthHomefeed","BaseBoardPinGrid"].includes(he)&&xe("web_repin_flow").anyEnabled,Ve=(0,ue.x)(),He=(0,ce.P)(),We=(0,re.I)().appUI.videosAutoplaying,Ke=(0,M.Z)(ve.id,We),Ye=(0,o.useSelector)((function(e){return e.changeBoardFromToast}))||{},Xe=function(e){var t=e.rich_metadata&&e.rich_metadata.products&&e.rich_metadata.products[0]&&e.rich_metadata.products[0].additional_images;return!!(t&&t.length>0)}(ve),qe=(0,R.Z)(ve),Je=ze.isAuth&&ze.isEmployee,$e=ze.isAuth&&((0,k.Z)(ze.createdAt)||(0,N.Z)(null,ze))&&!ze.isPartner,Qe=$e;"TodayArticleFeed"===he&&(Qe=!1),"default"!==X&&(Qe="image-only"===X),(0,L.Z)(he)&&(Qe=!1),"ShoppingSquareGridDomainNoMetadata"===he&&(Qe=!0);var et=T;($e&&!et||He)&&(et="image-only");var tt=(0,D.Z)({feedbackOptions:K,pin:ve,viewParameter:Ue},we),nt=(K||{}).data,rt="number"==typeof je&&je>0||Ee,ot=!1;"OtherProfilePinGrid"===he?ot=!0:"BaseBoardPinGrid"===he?ot="dense"===(null==Ve?void 0:Ve.boardPinDensity):"UserProfilePinGrid"===he&&(ot="dense"===(null==Ve?void 0:Ve.profilePinDensity));var it=Boolean(rt&&"BaseBoardPinGrid"===he),at=(0,U.Z)(),lt=(0,de.kW)(),ct=lt&&lt[null!==(d=null===(p=at.data)||void 0===p?void 0:p.id)&&void 0!==d?d:""]?lt[null!==(f=null===(_=at.data)||void 0===_?void 0:_.id)&&void 0!==f?f:""]:at.data,st=(0,A.Z)(ze,Pe),ut=!1;if(!!(0,be.matchPath)(Ze.pathname,{path:"/:username/_created/",exact:!0}))ut=(0,Ur.q6)(ze,null==ct?void 0:ct.id,Ne);else if((0,Gr.am)(Ze)||(0,Gr.OJ)(Ze)){var dt=Pe&&Pe.owner&&Pe.owner.id||"";ut=(0,Ur.q6)(ze,dt,Ne)}var pt,ft=Boolean(ze.isAuth&&Ie&&Ie.id===ze.id),_t=Boolean(Ae||rt&&st),ht=ze.isAuth&&ze.isPartner,yt=!(null===(y=ve.story_pin_data)||void 0===y||!y.is_deleted),mt=(0,r.useMemo)((function(){return function(e){var t=e.hasCarouselData,n=e.isDeletedStoryPin,r=e.surface,o={primaryContent:null,secondaryContent:null,actionBar:O.includes(r)||n?"none":"visible",accessoryContent:t?"visible":"none"};return n||x.includes(r)?(o.primaryContent="none",o.secondaryContent="none"):["HomefeedMoreIdeasTabs","BoardMoreIdeasTabContent"].includes(r)&&(o.primaryContent="visible"),o}({hasCarouselData:qe,isDeletedStoryPin:yt,surface:he})}),[qe,yt,he]),vt=(0,r.useMemo)((function(){return function(e){var t=e.board,n=e.isDenseView,r=e.isGroupBoard,o=e.isInlineBetterSave,i=e.isOwnBoard,a=e.isORBACProfileManager,c=e.isQuickPromotable,s=e.isRemovable,u=e.saveButtonOptions,d=e.surface,p=e.viewer,f=e.viewerIsCollaborator,_=p.isAuth?p.boardCount:void 0,h=u||function(){return 0===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:0)?{type:"classic"}:{type:"inline"}}(_);c?h={type:"promote"}:(f||i||["OtherProfilePinGrid","UserProfilePinGrid"].includes(d))&&!["BoardlessPins","CreatorProfileActivityPinGrid","CreatorProfileStoryPinGrid","BaseBoardPinGrid"].includes(d)?h={type:"classic"}:(f||i)&&["BaseBoardPinGrid"].includes(d)&&null!=t&&t.name&&t.url&&t.id&&(h={type:"inline",initialSelection:{title:t.name,boardId:t.id,url:t.url}});return o&&(h={type:"inline",hidePinBetterSaveDropdown:"BaseBoardPinGrid"===d}),(s||S.includes(d)||a)&&(h={type:"none"}),{board:t,derivedSaveButtonOptions:h,showLikeButton:f&&r&&l.UP.includes(d),supportsReactionBar:!n}}({board:Pe,isInlineBetterSave:Ge,isDenseView:ot,isGroupBoard:it,isOwnBoard:st,isOwnPin:ft,isORBACProfileManager:ut,isQuickPromotable:Te,isRemovable:ke,saveButtonOptions:_e,surface:he,viewer:ze,viewerIsCollaborator:_t})}),[Pe,Ge,ot,it,st,ft,ut,Te,ke,_e,he,ze,_t]),gt=xe("web_shopping_grid_metadata_ratings_shipping",{dangerouslySkipActivation:!0}).anyEnabled;[].concat(["ShoppingDynamicHeightGrid","ShoppingGridShippedMetadata","ShoppingSquareGridStorefront","ShoppingSquareGridStorefrontDomain","ShoppingSquareGridDomain","ShoppingSquareGridDomainNoMetadata","ShoppingGridShippedMetadataWithVisitButton"]).includes(he)&&!Re&&(pt="white");var bt=(0,r.useMemo)((function(){return function(e){var t=e.allowProductCarousel,n=void 0!==t&&t,r=e.shoppingLabelColor,o=e.surface;return{allowProductCarousel:n,allowShoppingPriceIndicator:l.Wv.includes(o),shoppingLabelColor:r}}({allowProductCarousel:Xe,shoppingLabelColor:pt,surface:he})}),[Xe,pt,he]),Pt=(0,r.useMemo)((function(){return function(e){var t,n=e.board,r=e.feedbackData,o=e.feedbackType,l=e.isDenseView,d=e.isGroupBoard,p=e.isOwnBoard,f=e.isORBACProfileManager,_=e.isORBACBeta,h=e.isORBACGA,y=e.pin,m=e.isRemovable,v=e.surface,g=e.viewer,b=(0,a.Z)(y),P=b.isOwnPin,w=b.isPromoted,S=c({isGroupBoard:d,pin:y,surface:v}),x=n&&(0,i.Z)({action:4,board:n,viewer:g})||P,O=y.savedInfo&&y.savedInfo.localPinId,A=Boolean(p&&!d||"UserProfilePinGrid"===v&&x||O),j=Boolean(d&&x||A||f&&(!(0,s.hy)(y.story_pin_data_id)||_)),E=Boolean((null==n?void 0:n.is_collaborative)||A),T=!(w||p||d||u.includes(v)||f),I=function(e){var t=e.surface,n=e.isORBACProfileManager,r=e.isORBACGA,o=e.isRemovable;return"CloseupRelatedProducts"!==t&&!o&&(!n||null==r||r)}({surface:v,isORBACProfileManager:f,isORBACGA:h,isRemovable:m}),C=y.tracked_link,D=y.link,R=!(null===(t=null!=C?C:D)||void 0===t||!t),k=d&&l?"equally-spaced":"default",z="default";return l&&(z=d?"icon-only":"truncated-text"),l&&["UserProfilePinGrid","BaseBoardPinGrid","BoardlessPins"].includes(v)&&(z="icon-only",k="equally-spaced"),{actionBarEditBeforeShare:E,feedbackData:r,feedbackType:o,layout:k,pinTitle:S,showEditButton:j,showOverflowMenu:T,showShareButton:I,showSourceLinkButton:R,sourceLinkStyle:z}}({board:Pe,feedbackData:nt,feedbackType:tt,isDenseView:ot,isGroupBoard:it,isOwnBoard:st,isORBACProfileManager:ut,isORBACBeta:Le,isORBACGA:Me,isRemovable:ke,pin:ve,surface:he,viewer:ze})}),[Pe,nt,tt,ot,it,st,ut,Le,Me,ke,ve,he,ze]),wt=(0,h.rh)(ve,ze,Se,Be)&&Qr.includes(he)&&(ft||Me&&ut),St=["ShoppingCatalogsProductsMetadata","ShoppingDynamicHeightGrid","ShoppingSquareGridDomain","ShoppingSquareGridDomainNoMetadata","ShoppingGridShippedMetadata","ShoppingGridShippedMetadataWithVisitButton","ShoppingSquareGridStorefront","ShoppingSquareGridStorefrontDomain"].includes(he),xt=!Re&&St?"shopping":"standard",Ot=(H||"CreatorProfileStoryPinGrid"!==he||ft)&&(0,ee.J6)(ve,yt),At=(0,se.Xx)();Ot=!He&&Ot;var jt=(0,r.useMemo)((function(){return m({attributionOption:et,board:Pe,contentType:xt,experimentsClient:Se,feedbackData:nt,feedbackType:tt,hasCarouselData:qe,isGroupBoard:it,isORBACProfileManager:ut,isOwnBoard:st,pin:ve,showImageOnly:Qe,showNativeReactions:Ot,showPromotedShoppingPrice:gt&&Re&&St,surface:he,viewer:ze,variantData:At})}),[et,Pe,xt,Se,nt,tt,qe,it,ut,st,Re,St,ve,gt,Qe,Ot,he,ze,At]),Et=!!ve.story_pin_data_id,Tt=ve.created_at?new Date(ve.created_at):null,It=(0,ie.pN)({isOwnPin:ft,isStoryPin:Et,pinCreationDate:Tt,surface:he}),Ct=Boolean(jt.pinTitle||jt.contentType||jt.userNote||jt.showSource||"none"!==jt.attributionType||jt.showNativeReactions||jt.productCurrentPrice||jt.productOriginalPrice||jt.showPinStats)||it;"BaseBoardPinGrid"===he&&st&&ht||De?Ct=!0:$r.includes(he)||ot&&(st||Ae)?Ct=!1:ft||"CreatorProfileStoryPinGrid"!==he&&"CreatorProfileActivityPinGrid"!==he||(Ct=!1),!He||Re||De||(Ct=!1);var Dt=Boolean(Ce),Rt={showNoPinBorderRadius:"TopicBestPinNarrow"===he||"TopicBestPinWide"===he||"ConversationView"===he,showPromotedPinBorderTreatment:"BaseBoardPinGrid"===he&&Re,shouldUseLegoWash:!0},kt={feedbackType:tt},zt=xe("ads_desktop_video_ads",{dangerouslySkipActivation:!0}).anyEnabled,Nt=(0,r.useMemo)((function(){return function(e){var t=e.hasCarouselData,n=e.isDenseView,r=e.isSocialSeasonalBoard,o=e.pinImageCrop,i=e.pinImageFit,a=e.resolution,c=e.showPromotedVideos,s=e.surface,u=l.zl.includes(s),d="backend";"CloseupRelatedProducts"===s?d={height:w.GZ,width:w.OE}:"TopicBestPinWide"===s?d={height:P.m9,width:P.BS}:"TopicBestPinNarrow"===s?d={height:P._5,width:P.A6}:["ArticleProductsStory","ShoppingSquareGridCrop","ShoppingSquareGridDomainNoMetadata"].includes(s)||u?d={height:w.zX,width:w.zX}:o&&(d=o);var p="none",f=null!=a?a:"default";"string"!=typeof d&&(p="cover",(u||"ShoppingDynamicHeightGrid"===s&&!i||"ShoppingSquareGridDomainNoMetadata"===s)&&(p="contain",f="high-res"));var _=u||["ShoppingSquareGridDomainNoMetadata","ShoppingDynamicHeightGrid"].includes(s)?"transparent":"dominant",h=(0,g.e)(s);return{autoplaySettingOff:"undefined"!=typeof window&&0===b.Xb.getItem(v.Z.VIDEO_AUTOPLAY_LOCAL_STORAGE_KEY),fallbackColor:_,imageFit:p,isDenseView:n,isSocialSeasonalBoard:r,resolution:f,rootMargin:h,pinImageCrop:d,showCarousel:t&&!["ShoppingSquareGridStorefrontDomain","ShoppingSquareGridStorefront"].includes(s),showPromotedVideos:c}}({hasCarouselData:qe,isDenseView:ot,isPromoted:Re,isSocialSeasonalBoard:!1,pinImageCrop:$,pinImageFit:Q,resolution:fe,showPromotedVideos:zt,surface:he})}),[qe,ot,Re,$,Q,fe,zt,he]),Lt=Je&&void 0!==(0,wr.Z)().debug_impression_log,Mt=(0,r.useMemo)((function(){return{debugImpressionState:V,slotIndex:Fe}}),[V,Fe]),Bt=(0,r.useMemo)((function(){return{surface:he}}),[he]);return(0,W.jsx)(j.Z,{name:"PinRepConfiguration",children:(0,W.jsx)(ne.B,{value:ye,children:(0,W.jsxs)(te.B,{value:Bt,children:[(0,W.jsx)(Fr,Wr({actionBarProps:Pt,blockClickEvents:I,currentlyPlayingVideo:Ke,footerProps:jt,impressionsDebuggerProps:Mt,obscuredPinOverlayProps:kt,pin:ve,pinVisualProps:Nt,presentationProps:Rt,primaryContentProps:vt,secondaryContentProps:bt,showFooter:Ct||It,showImpressionsDebugger:Lt,showObscuredPinOverlay:Dt,showSeeStatsButton:wt,showSignalDebugger:Je,showUnavailablePin:yt,surface:he,visibilityOverrides:mt},C(me,["pinId"]))),Ye.shouldOpenModal&&Ye.newPin&&(null===(E=Ye.originalPin)||void 0===E?void 0:E.id)===ve.id&&(0,W.jsx)(j.Z,{name:"SafeSuspense_PinRepConfiguration_ChangeBoardModal",children:(0,W.jsx)(B.Z,{children:(0,W.jsx)(Jr,{experience:Ye.experience,newPin:Ye.newPin})})})]})})})}},656226:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return j}});var r=n(76911),o=n(564194),i=n(768559),a=n(605028),l=n(868565),c=n(905723),s=n(152028),u=n(908390),d=n(515198),p={overlay:{__style:{backgroundColor:"#000"}}};function f(e){var t,n,o,i,a=e.pin,l=a.id,f=a.images,_=a.title,h=a.videos,y=a.video_status_message||{},m=f&&f["236x"],v=(h&&(null===(t=h.video_list)||void 0===t?void 0:t[c.Z.V_HLSV4])||{}).duration;return(0,d.jsx)(r.Fragment,{children:(0,d.jsx)(u.Zb,{children:(0,d.jsxs)(u.iP,{role:"link",href:"/pin/".concat(l),rounding:2,children:[(0,d.jsxs)(u.xu,{overflow:"hidden",position:"relative",rounding:2,children:[m&&(0,d.jsx)(u.Ee,{alt:_||"",color:"lightGray",naturalHeight:null!==(n=m.height)&&void 0!==n?n:1,naturalWidth:null!==(o=m.width)&&void 0!==o?o:1,src:null!==(i=m.url)&&void 0!==i?i:""}),!!v&&(0,d.jsx)(u.xu,{padding:2,position:"absolute",bottom:!0,left:!0,display:"flex",children:(0,d.jsx)(s.Z,{duration:v})}),(0,d.jsx)(u.xu,{position:"absolute",top:!0,bottom:!0,left:!0,right:!0,opacity:.4,dangerouslySetInlineStyle:p.overlay}),(0,d.jsxs)(u.xu,{position:"absolute",top:!0,left:!0,padding:5,width:"100%",children:[(0,d.jsx)(u.X6,{color:"light",overflow:"normal",size:"400",children:y.title}),(0,d.jsx)(u.xu,{marginTop:4,children:(0,d.jsx)(u.xv,{color:"light",size:"200",overflow:"normal",children:y.subtitle})})]})]}),(0,d.jsx)(u.xu,{display:"flex",alignItems:"start",justifyContent:"between",marginTop:1,paddingX:1,children:(0,d.jsx)(u.xu,{flex:"grow",children:_&&(0,d.jsx)(u.xu,{paddingY:1,children:(0,d.jsx)(u.xv,{inline:!0,size:"200",weight:"bold",children:_})})})})]})})})}var _=n(623568),h=n(350118),y=n(609500),m=n(813401),v=n(745868),g=n(35495),b=["trackingParams","objectIdStr","impressionData","auxData","componentType","slotIndex","viewData","viewParameter","viewType","pin","pinId"];function P(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function w(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?P(Object(n),!0).forEach((function(t){S(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):P(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function S(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function x(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,i=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(c){l=!0,o=c}finally{try{a||null==n.return||n.return()}finally{if(l)throw o}}return i}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return O(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return O(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function O(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function A(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function j(e){var t,n,c,s,u,p,P,S=e.trackingParams,O=e.objectIdStr,j=e.impressionData,E=e.auxData,T=e.componentType,I=e.slotIndex,C=e.viewData,D=e.viewParameter,R=e.viewType,k=e.pin,z=e.pinId,N=A(e,b),L=(0,y.useLocation)(),M=(0,h.S6)(),B=(z?M(z):null)||k,Z=!(null===(t=B.story_pin_data)||void 0===t||!t.is_deleted),F=S||(0,i.Z)({boardUrl:null===(n=B.board)||void 0===n?void 0:n.url,callToCreateSourcePinId:B.call_to_create_source_pin_id,location:L,pinId:B.id,pinnerUserName:null===(c=B.pinner)||void 0===c?void 0:c.username,storyPinDataId:B.story_pin_data_id,trackingParams:B.tracking_params,trackingParamsMap:B.tracking_params_map}),U=(0,l.Z)(B),G=!!(U&&U.url&&U.height&&U.width)||void 0,V=U&&B.videos?B.videos.id:void 0,H=x((0,r.useState)(!1),2),W=H[0],K=H[1],Y=(0,r.useCallback)((function(){return K(!Z)}),[Z]),X=(0,r.useCallback)((function(){return K(!1)}),[]),q=(0,m.yz)();(0,a.Z)(B).isLeadPin&&(E={lead_form_id:null===(P=B.promoted_lead_form)||void 0===P?void 0:P.lead_id});return(0,d.jsx)(o.Z,{componentType:T,contextLogData:w(w({pwa_type:q},E),(0,g.Kl)(B,E)),impressionAuxFields:w(w({},j||{}),{},{isNativeVideoAndWatchable:G,videoIdStr:V,clientTrackingParams:F||"".concat(B.tracking_params||"","-0"),imageURL:null!==(s=null===(u=B.images)||void 0===u||null===(p=u["236x"])||void 0===p?void 0:p.url)&&void 0!==s?s:"",richTypes:(0,g.GT)(B)}),impressionType:"Pin",isPaused:!W,loggingId:B.id,slotIndex:I,objectIdStr:O,viewData:C,viewParameter:D,viewType:R,children:(0,_._J)(B)?(0,d.jsx)(f,{pin:B}):(0,d.jsx)(v.Z,w(w({},N),{},{debugImpressionState:W?"started":"paused",onError:X,onLoad:Y,pin:B,pinId:z,trackingParameters:{componentType:T,contextLogData:E,slotIndex:I,viewParameter:D,viewType:R}}))})}},243943:function(e,t,n){"use strict";n.d(t,{Xx:function(){return g},wA:function(){return y},wH:function(){return v}});var r=n(76911),o=n(752802),i=n(835209),a=n(407043),l=n(789707),c=n(533655),s=n(515198);function u(e){return function(e){if(Array.isArray(e))return d(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return d(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return d(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function d(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function p(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function f(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?p(Object(n),!0).forEach((function(t){_(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function _(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var h=(0,r.createContext)(undefined),y=function(e){var t=((0,i.Z)({richPinData:e.rich_metadata})||{}).variant_set||{},n=t.dimension_metadata,r=t.variants;if(!n||!r)return!1;var o=n.find((function(e){var t;return"color"===(null===(t=e.name)||void 0===t?void 0:t.toLowerCase())}));return!!(o&&o.name&&o.values&&1!==o.values.length)},m=function(e){var t=e.pinId,n=e.children,i=e.dimensionMetadata,d=e.primaryDimName,p=e.variants,y=e.primaryDimensionThumbnailImages,m=(0,r.useCallback)((function(e){var t=e.selectedMap,n=(0,c.B)({dimensionMetadata:i,primaryDimName:d,primaryDimensionThumbnailImages:y,defaultStatus:"invalid"});return(0,c.U0)({variantMap:n,selectedMap:t,variants:p}),n}),[i,d,y,p]),v=(0,a.v)().logContextEvent,g=p.find((function(e){return e.is_preselected})),b=(0,l.a)()||{},P=b.pinsState,w=b.setPinState,S=P&&P[t],x=S?S.selectedMap:(0,c.O5)(p),O=S?S.selectedVariants:(0,c.x1)({selectedMap:x,variants:p}),A=S?S.variantMap:m({selectedMap:x}),j=!!S&&S.isSelectedByUser,E=S?S.variantUrl:(null==g?void 0:g.pin_id)||t,T=(0,r.useCallback)((function(e){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=(0,c.x1)({selectedMap:e,variants:p}),o=m({selectedMap:e}),i={selectedMap:e,selectedVariants:r,variantMap:o,isSelectedByUser:n,variantUrl:""},a=r[0].pin_id;a&&(i.variantUrl=a),w&&w(t,i)}),[m,t,w,p]),I=(0,r.useCallback)((function(){var e=(0,c.O5)(p);T(e)}),[T,p]),C=(0,r.useCallback)((function(e){var t,n=e.dimensionName,r=e.variant,o=e.isAutoSelection,i=void 0!==o&&o,a=null===(t=A[n])||void 0===t?void 0:t.find((function(e){return e.value===r}));try{if(!a)throw new Error("Unable to find the selected variant ".concat(n,": ").concat(r));if(x[n]===r)return;var l=f(f({},"invalid"!==a.status?x:{}),{},_({},n,r)),s=(0,c.i8)({variantMap:A,status:"invalid"});(0,c.U0)({variantMap:s,selectedMap:l,variants:p}),T(l,!i),v({event_type:10240,component:14092})}catch(u){throw I(),u}}),[A,x,p,T,I,v]),D=O[0].title,R=(0,o.Z)({images:(O[0].additional_images||[])[0].canonical_images}),k=(0,c.$b)(O),z=(0,r.useMemo)((function(){var e=((null==g?void 0:g.dimensions)||{})[d],t=A[d]||[],n=t;if(e&&t){var r=t.find((function(t){return t.value===e}));r&&(n=[r].concat(u(t.filter((function(t){return t.value!==e})))))}return{dimensionMetadata:i,offerSummary:k,primaryVariants:n,primaryDimName:d,selectedMap:x,isSelectedByUser:j,selectVariant:C,title:D,variants:p,image:R,variantUrl:E}}),[g,d,A,i,k,x,j,C,D,p,R,E]);return(0,s.jsx)(h.Provider,{"data-test-id":"safe-product-pins-feed-context-provider",value:z,children:n})},v=function(e){var t=e.children,n=e.pin;if(!e.isEligible)return(0,s.jsx)(h.Provider,{"data-test-id":"undefined-context-provider",value:void 0,children:t});var r=((0,i.Z)({richPinData:n.rich_metadata})||{}).variant_set||{},o=r.dimension_metadata,a=r.primary_dimension_thumbnail_images,l=r.variants,c=null==o?void 0:o.find((function(e){var t;return"color"===(null===(t=e.name)||void 0===t?void 0:t.toLowerCase())}));return(0,s.jsx)(m,{pinId:n.id,dimensionMetadata:o||[],primaryDimName:(null==c?void 0:c.name)||"",primaryDimensionThumbnailImages:a,variants:l||[],children:t})},g=function(){return(0,r.useContext)(h)}},789707:function(e,t,n){"use strict";n.d(t,{A:function(){return d},a:function(){return p}});var r=n(76911),o=n(515198);function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){l(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function c(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,i=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(c){l=!0,o=c}finally{try{a||null==n.return||n.return()}finally{if(l)throw o}}return i}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return s(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return s(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var u=(0,r.createContext)(void 0),d=function(e){var t=e.children,n=c((0,r.useState)({}),2),i=n[0],s=n[1],d=(0,r.useMemo)((function(){return{setPinState:function(e,t){s(a(a({},i),{},l({},e,a(a({},i[e]||{}),t))))},pinsState:i}}),[i]);return(0,o.jsx)(u.Provider,{value:d,children:t})},p=function(){return(0,r.useContext)(u)}},104389:function(e,t,n){"use strict";n.d(t,{Z:function(){return f}});var r=n(831539),o=n(869503),i=n(474236),a=n(908390),l=n(515198);function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){u(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var d=function(e){var t=e.count,n=e.countFormat,c=e.ratingValue,s=e.shippingInfo;return(0,l.jsxs)(a.kC,{alignItems:"stretch",justifyContent:"start",direction:"column",children:[(0,l.jsx)(r.Z,{count:t,countFormat:n,rating:c,textSize:"200"}),(0,l.jsx)(a.xu,{marginTop:(0,i.Z)({count:t,rating:c})?1:0,children:(0,l.jsx)(o.Z,{customStyles:{color:"subtle",size:"200"},freeShippingPrice:null==s?void 0:s.free_shipping_price,freeShippingValue:null==s?void 0:s.free_shipping_value})})]})},p=function(e){var t=e.count,n=e.countType,c=e.countFormat,s=e.ratingValue,u=e.shippingInfo;return(0,l.jsxs)(a.xu,{alignItems:"center",dangerouslySetInlineStyle:{__style:{rowGap:8}},display:"flex",marginTop:1,wrap:!0,children:[(0,l.jsx)(r.Z,{count:t,countFormat:c,countType:n,rating:s,textSize:"300"}),(0,l.jsx)(o.Z,{customStyles:{color:"default",size:"300"},showPrevDot:(0,i.Z)({count:t,rating:s}),freeShippingPrice:null==u?void 0:u.free_shipping_price,freeShippingValue:null==u?void 0:u.free_shipping_value})]})};function f(e){return e.isGridView?(0,l.jsx)(d,s({},e)):(0,l.jsx)(p,s({},e))}},533655:function(e,t,n){"use strict";n.d(t,{$b:function(){return h},A6:function(){return m},B:function(){return d},O5:function(){return v},U0:function(){return _},i8:function(){return p},x1:function(){return g},xD:function(){return y}});var r=n(752802);function o(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,i=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(c){l=!0,o=c}finally{try{a||null==n.return||n.return()}finally{if(l)throw o}}return i}(e,t)||s(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){l(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function c(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=s(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,l=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){l=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(l)throw i}}}}function s(e,t){if(e){if("string"==typeof e)return u(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?u(e,t):void 0}}function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var d=function(e){var t,n=e.defaultStatus,o=void 0===n?"available":n,i=e.dimensionMetadata,a=e.primaryDimName,l=e.primaryDimensionThumbnailImages,s={},u=c(i);try{for(u.s();!(t=u.n()).done;){var d=t.value,p=d.values,f=d.name;f&&p&&(s[f]=p.map((function(e){return{status:o,value:e}})))}}catch(_){u.e(_)}finally{u.f()}return(s[a]||[]).forEach((function(e,t){var n=l&&l[t.toString()];n&&(e.image=(0,r.Z)({images:n.canonical_images}))})),s},p=function(e){var t=e.status,n=e.variantMap,r={};for(var o in n){var i;r[o]=null===(i=n[o])||void 0===i?void 0:i.map((function(e){return a(a({},e),{},{status:t})}))}return r},f=function(e){var t,n=e.dimensionName,r=e.variants,i=e.selectedTuple,a=e.variantStatuses,l=i.filter((function(e){return o(e,1)[0]!==n})),s=c(r);try{var u=function(){var e=t.value,r=e.dimensions,i=void 0===r?{}:r,c=e.offer_summary,s=void 0===c?{}:c;if(!l.every((function(e){var t=o(e,2),n=t[0],r=t[1];return i[n]===r})))return"continue";var u=a.find((function(e){return e.value===i[n]}));u&&(u.status=s.in_stock||"available"===u.status?"available":"outOfStock")};for(s.s();!(t=s.n()).done;)u()}catch(d){s.e(d)}finally{s.f()}},_=function(e){var t=e.variants,n=e.selectedMap,r=void 0===n?{}:n,o=e.variantMap,i=Object.entries(r);for(var a in o){var l=o[a];l&&f({dimensionName:a,variants:t,selectedTuple:i,variantStatuses:l})}},h=function(e){var t,n,r,o,i,a=!1,l=1===e.length&&e[0].offer_summary||{},s=l.percentage_off,u=l.standard_price,d=c(e);try{for(d.s();!(i=d.n()).done;){var p=i.value.offer_summary||{},f=p.max_price,_=p.max_price_val,h=p.min_price,y=p.min_price_val,m=p.price,v=p.price_val,g=p.price_in_micro_currency,b=p.in_stock,P=v||Number(g);"number"==typeof y&&Number.isFinite(y)&&"number"==typeof _&&Number.isFinite(_)&&((void 0===n||y<n)&&(n=y,t=h),(void 0===o||_>o)&&(o=_,r=f),a=a||!!b),Number.isFinite(P)&&((null==n||P<n)&&(n=P,t=m),(null==o||P>o)&&(o=P,r=m),a=a||!!b)}}catch(w){d.e(w)}finally{d.f()}if(r&&t)return t===r?{in_stock:a,percentage_off:s,price:t,standard_price:u}:{in_stock:a,max_price:r,min_price:t,percentage_off:s,price:t,standard_price:u}},y=function(e,t){return e.length===t.length&&e.every((function(e,n){var o,i;return(null===(o=(0,r.Z)({images:e.canonical_images}))||void 0===o?void 0:o.url)===(null===(i=(0,r.Z)({images:t[n].canonical_images}))||void 0===i?void 0:i.url)}))},m=function(e){var t=new Set;return e.filter((function(e){var n=((0,r.Z)({images:e.canonical_images})||{}).url;return!!n&&(!t.has(n)&&(t.add(n),!0))}))||[]},v=function(e){var t,n=a({},(null===(t=e.find((function(e){return!!e.is_preselected})))||void 0===t?void 0:t.dimensions)||{});for(var r in n)n[r]||delete n[r];return n},g=function(e){var t=e.selectedMap;return e.variants.filter((function(e){var n=e.dimensions,r=void 0===n?{}:n;for(var o in t){var i=t[o];if(r[o]!==i)return!1}return!0}))}},992061:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(908390),o=n(515198);function i(e){var t=e.hovered,n=e.rounding;return(0,o.jsx)(r.xu,{display:t?"block":"none",height:"100%",width:"100%",left:!0,top:!0,position:"fixed",zIndex:new r.Ry(1),color:"transparentDarkGray",rounding:n,opacity:.2})}},807592:function(e,t,n){"use strict";function r(e){var t=e.max_price,n=e.min_price,r=e.price;return t&&n?"".concat(n,"-").concat(t):r}n.d(t,{Z:function(){return r}})},841478:function(e,t,n){"use strict";n.d(t,{A6:function(){return c},BS:function(){return a},EC:function(){return o},_5:function(){return l},m9:function(){return i},z9:function(){return r}});var r=800,o=508,i=424,a=278,l=640,c=508},35495:function(e,t,n){"use strict";n.d(t,{GT:function(){return y},Gy:function(){return s},Kl:function(){return g},QY:function(){return h},RR:function(){return d},SP:function(){return f},Sn:function(){return v},Zs:function(){return m},bA:function(){return _},i8:function(){return u},nn:function(){return c},qN:function(){return p}});var r=n(834911),o=n(229428);function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){l(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var c=function(e){return!!e&&(e.shopping_flags||[]).includes(2)},s=function(e){var t,n;return e.rich_summary&&e.rich_summary.products&&e.rich_summary.products.length>0||(null!==(t=null===(n=e.rich_metadata)||void 0===n?void 0:n.products)&&void 0!==t?t:[]).length>0},u=function(e){var t;return null===(t=e.aggregated_pin_data)||void 0===t?void 0:t.is_shop_the_look},d=function(e){var t,n;return null===(t=e.rich_summary)||void 0===t||null===(n=t.aggregate_rating)||void 0===n?void 0:n.rating_value},p=function(e){return e.is_oos_product},f=function(e){return e.is_stale_product},_=function(e){return p(e)||f(e)},h=function(e){var t,n,r,o,i=null==e||null===(t=e.link_domain)||void 0===t||null===(n=t.official_user)||void 0===n?void 0:n.full_name;if(i)return i;var a=null==e||null===(r=e.rich_summary)||void 0===r?void 0:r.site_name;if(a)return a;if(e.domain)return"Uploaded by user"===e.domain?((e.is_repin?e.origin_pinner:e.pinner)||{}).full_name:e.domain;var l=null==e||null===(o=e.via_pinner)||void 0===o?void 0:o.full_name;return e.is_repin&&l?l:void 0},y=function(e){if(e){var t=e.shopping_flags||[];return!t.includes(10)&&e.product_pin_data&&e.product_pin_data.items&&e.product_pin_data.items[0]&&e.product_pin_data.items[0].additional_images&&t.push(10),t}return[]};function m(e){var t,n,i,l,c,s,u=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},d=y(e),p=a({},u.commerce_data);d.includes(2)&&(p.pin_is_shop_the_look=!0),d.includes(1)&&(p.is_available=!0),d.includes(5)&&(p.is_product_pin_v2=!0),d.includes(6)&&(p.is_rich_product_pin=!0),d.includes(10)&&(p.is_organic_product_carousel=!0);var f=!!e.visual_objects&&(0,o.k)(e.visual_objects)||[];if(f.some((function(e){return!0===e.is_stela}))&&(p.pin_is_stela=!0),e.is_eligible_for_pdp||e.is_ooo_product||e.is_stale_product){e.is_oos_product?p.pin_show_pdp_oos=!0:e.is_stale_product?p.pin_show_pdp_stale=!0:p.pin_show_pdp=!0;var _,h=(0,r.Z)({carouselData:e.carousel_data,images:e.images,richMetadata:null==e?void 0:e.rich_metadata,richSummary:null==e?void 0:e.rich_summary});if(h)p.image_count=null===(_=h.carousel_slots)||void 0===_?void 0:_.length,p.image_index=h.index}null!=e&&null!==(t=e.rich_summary)&&void 0!==t&&null!==(n=t.products)&&void 0!==n&&null!==(i=n[0])&&void 0!==i&&i.item_id&&(p.item_id=e.rich_summary.products[0].item_id),null!=e&&null!==(l=e.rich_summary)&&void 0!==l&&null!==(c=l.products)&&void 0!==c&&null!==(s=c[0])&&void 0!==s&&s.item_set_id&&(p.item_set_id=e.rich_summary.products[0].item_set_id);var m=e.aggregated_pin_data||{};return null!=m&&m.is_shop_the_look&&(p.pin_is_shop_the_look=!0),e.story_pin_data&&(p.story_pin_id=e.story_pin_data.id),p}function v(e){var t=JSON.stringify(e);return"{}"!==t?{commerce_data:t}:null}var g=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(e){var n=m(e,t);return v(n)}return null}},699825:function(e,t,n){"use strict";n.d(t,{Z:function(){return y}});var r=n(76911),o=n(102500),i=n(692627),a=n(47170),l=n(35495),c=n(623568),s=n(407043),u=n(515198);function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function p(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(Object(n),!0).forEach((function(t){f(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function f(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,i=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(c){l=!0,o=c}finally{try{a||null==n.return||n.return()}finally{if(l)throw o}}return i}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return h(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return h(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function h(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function y(e){var t,n,d,f=e.children,h=e.hovered,y=e.pin,m=e.slotIndex,v=e.trafficSource,g=e.viewType,b=(0,s.v)().logContextEvent,P=_((0,r.useState)(),2),w=P[0],S=P[1],x=_((0,r.useState)(),2),O=x[0],A=x[1],j=y.id,E=y.tracked_link,T=y.link,I=E||T||"",C=function(){S(!0)},D=(0,a.Z)(y),R=(0,i.Z)({hasPin:!!y,hasPinRichMetadata:!(null==y||!y.rich_metadata),hasPinRichMetadataProducts:!(null==y||null===(t=y.rich_metadata)||void 0===t||!t.products),hasPinRichMetadataArticle:!(null==y||null===(n=y.rich_metadata)||void 0===n||!n.article),hasPinRichMetadataRecipe:!(null==y||null===(d=y.rich_metadata)||void 0===d||!d.recipe),hasPinStoryPinData:!(null==y||!y.story_pin_data)}),k=(0,r.useCallback)((function(){(function(e,t,n){var r={check_only:n,pin_id:e.id,url:t,client_tracking_params:D,aux_data:JSON.stringify(p(p({clickthrough_type:"rightClick",objectId:j},m||{}),(0,l.Kl)(e)||{}))};return(0,o.Z)(r)})(y,I,!1).callGet({showError:!1}).then((function(e){e&&(b({event_type:12,object_id_str:j,view_type:g,view_parameter:R,aux_data:p(p({clickthrough_type:"rightClick"},m||{}),(0,l.Kl)(y)||{})}),b({event_type:8948,view_type:g,object_id_str:j,view_parameter:R,aux_data:p(p({click_type:"clickthrough",closeup_navigation_type:v&&(0,c.sV)(v)?"deeplink":"click",clickthrough_type:"rightClick"},m||{}),(0,l.Kl)(y)||{})}))}))})),z=function e(t){var n;w&&(/^\/pin/.test(null===(n=t.target.activeElement.attributes.href)||void 0===n?void 0:n.value)||(k(),S(!1)),window.removeEventListener(O,e,!1))};return(0,r.useEffect)((function(){var e,t,n,r,o,i;void 0!==(null===(e=window)||void 0===e||null===(t=e.document)||void 0===t?void 0:t.hidden)?A("visibilitychange"):void 0!==(null===(n=window)||void 0===n||null===(r=n.document)||void 0===r?void 0:r.msHidden)?A("msvisibilitychange"):void 0!==(null===(o=window)||void 0===o||null===(i=o.document)||void 0===i?void 0:i.webkitHidden)&&A("webkitvisibilitychange")}),[]),(0,r.useEffect)((function(){return w&&window&&window.addEventListener(O,z,!1),function(){return window.removeEventListener(O,z)}}),[w,O]),(0,r.useEffect)((function(){return h&&window.addEventListener("contextmenu",C),function(){window.removeEventListener("contextmenu",C)}}),[h]),(0,u.jsx)(r.Fragment,{children:f})}},241244:function(e,t,n){"use strict";n.d(t,{N:function(){return a},Z:function(){return i}});var r=n(908390),o=n(515198);function i(e){var t=e.children,n=e.fullWidth;return(0,o.jsx)(r.xu,{"data-test-id":"pointer-events-wrapper",dangerouslySetInlineStyle:{__style:{pointerEvents:"auto",width:n?"100%":void 0}},children:t})}function a(e){var t=e.children;return e.enabled?(0,o.jsx)(i,{children:t}):t}},310227:function(e,t,n){"use strict";n.d(t,{Dv:function(){return i},Ml:function(){return a},Oc:function(){return r},mv:function(){return o}});var r=16,o=4,i={SAVED:"rgba(0, 0, 0, 0.33)",VISUAL:"rgba(0, 0, 0, 0.1)",LEGO_WASH:"rgba(0, 0, 0, 0.4)"},a=120},743473:function(e,t,n){"use strict";n.d(t,{Z:function(){return T}});var r=n(567831),o=n(794230),i=n(107193),a=n(402201),l=n(704115),c=n(6637);var s={open:function(e){var t,n,u=(n=e,s._validParams.reduce((function(e,t){return n&&Object.prototype.hasOwnProperty.call(n,t)&&(e[t]=n[t]),e}),{})),d=s._getDialogType(e),p=s.generateFbRef(null!==(t=e.unauthId)&&void 0!==t?t:""),f=e.object_type&&e.object_id&&"feed"===d,_=(0,r.Z)(e.path),h=(0,l.Z)();if(h.ptrf&&(_=(0,o.Z)(_,{ptrf:h.ptrf})),f&&(_=(0,o.Z)(_,{fb_ref:p})),u.method=d,"feed"===u.method){var y=(0,a.Z)({width:e.width,height:e.height}),m="http://www.facebook.com/sharer/sharer.php?u="+_;u.picture&&(m+="&picture="+u.picture),u.name&&(m+="&title="+u.name),u.description&&(m+="&description="+u.description),u.caption&&(m+="&caption="+u.caption),window.open(encodeURI(m),"sharer",y)}else"send"===u.method?u.link=_:"share"===u.method&&(u.href=_),(0,i.default)((function(t){t.getLoginStatus((function(){if("send"===u.method){t.ui(u);var n,r=10,o=setInterval((function(){!(n=function(){if(document){var e=Array.from(document.querySelectorAll(".fb_dialog_iframe iframe"));if(e.length){if(1===e.length)return e[0];for(var t=e.splice(0,e.length-1),n=0;n<t.length;n+=1){var r=t[n].parentNode;r&&r.removeChild(t[n])}return e[0]}}}())&&r||(clearInterval(o),n&&s.executeMessengerCallback(n,e.callback)),r-=1}),1e3)}else"share"===u.method&&t.ui(u,(function(t){f&&t&&!t.error_message&&c.Z.create("LogFacebookFeedShare",{object_type:e.object_type,object_id:e.object_id,fb_ref:p}).callCreate({showError:!1}),e.callback&&e.callback(t)}))}))}),e.viewer)},_validParams:["description","name","picture","to","href","caption","display"],_validOptions:["send","feed","share"],executeMessengerCallback:function(e,t){var n=10,r=setInterval((function(){"0px"!==e.style.width&&n||(clearInterval(r),e.style.width="575px"),n-=1}),1e3);t&&t()},generateFbRef:function(e){for(var t="";t.length<20;)t+=Math.floor(65535*Math.random()).toString(16);return e+":"+t},_getDialogType:function(e){return s._validOptions.includes(e.type)?e.type:"feed"}},u=s;function d(e,t,n){var r=function(e,t){var n=window.screen.width,r=window.screen.height;return"scrollbars=yes,resizable=yes,toolbar=no,location=yes,width="+e+",height="+t+",left="+Math.round((n-e)/2)+",top="+(r>t?Math.round((r-t)/2):0)}(t,n);window.open(e,void 0,r)}var p,f,_={DIALOG_WIDTH:510,DIALOG_HEIGHT:525,openDialog:function(e){d(_._getWindowUrl(e.share_path,e.share_text),_.DIALOG_WIDTH,_.DIALOG_HEIGHT)},_getWindowUrl:function(e,t){return(0,o.Z)("https://social-plugins.line.me/lineit/share",{url:e?(0,r.Z)(e):void 0,text:t})}},h=_,y={DIALOG_WIDTH:550,DIALOG_HEIGHT:420,openDialog:function(e){d(y._getWindowUrl(e.tweet_path,e.tweet_text),y.DIALOG_WIDTH,y.DIALOG_HEIGHT)},_getWindowUrl:function(e,t){return(0,o.Z)("https://twitter.com/intent/tweet",{via:"pinterest",url:e?(0,r.Z)(e):void 0,text:t||void 0})}},m=y,v=n(704217);function g(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function b(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?g(Object(n),!0).forEach((function(t){P(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):g(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function P(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function w(e,t,n,r,o,i,a){try{var l=e[i](a),c=l.value}catch(s){return void n(s)}l.done?t(c):Promise.resolve(c).then(r,o)}function S(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){w(i,r,o,a,l,"next",e)}function l(e){w(i,r,o,a,l,"throw",e)}a(void 0)}))}}var x=void 0!==p?p:p=n(166379),O=void 0!==f?f:f=n(380465),A=function(){var e=S(regeneratorRuntime.mark((function e(t,n,r){var o,i,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=function(e){var t,n,r;return{invite_code:null!==(t=null==e?void 0:e.invite_code)&&void 0!==t?t:"",invite_url:null!==(n=null==e?void 0:e.invite_url)&&void 0!==n?n:"",title:null!==(r=null==e?void 0:e.title)&&void 0!==r?r:""}},e.next=3,(0,v.fetchQuery)(t,O,{invite_category:r.toString(),url:n}).toPromise();case 3:return a=e.sent,e.abrupt("return",i(null==a||null===(o=a.v3CreateShareLinkQuery)||void 0===o?void 0:o.data));case 5:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),j=function(){var e=S(regeneratorRuntime.mark((function e(t,n,r,o,i){var a,l,c,s;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return l=function(e){var t,n,r;return{invite_code:null!==(t=null==e?void 0:e.invite_code)&&void 0!==t?t:"",invite_url:null!==(n=null==e?void 0:e.invite_url)&&void 0!==n?n:"",title:null!==(r=null==e?void 0:e.title)&&void 0!==r?r:""}},c={invite_category:n,invite_object:r,invite_channel:o},e.next=4,(0,v.fetchQuery)(t,x,{inviteType:JSON.stringify(c),objectId:i}).toPromise();case 4:return s=e.sent,e.abrupt("return",l(null==s||null===(a=s.v3InviteUserExternalQuery)||void 0===a?void 0:a.data));case 6:case"end":return e.stop()}}),e)})));return function(t,n,r,o,i){return e.apply(this,arguments)}}(),E={ObjectTypeToInviteObject:{pin:1,board:2,pinner:3,article:5,did_it:6,today_article:8,search:0},_convertToInviteObject:function(e){return this.ObjectTypeToInviteObject[e]||0},_logShareInvite:function(e,t,n){var r=this._convertToInviteObject(e.object_type),o=e.invite_channel,i=null==e.invite_category?3:e.invite_category,a=e.object_id;return c.Z.create("SentExternalInviteCallbackResource",{invite_type:{invite_category:i,invite_object:r,invite_channel:o},invite_code:t,object_id:a,client_tracking_params:e.client_tracking_params}).callCreate()},createShareInviteData:function(e,t){var n=this._convertToInviteObject(e.object_type),r=e.invite_channel,o=null==e.invite_category?3:e.invite_category,i=e.orbac_subject_id;if(10===o&&e.path)return t?A(t,e.path,o):c.Z.create("ShareLinkResource",{invite_category:o,url:e.path}).callCreate().then((function(e){return Promise.resolve(e.resource_response.data)}),(function(e){return Promise.reject(e)}));if(t)return j(t,o,n,r.toString(),e.object_id);var a=e.object_id;return c.Z.create("CreateExternalInviteResource",b({invite_type:{invite_category:o,invite_object:n,invite_channel:r},object_id:a},i?{orbac_subject_id:i}:{})).callCreate().then((function(e){return Promise.resolve(e.resource_response.data)}),(function(e){return Promise.reject(e)}))},logShareInvite:function(e,t,n){t&&E._logShareInvite(e,t.invite_code,n)},shareFacebookInvite:function(e,t){var n=e.options,r=e.unauthId,o=e.viewer;return E.createShareInviteData(n,t).then((function(e){var i=e.invite_url,a=e.invite_code;if(i){var l={type:"share",object_type:n.object_type,object_id:n.object_id,name:n.name,caption:e.title,description:n.description,path:i,picture:n.picture,callback:function(e){e&&!e.error_message&&E._logShareInvite(n,a,t)}};u.open(b(b({},l),{},{display:"popup",unauthId:r,viewer:o}))}return Promise.resolve(e)}),(function(e){return Promise.reject(e)}))},shareTwitterInvite:function(e,t){var n=this._convertToInviteObject(e.object_type);return E.createShareInviteData(e,t).then((function(r){var o=r.invite_url,i=r.invite_code,a=e.description;return 6===n&&e.name&&(a=e.name),a.trim()||(a="".concat(r.title,"\n")),o&&m.openDialog({tweet_path:o,tweet_text:a}),E._logShareInvite(e,i,t),Promise.resolve(r)}),(function(e){return Promise.reject(e)}))},shareLineInvite:function(e,t){var n=this._convertToInviteObject(e.object_type);return E.createShareInviteData(e,t).then((function(r){var o=r.invite_url,i=r.invite_code,a=e.description;return 6===n&&e.name&&(a=e.name),a.trim()||(a="".concat(r.title,"\n")),o&&h.openDialog({share_path:o,share_text:a}),E._logShareInvite(e,i,t),Promise.resolve(r)}),(function(e){return Promise.reject(e)}))},shareFbMessengerInvite:function(e,t){var n=e.options,r=e.unauthId,o=e.viewer;return E.createShareInviteData(n,t).then((function(e){var i=e.invite_url,a=e.invite_code;return i&&u.open({type:"send",object_type:n.object_type,object_id:n.object_id,name:n.name,caption:e.title,description:n.description,path:i,picture:n.picture,callback:function(e){e&&e.success&&E._logShareInvite(n,a,t)},display:"popup",unauthId:r,viewer:o}),Promise.resolve(e)}),(function(e){return Promise.reject(e)}))}},T=E},754320:function(e,t,n){"use strict";var r=n(76911),o=n(941646),i=n(898781),a=n(905031),l=n(407043),c=n(908390),s=n(444445),u=n(515198);t.Z=function(e){var t=e.contentIds,n=e.previewImageSrc,d=e.url,p=e.buttonText,f=e.shape,_=void 0===f?"square":f,h=e.storyId,y=e.storyType,m=e.view,v=e.viewParameter,g=e.component,b=e.element,P="square"===_?4:"circle",w=(0,a.Z)()?s.tG:s.yF,S=(0,l.v)().logContextEvent,x=(0,i.ZP)(),O=(0,r.useMemo)((function(){return!(Number.isNaN(m)||Number.isNaN(v)||Number.isNaN(g)||Number.isNaN(b))}),[m,v,g,b]);return(0,r.useEffect)((function(){O&&S({event_type:120,view_type:m,view_parameter:v,component:g,element:b,aux_data:{content_ids:t,story_id:h,story_type:y}})}),[t,S,m,v,g,b,O,h,y]),(0,u.jsx)(o.Z,{id:"sf-action-item-rep",children:(0,u.jsx)(c.xu,{width:w,height:w,color:"secondary",rounding:P,overflow:"hidden",children:(0,u.jsx)(c.zd,{height:"100%",width:"100%",wash:!0,rounding:P,children:(0,u.jsx)(c.Ee,{src:n||"",alt:x._('Action Item Rep Preview Image', 'actionItemRep.image', 'alt text for a preview image image in action item'),color:"#fff",fit:"cover",naturalHeight:50,naturalWidth:50,children:(0,u.jsx)(c.xu,{height:"100%",width:"100%",left:!0,top:!0,alignItems:"center",justifyContent:"center",display:"flex",dangerouslySetInlineStyle:{__style:{backgroundColor:"rgba(0,0,0,0.3)"}},children:(0,u.jsx)(c.zx,{onClick:function(){O&&S({event_type:101,view_type:m,view_parameter:v,component:g,element:b,aux_data:{content_ids:t,story_id:h,story_type:y}})},text:p,role:"link",href:d,color:"white",size:"lg"})})})})})})}},316743:function(e,t,n){"use strict";n.d(t,{Z:function(){return S}});var r=n(76911),o=n(992061),i=n(898781),a=n(444445),l=n(215292),c=n(608760),s=n(908390),u=n(515198);function d(e){var t,n,d=e.item,p=void 0===d?{}:d,f=e.imagePlaceholderColor,_=void 0===f?c.hK:f,h=e.onTap,y=(0,i.ZP)(),m=null==p||null===(t=p.cover_images)||void 0===t?void 0:t[0],v=null==m?void 0:m["236x"];return(0,u.jsx)(s.iP,{onTap:h,children:(0,u.jsxs)(r.Fragment,{children:[(0,u.jsx)(l.q,{children:function(e){var t=e.hovered,n=e.onMouseEnter,r=e.onMouseLeave;return(0,u.jsx)(s.xu,{marginBottom:2,"data-test-id":"category-bubble",onMouseEnter:n,onMouseLeave:r,children:(0,u.jsxs)(s.zd,{height:a.yF,rounding:"circle",wash:!0,width:a.yF,children:[(0,u.jsx)(o.Z,{hovered:t,rounding:"circle"}),(0,u.jsx)(s.Ee,{alt:y._('Image previewing contents of an item', 'itemRep.userRep.previewImage', 'alt text for an image previewing the contents of an item'),color:_,fit:"cover",naturalHeight:a.yF,naturalWidth:a.yF,src:(null==v?void 0:v.url)||""})]})})}}),(null==p||null===(n=p.title)||void 0===n?void 0:n.format)&&(0,u.jsx)(s.xu,{width:a.yF,children:(0,u.jsx)(s.xv,{align:"center",weight:"bold",children:p.title.format})})]})})}var p="pill";var f,_=n(676302),h=n(407043),y=n(609500),m=n(366428);function v(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function g(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?v(Object(n),!0).forEach((function(t){b(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):v(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function b(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var P=function(){},w=(b(f={},2,d),b(f,3,(function(e){var t=e.item,n=void 0===t?{}:t,r=e.onTap,c=(0,i.ZP)(),d=function(e,t){switch(e){case 2:return{icon:"workflow-status-all",text:t._('Categories', 'NavigationBubble.NavigationIcon.utils', 'Categories navigation button text')};case 3:return{icon:"shopping-bag",text:t._('Stores', 'ExploreArticleRep.NavigationBubble.utils', 'Stores navigation button text')};case 4:return{icon:"terms",text:t._('Your items', 'ExploreArticleRep.NavigationBubble.utils', 'Your items navigation button text')};default:return{icon:null}}}(null==n?void 0:n.identifier_icon_type,c),f=d.icon,_=d.text;return(0,u.jsx)(s.iP,{onTap:r,tapStyle:"compress",rounding:f?5:p,children:(0,u.jsx)(l.q,{children:function(e){var t,r,i,l=e.active,c=e.hovered,d=e.onMouseEnter,h=e.onMouseLeave,y=e.onFocus,m=e.onBlur;return(0,u.jsxs)(s.xu,{"data-test-id":"navigation-bubble",onMouseEnter:d,onMouseLeave:h,onFocus:y,onBlur:m,rounding:5,children:[f&&(0,u.jsxs)(s.zd,{height:85,rounding:5,wash:!0,width:85,children:[(0,u.jsx)(o.Z,{hovered:c}),(0,u.jsx)(s.xu,{alignItems:"center",color:"secondary",display:"flex",height:"100%",justifyContent:"center",padding:2,width:"100%",children:(0,u.jsx)(s.JO,{accessibilityLabel:_||"",color:"default",icon:f,size:32})})]}),_&&(0,u.jsx)(s.xu,{marginTop:2,width:85,children:(0,u.jsx)(s.xv,{align:"center",weight:"bold",children:_})}),!f&&!_&&(null==n||null===(t=n.title)||void 0===t?void 0:t.format)&&(0,u.jsx)(s.xu,{rounding:p,dangerouslySetInlineStyle:{__style:{backgroundColor:null===(r=n.aux_fields)||void 0===r?void 0:r.button_background_color}},children:(0,u.jsx)(s.xu,{rounding:p,padding:4,dangerouslySetInlineStyle:{__style:{backgroundColor:(l?"rgba(0, 0, 0, 0.15)":c&&"rgba(0, 0, 0, 0.06)")||void 0}},children:(0,u.jsx)(s.xv,{align:"center",weight:"normal",color:"#ffffff"===(null===(i=n.aux_fields)||void 0===i?void 0:i.button_text_color)?"inverse":"default",children:(0,u.jsx)(s.xu,{maxWidth:a.yF-16,overflow:"hidden",dangerouslySetInlineStyle:{__style:{whiteSpace:"nowrap",textOverflow:"ellipsis"}},children:n.title.format})})})})]})}})})})),b(f,1,(function(e){var t,n=e.item,r=void 0===n?{}:n,a=e.onTap,c=(0,i.ZP)(),d=null==r||null===(t=r.cover_images)||void 0===t?void 0:t[0],p=null==d?void 0:d["236x"];return(0,u.jsx)(s.iP,{onTap:a,tapStyle:"compress",rounding:3,children:(0,u.jsx)(l.q,{children:function(e){var t,n=e.hovered,i=e.onMouseEnter,a=e.onMouseLeave;return(0,u.jsx)(s.xu,{"data-test-id":"search-bubble",onMouseEnter:i,onMouseLeave:a,rounding:3,children:(0,u.jsxs)(s.zd,{height:150,rounding:3,wash:!0,width:300,children:[(0,u.jsx)(o.Z,{hovered:n}),(0,u.jsx)(s.Ee,{alt:c._('Image previewing contents of an item', 'itemRep.userRep.previewImage', 'alt text for an image previewing the contents of an item'),fit:"cover",naturalHeight:150,naturalWidth:300,role:"presentation",src:(null==p?void 0:p.url)||"",children:(0,u.jsx)(s.xu,{alignItems:"center",color:"transparentDarkGray",display:"flex",justifyContent:"center",height:150,padding:3,position:"absolute",top:!0,width:300,children:(null==r||null===(t=r.title)||void 0===t?void 0:t.format)&&(0,u.jsx)(s.X6,{color:"inverse",size:"400",children:r.title.format})})})]})})}})})})),b(f,4,_.Z),f);function S(e){var t,n,o=e.component,i=e.slotIndex,a=e.item,l=e.showExpandedHeader,c=e.story,p=e.view,f=e.viewParameter,_=c||{},v=_.display_options,b=_.type,S=_.id,x=_.content_ids,O=(0,h.v)().logContextEvent,A=(0,y.useHistory)(),j=null==a?void 0:a.id,E=(0,r.useMemo)((function(){return{story_type:b,story_id:S,content_ids:x,article_id:j}}),[j,x,S,b]),T=(0,m.Z)({componentType:o,contextLogData:E,impressionType:"Article",loggingId:j,objectIdStr:j,slotIndex:i,viewParameter:f,viewType:p}),I=l?null==v||null===(t=v.item_view_rep_style)||void 0===t?void 0:t.expanded_explore_article_rep_style:null==v||null===(n=v.item_view_rep_style)||void 0===n?void 0:n.explore_article_rep_style,C=((a||{}).action||{}).url,D=void 0===C?"":C,R=Object.hasOwnProperty.call(w,I)?w[I]:d,k=l?P:function(){A.push(D),O({event_type:101,component:o,view_type:p,view_parameter:f,aux_data:E})};return(0,u.jsx)(s.xu,{ref:T,children:(0,u.jsx)(R,g(g({},e),{},{onTap:k}))})}},676302:function(e,t,n){"use strict";n.d(t,{Z:function(){return a},u:function(){return i}});var r=n(908390),o=n(515198),i=369;function a(e){var t=e.item,n=e.onTap,a=e.slotIndex,l=t.action,c=t.aux_fields,s=t.cover_images,u=t.dominant_colors,d=t.title;if(!d||!s||!l)return null;var p=s.length<=0?[{}]:s.slice(0,2);return(0,o.jsx)(r.iP,{onTap:n,tapStyle:"compress",rounding:4,children:(0,o.jsxs)(r.xu,{alignItems:"center","data-test-id":"style-bubble",display:"flex",height:258,justifyContent:"center",overflow:"hidden",position:"relative",rounding:4,width:i,children:[(0,o.jsx)(r.kC,{children:p.map((function(e,t){var n,l,c;return(0,o.jsx)(r.zd,{height:258,wash:!0,width:i/p.length,children:(0,o.jsx)(r.Ee,{alt:"",color:(u||[])[t],fit:"cover",naturalHeight:1,naturalWidth:1,role:"presentation",src:(null===(n=e["474x"])||void 0===n?void 0:n.url)||(null===(l=e["736x"])||void 0===l?void 0:l.url)||(null===(c=e["236x"])||void 0===c?void 0:c.url)||""})},"styleCarousel_bubble".concat(a,"_pin").concat(t))}))}),(0,o.jsx)(r.xu,{dangerouslySetInlineStyle:{__style:{backgroundColor:null==c?void 0:c.button_background_color}},paddingX:4,paddingY:3,position:"absolute",rounding:"pill",children:(0,o.jsx)(r.xv,{align:"center",weight:"bold",children:(0,o.jsx)("span",{style:{color:null==c?void 0:c.button_text_color,margin:"0"},children:d.format})})})]})})}},547560:function(e,t,n){"use strict";n.d(t,{Z:function(){return u},x:function(){return s}});var r=n(1514),o=n(855430),i=n(34518),a=n(503390),l=n(908390),c=n(515198),s=299;function u(e){var t=e.pinCards,n=e.isClicked,u=e.isHovered,d=e.item,p=void 0===d?{}:d,f=p.board_name,_=p.header_text,h=p.top_image_dominant_color_rgb;return(0,c.jsxs)(l.xu,{height:n?106:110,display:"flex",paddingY:2,position:"relative",rounding:i.N3,width:n?s-4:s,dangerouslySetInlineStyle:{__style:(0,a.f)(h,n,u)},children:[(0,c.jsx)(o.Z,{}),(0,c.jsx)(l.xu,{width:112,position:"relative",children:t.map((function(e,t){return(0,c.jsx)(r.Z,{fanOut:u||n,card:e,index:t,size:"SMALL"},t)}))}),(0,c.jsxs)(l.xu,{display:"flex",direction:"column",justifyContent:"center",marginStart:2,width:155,children:[(0,c.jsx)(l.xv,{size:"200",children:_}),(0,c.jsx)(l.xv,{lineClamp:2,size:"400",weight:"bold",children:f})]})]})}},557115:function(e,t,n){"use strict";n.d(t,{Z:function(){return w}});var r=n(76911),o=n(547560),i=n(1514),a=n(855430),l=n(34518),c=n(503390),s=n(908390),u=n(515198);var d,p=n(407043);function f(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function _(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?f(Object(n),!0).forEach((function(t){g(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function h(e){return function(e){if(Array.isArray(e))return v(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||m(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function y(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,i=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(c){l=!0,o=c}finally{try{a||null==n.return||n.return()}finally{if(l)throw o}}return i}(e,t)||m(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function m(e,t){if(e){if("string"==typeof e)return v(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?v(e,t):void 0}}function v(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function g(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var b=(g(d={},1,o.Z),g(d,3,(function(e){var t=e.pinCards,n=e.isClicked,r=e.isHovered,o=e.item,d=o.board_name,p=o.top_image_dominant_color_rgb;return(0,u.jsxs)(s.xu,{height:n?165:169,display:"flex",alignItems:"end",justifyContent:"center",paddingX:4,paddingY:3,position:"relative",rounding:l.N3,width:n?232:236,dangerouslySetInlineStyle:{__style:(0,c.f)(p,n,r)},children:[(0,u.jsx)(a.Z,{}),t.map((function(e,t){return(0,u.jsx)(i.Z,{fanOut:r||n,card:e,index:t,size:"DEFAULT"},t)})),(0,u.jsx)(s.xv,{align:"center",lineClamp:1,size:"200",weight:"bold",children:d})]})})),g(d,4,(function(e){var t=(0,p.v)().logContextEvent,n=e.pinCards,r=e.isHovered,o=e.item,d=e.view,f=e.viewParameter,_=o.board_name,h=o.header_text,y=o.ideas_deep_link_url,m=o.top_image_dominant_color_rgb;return(0,u.jsxs)(s.xu,{alignItems:"center",direction:"column",display:"flex",justifyContent:"end",marginBottom:6,minHeight:377,position:"relative",paddingX:4,paddingY:8,rounding:l.N3,width:236,dangerouslySetInlineStyle:{__style:(0,c.f)(m,!1,r)},children:[n.map((function(e,t){return(0,u.jsx)(i.Z,{fanOut:r,card:e,index:t,size:"LARGE"},t)})),(0,u.jsx)(s.xu,{height:168,width:"100%"}),(0,u.jsx)(a.Z,{}),(0,u.jsxs)(s.kC,{alignItems:"stretch",direction:"column",height:"100%",justifyContent:"end",children:[(0,u.jsxs)(s.xu,{display:"flex",direction:"column",alignItems:"center",marginTop:5,marginBottom:5,children:[(0,u.jsx)(s.xu,{marginBottom:1,children:(0,u.jsx)(s.xv,{size:"200",weight:"bold",children:h})}),(0,u.jsx)(s.xv,{align:"center",size:"500",weight:"bold",children:_})]}),(0,u.jsx)(s.xu,{display:"flex",justifyContent:"center",marginTop:1,position:"relative",width:"100%",children:(0,u.jsx)(s.zx,{color:"white",href:y.concat("?ideas_referrer=".concat(25)),size:"lg",onClick:function(e){e.event.stopPropagation(),t({event_type:101,view_type:d,view_parameter:f,component:14268,element:13002,object_id_str:o.board_id})},role:"link",text:"Explore"})})]})]})})),d),P=["100%","60%"];function w(e){var t,n=e.component,o=e.isInViewOrNext,i=e.item,a=i.board_id,d=i.ideas_deep_link_url,f=i.images,m=i.image_dominant_color_rgb,v=e.slotIndex,g=e.story,w=void 0===g?{}:g,S=e.view,x=e.viewParameter,O=(0,p.v)().logContextEvent,A=w.display_options,j=w.objects,E=null==j?void 0:j.length,T=y((0,r.useState)(!1),2),I=T[0],C=T[1],D=y((0,r.useState)(!1),2),R=D[0],k=D[1],z=y((0,r.useState)(!1),2),N=z[0],L=z[1];(0,r.useEffect)((function(){var e=setTimeout((function(){return L(!0)}),700);return function(){clearTimeout(e)}}),[]);var M=[];o&&(M=N?h(f[l.O$]):[f[l.O$][0]]);for(var B=3-M.length,Z=0;Z<B;Z+=1)M.push({colorRGB:m,opacity:P[Z]});M.reverse();var F=null==A||null===(t=A.item_view_rep_style)||void 0===t?void 0:t.more_ideas_rep_style,U=b[F],G=n||c.k[F];return U&&(0,u.jsx)(s.iP,{href:d.concat("?ideas_referrer=".concat(25)),role:"link",onMouseEnter:function(){return C(!0)},onMouseLeave:function(){return C(!1)},onMouseDown:function(){return k(!0)},onTap:function(){return O({event_type:101,view_type:S,view_parameter:x,component:G,element:13002,object_id_str:a,aux_data:{index:v,total_object_count:E}})},children:(0,u.jsx)(U,_({isClicked:R,isHovered:I,pinCards:M},e))})}},1514:function(e,t,n){"use strict";n.d(t,{Z:function(){return l}});var r=n(908390),o=n(515198),i={SMALL:{HEIGHT_PX:72,WIDTH_PX:54},DEFAULT:{HEIGHT_PX:96,WIDTH_PX:72},LARGE:{HEIGHT_PX:130,WIDTH_PX:98}},a=function(e,t,n){var r;switch(n){case"SMALL":r={0:{transform:t?"rotate(-22deg)":"rotate(-15deg)",top:"12px",left:"12px"},1:{transform:t?"rotate(1deg)":"rotate(0deg)",top:t?"6px":"10px",left:"26px"},2:{transform:t?"rotate(24deg)":"rotate(15deg)",top:"12px",left:"40px"}};break;case"LARGE":r={0:{transform:t?"rotate(-26deg)":"rotate(-15deg)",top:"50px",left:"44px"},1:{transform:t?"rotate(1deg)":"rotate(0deg)",top:t?"36px":"40px",left:"68px"},2:{transform:t?"rotate(26deg)":"rotate(15deg)",top:"56px",left:"98px"}};break;default:r={0:{transform:t?"rotate(-22deg)":"rotate(-15deg)",top:"20px",left:"64px"},1:{transform:t?"rotate(1deg)":"rotate(0deg)",top:t?"10px":"14px",left:"82px"},2:{transform:t?"rotate(24deg)":"rotate(15deg)",top:"20px",left:"100px"}}}var o=r[e];return o.border="1px solid #FFFFFF",o.transition="all 150ms ease-out",o};function l(e){var t,n=e.fanOut,l=e.card,c=e.index,s=e.size,u=i[s],d=l.height,p=void 0===d?u.HEIGHT_PX:d,f=l.url,_=l.width,h=void 0===_?u.WIDTH_PX:_,y=l.colorRGB,m=l.opacity;return f?t=(0,o.jsx)(r.Ee,{alt:f,fit:"cover",naturalHeight:p,naturalWidth:h,src:f}):y&&m&&(t=(0,o.jsx)(r.xu,{height:u.HEIGHT_PX,width:u.WIDTH_PX,dangerouslySetInlineStyle:{__style:{backgroundColor:"rgba(".concat(y.join(", "),", ").concat(m,")")}}})),(0,o.jsx)(r.xu,{rounding:5,position:"absolute",dangerouslySetInlineStyle:{__style:a(c,n,s)},children:(0,o.jsx)(r.zd,{height:u.HEIGHT_PX,rounding:5,width:u.WIDTH_PX,wash:!0,children:t})})}},855430:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var r=n(908390),o=n(34518),i=n(515198);function a(){return(0,i.jsx)(r.xu,{position:"absolute",rounding:o.N3,top:!0,bottom:!0,right:!0,left:!0,dangerouslySetInlineStyle:{__style:{backgroundColor:"rgba(0, 0, 0, 0.03)"}}})}},34518:function(e,t,n){"use strict";n.d(t,{N3:function(){return r},O$:function(){return a},Ql:function(){return o},a$:function(){return i}});var r=4,o=.35,i=.5,a="170x"},503390:function(e,t,n){"use strict";n.d(t,{f:function(){return a},k:function(){return l}});var r,o=n(34518);function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var a=function(e,t,n){return{backgroundColor:"rgba(".concat(e.join(", "),", ").concat((r=n||t,r?o.a$:o.Ql),")"),marginRight:t?"2px":"0px",marginLeft:t?"2px":"0px"};var r},l=(i(r={},1,14114),i(r,3,14074),i(r,4,14268),r)},988874:function(e,t,n){"use strict";n.d(t,{Z:function(){return f}});var r=n(656226),o=n(905031),i=n(908390),a=n(91885),l=n(477802),c=n(826067),s=n(609500),u=n(444445),d=n(515198),p=function(e){return null!=e&&e.shop_source||["product_pins","shopping_list"].includes(null==e?void 0:e.story_type)?"ShoppingDynamicHeightGrid":"StoryFeedNonProduct"};function f(e){var t,n,f,_=(0,c.mB)((0,s.useLocation)().search).pins_display,h=e.component,y=e.slotIndex,m=e.item,v=e.story,g=e.surface,b=e.view,P=e.viewParameter,w=(0,o.Z)()?u.tG:u.yF;if(!m)return null;var S=v||{},x=S.story_type,O=S.id,A=S.content_ids,j=S.display_options,E=((null==j?void 0:j.content_display)||{}).pins_display,T=m.id,I=m.debug,C=![3,1].includes(null!=E?E:Number(_)),D={story_type:x,story_id:O,content_ids:A},R=(0,d.jsxs)(i.xu,{"data-test-id":a.Kb,children:[(0,d.jsx)(r.default,{pin:m,pinId:T,pinImageCrop:C?{height:w,width:w}:null,authDesktopSurface:g||p(v),impressionData:D,auxData:D,componentType:null!==(t=null==v||null===(n=v.display_options)||void 0===n||null===(f=n.content_display)||void 0===f?void 0:f.component_type)&&void 0!==t?t:h,slotIndex:y,viewData:{pin_id:T},viewParameter:P,viewType:b}),I&&(0,d.jsx)(l.W,{data:I})]});return C?(0,d.jsx)(i.xu,{flex:"none",width:w,children:R},T):R}},36546:function(e,t,n){"use strict";n.d(t,{Z:function(){return I}});var r=n(76911),o=n(992061),i=n(898781),a=n(215292),l=n(349700),c=n(908390),s=n(515198);function u(e){var t=e.color,n=e.fullName,r=e.size,u=e.src,d=(0,i.ZP)();return(0,s.jsx)(a.q,{children:function(e){var i=e.hovered,a=e.onMouseEnter,p=e.onMouseLeave;return(0,s.jsx)(c.xu,{marginBottom:2,"data-test-id":"category-bubble",onMouseEnter:a,onMouseLeave:p,children:(0,s.jsxs)(c.zd,{height:r,rounding:"circle",width:r,wash:!0,children:[(0,s.jsx)(o.Z,{hovered:i,rounding:"circle"}),(0,s.jsx)(c.Ee,{naturalHeight:r,naturalWidth:r,src:u,color:t,alt:(0,l.nk)(d._('Logo of {{ fullName }}', 'itemRep.userRep.brandLogo', 'Alt text for the brand logo'),{fullName:n}).join("")})]})})}})}var d=function(e){var t=e.name;return(0,s.jsx)(c.xu,{dangerouslySetInlineStyle:{__style:{textAlign:"center"}},children:(0,s.jsxs)(c.xv,{inline:!0,weight:"bold",children:[t.toUpperCase()+" ",(0,s.jsx)(c.JO,{accessibilityLabel:"Pin",color:"shopping",icon:"check-circle",inline:!0})]})})},p=n(444445),f=n(608760),_=function(e){var t=e.item,n=void 0===t?{}:t,r=e.imagePlaceholderColor,o=void 0===r?f.hK:r,i=n.username,a=n.image_large_url,l=n.full_name;return(0,s.jsxs)(c.xu,{width:p.yF,children:[(0,s.jsx)(c.xu,{display:"flex",justifyContent:"center",marginBottom:2,children:(0,s.jsx)(u,{size:120,fullName:l||i,src:a||"",color:o})}),l&&(0,s.jsx)(d,{name:l})]})};function h(e){var t=e.height,n=e.width,r=e.src;return(0,s.jsx)(c.xu,{height:t,width:n,children:(0,s.jsx)(c.Ee,{naturalHeight:t,naturalWidth:n,src:r,color:"lightGray",fit:"cover",alt:""})})}var y=.4*p.yF,m=.75*p.yF;function v(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,i=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(c){l=!0,o=c}finally{try{a||null==n.return||n.return()}finally{if(l)throw o}}return i}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return g(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return g(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function g(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var b,P=function(e){var t,n,r=e.item,o=void 0===r?{}:r,i=e.story,a=o.username,l=o.image_large_url,f=o.full_name,_=o.id,g=v((null==i||null===(t=i.custom_properties)||void 0===t||null===(n=t.preview_image_map)||void 0===n?void 0:n[_])||[],2),b=g[0],P=void 0===b?"":b,w=g[1],S=void 0===w?"":w;return(0,s.jsxs)(c.xu,{flex:"none",width:p.yF,height:p.yF,children:[(0,s.jsx)(c.zd,{rounding:4,height:m,width:p.yF,wash:!0,children:(0,s.jsxs)(c.kC,{children:[(0,s.jsx)(h,{height:p.yF,width:p.yF/2,src:P}),(0,s.jsx)(c.xu,{color:"default",width:2}),(0,s.jsx)(h,{height:p.yF,width:p.yF/2,src:S})]})}),(0,s.jsx)(c.xu,{display:"flex",justifyContent:"center",marginTop:-12,marginBottom:2,children:(0,s.jsx)(u,{size:y,src:l||"",color:"gray",fullName:f||a})}),f&&(0,s.jsx)(d,{name:f})]})},w=function(e){var t,n,r,o=e.item,i=void 0===o?{}:o,a=e.story,l=e.imagePlaceholderColor,_=void 0===l?f.hK:l,v=i.username,g=i.image_large_url,b=i.full_name,P=i.id,w=(null==a||null===(t=a.custom_properties)||void 0===t||null===(n=t.preview_image_map)||void 0===n||null===(r=n[P])||void 0===r?void 0:r[0])||"";return(0,s.jsxs)(c.xu,{width:p.yF,height:p.yF,children:[(0,s.jsx)(c.zd,{rounding:4,height:m,width:p.yF,wash:!0,children:(0,s.jsx)(h,{height:p.yF,width:p.yF,src:w})}),(0,s.jsx)(c.xu,{display:"flex",justifyContent:"center",marginTop:-12,marginBottom:2,children:(0,s.jsx)(u,{size:y,src:g||"",color:_,fullName:b||v})}),b&&(0,s.jsx)(d,{name:b})]})},S=n(407043),x=n(609500),O=n(366428);function A(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function j(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?A(Object(n),!0).forEach((function(t){E(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):A(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function E(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var T=(E(b={},5,_),E(b,1,w),E(b,2,P),b);function I(e){var t,n,o=(0,S.v)().logContextEvent,i=(0,x.useHistory)(),a=e.story,l=void 0===a?{}:a,u=e.slotIndex,d=e.component,p=e.view,f=e.viewParameter,_=e.item,h=(null===(t=l.display_options)||void 0===t||null===(n=t.item_view_rep_style)||void 0===n?void 0:n.user_rep_style)||5,y=T[h],m=(0,r.useMemo)((function(){return{story_type:l.story_type,story_id:l.id,content_ids:l.content_ids,user_id:_.id}}),[_,l]),v=(0,O.Z)({contextLogData:m,impressionType:"User",loggingId:_.id,objectIdStr:_.id,slotIndex:u,viewParameter:f,viewType:p});return y?(0,s.jsx)(c.iP,{ref:v,onTap:function(){o({event_type:101,view_type:p,view_parameter:f,component:d,aux_data:m}),i.push("/".concat(_.username))},children:(0,s.jsx)(y,j({},e))}):null}},87165:function(e,t,n){"use strict";n.d(t,{i:function(){return l}});var r=n(908390),o=n(444445),i=n(515198);function a(){return(0,i.jsx)(r.xu,{width:o.yF})}function l(e){return new Array(e).fill().map((function(e,t){return(0,i.jsx)(a,{},t)}))}},43485:function(e,t,n){"use strict";n.d(t,{Z:function(){return b}});var r=n(316743),o=n(557115),i=n(988874),a=n(704115),l=n(760693),c=n(478144),s=n(829407),u=n(436395),d=n(908390),p=n(407043),f=n(609500),_=n(507264),h=n(515198);var y=n(36546);function m(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function v(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var g={board_more_ideas_feed_upsell:o.Z,pin:i.Z,user:y.Z,explorearticle:r.Z,productgroup:function(e){var t=(0,p.v)().logContextEvent,n=(0,u.Z)().data,r=(0,f.useLocation)().search,o=(0,a.Z)(r).pin?"pdp":"profile",i=null==n?void 0:n.username,y=(0,_.N0)();if((0,s.Z)((function(){l.Z.StructuredFeed.ProductGroups.viewProductGroup({productGroupId:e.item.id,source:o,groupType:e.item.group_type,componentType:13698},t)})),!i)return null;var m="/".concat(i,"/_shop/").concat(e.item.id,"/");return(0,h.jsx)(d.iP,{onTap:function(){l.Z.StructuredFeed.ProductGroups.tapProductGroup({productGroupId:e.item.id,source:o,groupType:e.item.group_type,componentType:13698,index:e.slotIndex},t)},href:m,role:"link",children:(0,h.jsx)(c.Z,{productGroup:e.item,showControls:y})})}};function b(e){var t=e.item;if(null==t||!t.type||"story"===t.type&&!(t.type in g))return null;var n=g[t.type];return(0,h.jsx)(n,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?m(Object(n),!0).forEach((function(t){v(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):m(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e))}},643897:function(e,t,n){"use strict";n.d(t,{Z:function(){return l}});var r=n(908390),o=n(608760),i=n(515198),a=new Map([["pin",4]]);function l(e){var t=e.children,n=e.itemType;return(0,i.jsx)(r.xu,{marginBottom:a.get(n)||o.mT,children:t})}},608760:function(e,t,n){"use strict";n.d(t,{g5:function(){return a},hK:function(){return o},mT:function(){return i}});var r=n(988874),o="lightGray",i=8,a={itemRep:r.Z,shape:"square",getImage:function(){return""}}},563886:function(e,t,n){"use strict";n.d(t,{Z:function(){return C}});var r=n(76911),o=n(754320),i=n(435497),a=n(239062),l=n(580326),c=n(782975),s=n(848385),u=n(43485),d=n(751191),p=n(905031),f=n(547560),_=n(390598),h=n(676302),y=n(503390),m=n(444445),v=n(908390),g=n(455024),b=n(515198);function P(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function w(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?P(Object(n),!0).forEach((function(t){S(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):P(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function S(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function x(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,i=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(c){l=!0,o=c}finally{try{a||null==n.return||n.return()}finally{if(l)throw o}}return i}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return O(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return O(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function O(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var A=new Set([3,4]),j=new Set([1]),E=function(e){var t=e.text,n=e.url;return Boolean(t)&&Boolean(n)},T=function(e){return E(e)&&A.has(e.location)},I=function(e){return E(e)&&j.has(e.location)};function C(e){var t,n,P,S,O,A,j,E,C,D,R,k,z=e.componentFallback,N=e.initialSlotIndex,L=void 0===N?0:N,M=e.story,B=e.surface,Z=e.view,F=e.viewParameter,U=M.title,G=M.objects,V=M.id,H=void 0===V?"":V,W=M.action,K=M.story_type,Y=x((0,r.useState)(0),2),X=Y[0],q=Y[1],J=(0,r.useRef)(null),$=(0,p.Z)();if(!Array.isArray(G))return null;var Q=null!==(t=null===(n=M.display_options)||void 0===n||null===(P=n.content_display)||void 0===P?void 0:P.component_type)&&void 0!==t?t:z,ee=1===(null===(S=M.display_options)||void 0===S?void 0:S.carousel_fade_ends),te=G,ne=te.length,re={index:X,carousel_slots:te},oe=null!=W?W:{},ie=oe.text,ae=oe.url,le={backgroundColor:"default",hoverColor:"default",iconColor:"default"},ce=null===(O=M.display_options)||void 0===O||null===(A=O.item_view_rep_style)||void 0===A?void 0:A.more_ideas_rep_style,se=1===ce,ue=y.k[ce],de=function(e){var t=e.isMoreIdeasListCard,n=e.isStyleBubble,r=e.isStorefrontSpotlightCarousel,o=e.isSfModuleOnMobile;return t?f.x:n?h.u:r?_.Z.WIDTH:o?m.tG:m.yF}({isMoreIdeasListCard:se,isStyleBubble:4===(null===(j=M.display_options)||void 0===j||null===(E=j.item_view_rep_style)||void 0===E?void 0:E.explore_article_rep_style),isStorefrontSpotlightCarousel:13698===(null===(C=M.display_options)||void 0===C||null===(D=C.content_display)||void 0===D?void 0:D.component_type),isSfModuleOnMobile:$}),pe=m.oX,fe=te.filter(Boolean),_e=(0,g.tD)({slotWidth:de,containerWidth:(null===(R=J.current)||void 0===R?void 0:R.clientWidth)||0,gap:pe,numberOfSlides:fe.length,index:X});return(0,b.jsxs)(v.kC,{direction:"column",children:[U&&(0,b.jsx)(s.Z,{story:M}),(0,b.jsxs)(v.xu,{position:"relative",ref:J,marginBottom:8,children:[(0,b.jsx)(a.default,{backNode:(0,b.jsx)(d.Z,w(w({},le),{},{showFab:!0,iconType:"back"})),carouselData:re,carouselIndex:X,componentType:Q,forwardNode:(0,b.jsx)(d.Z,w(w({},le),{},{showFab:!0,iconType:"forward"})),handleCarouselSwipe:function(e){q(e)},isShowingLastSlide:_e,pinId:H,viewParameter:F,viewType:Z,contextLogData:ce?{index:X}:{}}),(0,b.jsxs)(i.Z,{componentType:ue,containerRef:J,contextLogData:ce?{total_object_count:ne,storyType:K,boardIdStr:[null===(k=fe[X])||void 0===k?void 0:k.board_id],slotIndex:X,story_id:M.id}:{},gap:pe,id:"structured-feed-carousel-module",impressionType:ce?"BoardMoreIdeasRep":"Pin",index:X,slideWidth:de,viewParameter:F,view:Z,children:[fe.map((function(e,t){var n;return(0,b.jsx)(u.Z,{isInViewOrNext:(0,g.Iw)({slotWidth:de,containerWidth:(null===(n=J.current)||void 0===n?void 0:n.clientWidth)||0,gap:pe,numberOfSlides:fe.length,index:t,currentIndex:X}),item:e,slotIndex:L+t,story:M,surface:B,view:Z,viewParameter:F},(0,c.Z)(e,t))})),W&&ie&&ae&&T(W)&&(0,b.jsx)(o.Z,{contentIds:M.content_ids,buttonText:ie,url:ae,storyId:M.id,storyType:K,view:Z,viewParameter:F,component:Q})]}),ee&&X>0&&(0,b.jsx)(v.xu,{height:"100%",position:"absolute",left:!0,top:!0,width:80,dangerouslySetInlineStyle:{__style:{background:"linear-gradient(90deg, #FFFFFF 0%, rgba(255, 255, 255, 0) 100%)"}}}),ee&&!_e&&(0,b.jsx)(v.xu,{height:"100%",position:"absolute",right:!0,top:!0,width:80,dangerouslySetInlineStyle:{__style:{background:"linear-gradient(270deg, #FFFFFF 0%, rgba(255, 255, 255, 0) 100%)"}}})]}),W&&I(W)&&(0,b.jsx)(v.xu,{marginTop:4,children:(0,b.jsx)(l.Z,{story:M})})]})}},580326:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(908390),o=n(515198);function i(e){var t=e.story.action||{},n=t.url,i=t.text;return 1===t.location&&n&&i?(0,o.jsx)(r.kC,{alignItems:"center",justifyContent:"center",children:(0,o.jsx)(r.zx,{text:i,role:"link",href:n})}):null}},848385:function(e,t,n){"use strict";n.d(t,{Z:function(){return v}});var r,o,i,a=n(116303),l=n(941646),c=n(865607),s=n(407043),u=n(609500),d=n(908390),p=n(515198);function f(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var _=(f(r={},1,"start"),f(r,2,"center"),r),h=(f(o={},1,"100"),f(o,2,"300"),o),y=(f(i={},1,"400"),f(i,3,"500"),f(i,2,"600"),i),m=new Set([2,4]);function v(e){var t,n,r,o,i=e.isNavigationHeader,f=e.showExpanded,v=void 0!==f&&f,g=e.story,b=e.view,P=e.viewParameter,w=(0,u.useHistory)(),S=(0,s.v)().logContextEvent,x=g.user||{},O=x.full_name,A=x.is_verified_merchant,j=x.verified_identity,E=x.username,T=x.image_medium_url,I=O||(null===(t=g.title)||void 0===t?void 0:t.format),C=g.action||{},D=C.url,R=C.text,k=C.location,z=D||E||"",N=g.display_options||{},L=N.header_display||{},M=v?L.expanded_text_alignment:L.text_alignment,B=_[M||1],Z=_[L.subtitle_alignment||1],F=h[L.header_size||1],U=y[L.header_size||1],G=function(e,t){return null!=e?e:t},V=G(N.title_text_color,"default"),H=(r=N.title_text_color,o="default",null!=r?r:o),W=G(N.subtitle_text_color,"subtle"),K=1===L.title_position,Y=function(){var e;return null!==(e=g.subtitle)&&void 0!==e&&e.format?(0,p.jsx)(d.X6,{size:U,color:W,align:Z,children:g.subtitle.format}):null},X=i&&v,q=(0,p.jsx)(d.X6,{accessibilityLevel:2,size:U,color:V,align:B,children:I});return(0,p.jsx)(d.xu,{marginBottom:X?0:4,children:(0,p.jsxs)(d.kC,{gap:{row:0,column:2},direction:"column",children:[K&&(0,p.jsx)(Y,{}),(0,p.jsxs)(d.kC,{alignItems:"center",justifyContent:B,children:[E&&T&&(0,p.jsx)(a.Z,{name:E,size:"sm",src:T}),(0,p.jsxs)(d.xu,{marginStart:2,alignItems:"baseline",justifyContent:B,display:"flex",flex:v?void 0:"shrink",width:v?"100%":void 0,children:[z?(0,p.jsx)(l.Z,{id:"sf-header-heading",children:(0,p.jsx)(d.iP,{role:"link",href:z,onTap:function(){return e=z,S({component:null===(t=N.content_display)||void 0===t?void 0:t.component_type,event_type:101,view_parameter:P,view_type:b}),void w.push("/".concat(e));var e,t},tapStyle:"compress",children:q})}):q,A&&(0,p.jsx)(d.xu,{marginStart:2,children:(0,p.jsx)(c.Z,{hasVerifiedIdentity:Boolean(null==j?void 0:j.verified),isVerifiedMerchant:A,size:"xs"})})]}),m.has(k)&&D&&R&&(0,p.jsx)(d.xu,{marginStart:6,children:(0,p.jsx)(d.zx,{text:R,role:"link",href:D})})]}),!K&&(0,p.jsx)(Y,{}),null!==(n=g.description)&&void 0!==n&&n.format?(0,p.jsx)(d.xv,{size:F,color:H,align:B,weight:"bold",children:g.description.format}):null]})})}},896731:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return re}});var r,o=n(563886),i=n(580326),a=n(316743),l=n(848385),c=n(988874),s=n(36546),u=n(608760),d=n(444445),p=n(908390),f=n(515198);function _(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var h=function(){return(0,f.jsx)(p.xu,{height:d.yF,width:d.yF,color:"secondary"})},y=(_(r={},1,{itemRep:c.Z,deprecatedActionShape:"square",deprecatedGetActionImage:function(e){var t,n;return(null===(t=e.images)||void 0===t||null===(n=t.orig)||void 0===n?void 0:n.url)||""}}),_(r,4,{itemRep:a.Z,deprecatedActionShape:"circle",deprecatedGetActionImage:function(e){var t,n;return(null===(t=e.images)||void 0===t||null===(n=t.orig)||void 0===n?void 0:n.url)||""}}),_(r,2,{itemRep:s.Z,deprecatedActionShape:"circle",deprecatedGetActionImage:function(e){return e.image_large_url}}),r);var m=n(76911),v=n(754320);var g,b=n(643897),P=n(905031),w=n(87165),S=n(681291);function x(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function O(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?x(Object(n),!0).forEach((function(t){A(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):x(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function A(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var j="rgba(0, 0, 0, 0)",E=function(){return(0,f.jsx)(p.xu,{height:d.yF,width:d.yF,color:"secondary"})},T=(A(g={},1,{itemRep:c.Z,deprecatedActionShape:"square",deprecatedGetActionImage:function(e){var t,n;return(null===(t=e.images)||void 0===t||null===(n=t.orig)||void 0===n?void 0:n.url)||""}}),A(g,4,{itemRep:a.Z,deprecatedActionShape:"circle",deprecatedGetActionImage:function(e){var t,n;return(null===(t=e.images)||void 0===t||null===(n=t.orig)||void 0===n?void 0:n.url)||""}}),A(g,2,{itemRep:s.Z,deprecatedActionShape:"circle",deprecatedGetActionImage:function(e){return e.image_large_url}}),g);function I(e){var t,n,r,o,i,a,c=e.componentFallback,s=e.initialSlotIndex,_=void 0===s?0:s,h=e.isNavigationHeader,y=e.showExpanded,m=e.story,g=e.view,x=e.viewParameter,O=(null===(t=m.display_options)||void 0===t?void 0:t.content_display)||{},A=O.model_type,I=T[A]||u.g5,C=I.itemRep||E,D=m.action,R=(null===(n=m.action)||void 0===n?void 0:n.url)||"",k=null!==(r=null===(o=m.display_options)||void 0===o||null===(i=o.content_display)||void 0===i?void 0:i.component_type)&&void 0!==r?r:c,z=(null===(a=O.grid_layout)||void 0===a?void 0:a.rows)||1,N=(0,S.n)({items:m.objects||[],itemWidth:(0,P.Z)()?d.tG:d.yF,itemGap:d.oX,actionItemType:Boolean(D)?"one":void 0,numRows:z}),L=N.containerRef,M=N.itemsToRender,B=N.actionItem,Z=h?function(e){var t=e.showExpanded,n=e.story;return n.objects&&n.expanded_viewport_objects?t?[n.expanded_viewport_objects]:n.objects:[]}({showExpanded:y,story:m}):M,F=B&&I.deprecatedGetActionImage?I.deprecatedGetActionImage(B):void 0,U=h&&y;return(0,f.jsxs)(p.xu,{display:"flex",color:"default",alignItems:"stretch",justifyContent:"start",direction:"column",children:[m.title&&!U&&(0,f.jsx)(l.Z,{story:m,showExpanded:y}),(0,f.jsxs)(S.Z,{itemGap:d.oX,containerRef:L,rowAlignment:"center",numRows:z,children:[Z.map((function(e,t){return(0,f.jsx)(b.Z,{itemType:"string"==typeof e.type?e.type:null,children:(0,f.jsx)(C,{component:k,imagePlaceholderColor:j,index:t,item:e,showExpandedHeader:h&&y,slotIndex:_+t,story:m,view:g,viewParameter:x},t)},t)})),!!R&&!(null==D||!D.text)&&(0,f.jsx)(v.Z,{contentIds:m.content_ids,buttonText:D.text,component:k,element:179,previewImageSrc:F,shape:I.deprecatedActionShape,storyId:m.id,storyType:m.story_type,url:R,view:g,viewParameter:x}),!h&&(0,w.i)(12)]})]})}function C(e){var t,n,r,o,i=e.componentFallback,a=e.showExpanded,c=void 0===a||a,s=e.story,_=e.view,h=e.viewParameter,y=((null===(t=s.display_options)||void 0===t?void 0:t.content_display)||{}).model_type,v=(T[y]||u.g5).itemRep||E,g=null!==(n=null===(r=s.display_options)||void 0===r||null===(o=r.content_display)||void 0===o?void 0:o.component_type)&&void 0!==n?n:i,b=(0,P.Z)()?d.tG:d.yF,w=(0,m.useCallback)((function(e){var t=e.data,n=e.itemIdx;return(0,f.jsx)(v,{component:g,imagePlaceholderColor:j,index:n,item:t,story:s,view:_,viewParameter:h},n)}),[g,s,_,h]);return(0,f.jsxs)(p.kC,{alignItems:"stretch",justifyContent:"start",direction:"column",children:[s.title&&(0,f.jsx)(l.Z,{story:s,showExpanded:c}),(0,f.jsx)(p.Rk,{columnWidth:b,Item:w,gutterWidth:d.oX,items:s.objects||[],layout:"flexible"})]})}var D=n(435497),R=n(239062),k=n(116303),z=n(477802),N=n(941646),L=n(898781),M=n(407043),B=n(609500),Z=n(366428);function F(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,i=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(c){l=!0,o=c}finally{try{a||null==n.return||n.return()}finally{if(l)throw o}}return i}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return U(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return U(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function U(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var G=function(e){var t=e.actionText,n=e.actionUrl,r=e.articleId,o=e.author,i=e.authorAvatar,a=e.component,l=e.contentIds,c=e.coverImage,s=e.debug,u=e.index,d=e.isFullWidth,_=void 0!==d&&d,h=e.onImageLoad,y=e.storyId,v=e.storyType,g=e.subtitle,b=e.title,P=e.view,w=e.viewParameter,S=e.width,x=e.windowWidth,O=(0,L.ZP)(),A=(0,B.useHistory)(),j=(0,M.v)().logContextEvent,E=F((0,m.useState)(!1),2),T=E[0],I=E[1],C=(0,Z.Z)({loggingId:r,objectIdStr:r,impressionType:"Article",contextLogData:{content_ids:l,story_id:y,story_type:v,article_id:r},slotIndex:u,viewParameter:w,viewType:P,componentType:a});return(0,f.jsx)(N.Z,{id:"sf-hero",children:(0,f.jsxs)(p.xu,{ref:C,width:S,height:"auto",onMouseEnter:function(){return I(!0)},onMouseLeave:function(){return I(!1)},children:[(0,f.jsx)(p.iP,{onTap:function(){j({event_type:101,view_type:P,view_parameter:w,component:a,aux_data:{article_id:r,content_ids:l,story_id:y,story_type:v}}),A.push(n)},children:(0,f.jsxs)(p.xu,{height:_?400:"35vw",maxHeight:500,overflow:"hidden",position:"relative",children:[(0,f.jsx)(p.xu,{height:"100%",width:"100%",dangerouslySetInlineStyle:{__style:{transition:"transform 0.4s",transform:T?"scale(1.5)":"scale(1)"}},children:(0,f.jsx)(p.Ee,{src:c,alt:O._('Cover image of this shopping spotlight', 'hero.heroCoverImage', 'alt text for an image previewing the contents of a spotlight article'),color:"#fff",onLoad:h,fit:"cover",naturalHeight:400,naturalWidth:400,children:(0,f.jsx)(p.xu,{display:"block",height:"100%",width:"100%",color:"transparentDarkGray",opacity:.3})})}),(0,f.jsx)(p.xu,{width:"100%",position:"absolute",padding:6,marginBottom:_?12:0,bottom:!0,children:(0,f.jsxs)(p.kC,{direction:"column",height:"100%",justifyContent:"end",children:[(0,f.jsx)(p.xu,{dangerouslySetInlineStyle:{__style:{transition:"transform 0.4s",transform:T?"translateY(-20px)":"translateY(20px)"}},children:(0,f.jsx)(p.X6,{size:x<=822?"600":x<1e3?"400":x<1100?"500":"600",color:"light",children:b})}),(0,f.jsxs)(p.xu,{display:"block",height:T?"auto":20,overflow:"hidden",dangerouslySetInlineStyle:{__style:{opacity:T?1:0,transition:T?"opacity 0.4s ease-in":"opacity 0.4s ease-out"}},children:[(0,f.jsx)(p.xv,{color:"inverse",children:g}),o&&(0,f.jsx)(p.xu,{marginTop:4,children:(0,f.jsxs)(p.kC,{direction:"row",alignItems:"center",children:[(0,f.jsx)(k.Z,{size:"md",src:i,name:o}),"",(0,f.jsx)(p.xv,{color:"inverse",children:o})]})})]}),(0,f.jsx)(p.xu,{width:"74px",marginTop:4,children:(0,f.jsx)(p.zx,{color:"white",size:"lg",onClick:function(){A.push(n)},text:t})})]})})]})}),void 0!==s&&(0,f.jsx)(z.Z,{data:s})]})})},V=n(751191);function H(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,i=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(c){l=!0,o=c}finally{try{a||null==n.return||n.return()}finally{if(l)throw o}}return i}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return W(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return W(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function W(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function K(e){var t,n=e.onImageLoad,r=e.story,o=e.view,i=e.viewParameter,a=e.component,l=e.width,c=H((0,m.useState)(0),2),s=c[0],u=c[1],d=(0,m.useRef)(null),_=(null===(t=r.objects)||void 0===t?void 0:t.slice(0,3))||[],h={index:s,carousel_slots:_.map((function(e){return{id:e.id}}))};return(0,f.jsxs)(p.xu,{position:"relative",display:"flex",width:l,height:400,justifyContent:"center",alignItems:"end",ref:d,children:[(0,f.jsx)(D.Z,{id:r.id,index:s,slideWidth:l,containerRef:d,children:_.map((function(e,t){var c,s,u,d,p;return(0,f.jsx)(G,{actionText:(null===(c=e.action)||void 0===c?void 0:c.text)||"",actionUrl:(null===(s=e.action)||void 0===s?void 0:s.url)||"",articleId:e.id,coverImage:e.cover_images&&(null===(u=e.cover_images[0].originals)||void 0===u?void 0:u.url)||"",debug:e.debug,onImageLoad:n,storyId:r.id,storyType:r.story_type,subtitle:(null===(d=e.subtitle)||void 0===d?void 0:d.format)||"",title:(null===(p=e.title)||void 0===p?void 0:p.format)||"",index:t,isFullWidth:!0,view:o,viewParameter:i,component:a,width:l,windowWidth:l},e.id)}))}),(0,f.jsx)(p.xu,{display:"inlineBlock",height:"auto",position:"absolute",width:"60%",paddingY:5,children:(0,f.jsx)(R.default,{addEllipsis:!0,pinId:r.id,carouselIndex:s,carouselData:h,handleCarouselSwipe:function(e){u(e)},forwardNode:(0,f.jsx)(V.Z,{showFab:!0,iconType:"forward",iconColor:"inverse"}),backNode:(0,f.jsx)(V.Z,{showFab:!0,iconType:"back",iconColor:"inverse"})})})]})}function Y(e){var t,n=e.component,r=e.onImageLoad,o=e.story,i=e.view,a=e.viewParameter,l=e.windowWidth,c=(null===(t=o.objects)||void 0===t?void 0:t.slice(0,3))||[];return(0,f.jsxs)(m.Fragment,{children:[(0,f.jsx)(p.xu,{flex:"grow",dangerouslySetInlineStyle:{__style:{backgroundColor:c[0].dominant_colors[0]}}}),c.map((function(e,t){var c,s,u,d,p;return(0,f.jsx)(G,{actionText:(null===(c=e.action)||void 0===c?void 0:c.text)||"",actionUrl:(null===(s=e.action)||void 0===s?void 0:s.url)||"",articleId:e.id,coverImage:e.cover_images&&(null===(u=e.cover_images[0].originals)||void 0===u?void 0:u.url)||"",debug:e.debug,index:t,onImageLoad:r,storyId:o.id,storyType:o.story_type,subtitle:(null===(d=e.subtitle)||void 0===d?void 0:d.format)||"",title:(null===(p=e.title)||void 0===p?void 0:p.format)||"",view:i,viewParameter:a,component:n,width:500,windowWidth:l},e.id)})),(0,f.jsx)(p.xu,{flex:"grow",dangerouslySetInlineStyle:{__style:{backgroundColor:c[2].dominant_colors[0]}}})]})}var X,q=n(792182);function J(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var $=(J(X={},90,o.Z),J(X,88,l.Z),J(X,89,i.Z),J(X,91,(function(e){var t,n;switch(null===(t=e.story.display_options)||void 0===t||null===(n=t.content_display)||void 0===n?void 0:n.pins_display){case 3:case 1:return(0,f.jsx)(C,O({},e));case 2:default:return(0,f.jsx)(I,O({},e))}})),J(X,101,(function(e){var t=e.component,n=e.pwtSurfaceContext,r=e.story,o=e.view,i=e.viewParameter,a=((0,q.Z)()||{}).width,l=function(){n&&n.markConstraintComplete("RenderHeroImages")},c=!a||a>822?3:1;return(0,f.jsx)(m.Fragment,{children:(0,f.jsx)(p.kC,{alignItems:"stretch",direction:"row",justifyContent:"start",width:a,children:3===c?(0,f.jsx)(Y,{component:t,onImageLoad:l,story:r,windowWidth:a,view:o,viewParameter:i}):(0,f.jsx)(K,{component:t,onImageLoad:l,story:r,width:a,view:o,viewParameter:i})})})})),J(X,92,(function(e){var t,n=e.story,r=(0,B.useHistory)(),o=n||{},i=o.user,a=o.custom_properties,l=o.action,c=i||{},s=c.full_name,u=c.username,_=c.image_medium_url,h=s||(null===(t=n.title)||void 0===t?void 0:t.format)||"",y=l||{},m=y.url,v=y.text,g=(a||{}).image;if(!m||!v)return null;var b=(0,f.jsxs)(p.xu,{height:"100%",padding:2,display:"flex",justifyContent:"center",alignItems:"center",color:"transparentDarkGray",position:"relative",children:[u&&_&&(0,f.jsx)(p.xu,{position:"absolute",top:!0,left:!0,padding:2,children:(0,f.jsx)(k.Z,{name:u,size:"sm",src:_})}),h&&(0,f.jsx)(p.xv,{color:"inverse",weight:"bold",children:h})]});return(0,f.jsxs)(p.xu,{marginBottom:4,width:d.yF,children:[(0,f.jsx)(p.iP,{onTap:function(){return r.push(m)},children:(0,f.jsx)(p.zd,{rounding:2,wash:!0,height:d.yF,children:"string"==typeof g&&g?(0,f.jsx)(p.Ee,{naturalHeight:d.yF,naturalWidth:d.yF,src:g,fit:"contain",alt:h,children:b}):(0,f.jsx)(p.xu,{width:d.yF,height:d.yF,children:b})})}),(0,f.jsx)(p.xu,{marginTop:3,children:(0,f.jsx)(p.zx,{fullWidth:!0,text:v,role:"link",href:m})})]})})),J(X,131,(function(e){var t,n,r,o,i,a=e.componentFallback,c=e.showExpanded,s=void 0===c||c,d=e.story,_=e.view,m=e.viewParameter,v=((null===(t=d.display_options)||void 0===t?void 0:t.content_display)||{}).model_type,g=(y[v]||u.g5).itemRep||h,b=null!==(n=null===(r=d.display_options)||void 0===r||null===(o=r.content_display)||void 0===o?void 0:o.component_type)&&void 0!==n?n:a;return(0,f.jsx)(p.xu,{marginBottom:2,children:(0,f.jsxs)(p.kC,{alignItems:"stretch",justifyContent:"center",direction:"column",children:[d.title&&(0,f.jsx)(l.Z,{story:d,showExpanded:s}),(0,f.jsx)(p.kC,{wrap:!0,gap:2,justifyContent:"center",children:null===(i=d.objects)||void 0===i?void 0:i.map((function(e,t){return(0,f.jsx)(g,{component:b,imagePlaceholderColor:"rgba(0, 0, 0, 0)",index:t,item:e,story:d,view:_,viewParameter:m},t)}))})]})})})),X);var Q=new Set([101]);function ee(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function te(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ee(Object(n),!0).forEach((function(t){ne(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ee(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ne(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function re(e){var t,n,r,o=e.componentFallback,i=e.story,a=e.view,l=e.viewParameter,c=e.width,s=e.initialSlotIndex,u=i.id,d=i.story_type,_=i.display_options,h=i.container_type,y=i.content_ids,m=null!==(t=null==_||null===(n=_.content_display)||void 0===n?void 0:n.component_type)&&void 0!==t?t:o,v=(0,Z.Z)({componentType:m,contextLogData:{story_id:u,story_type:d,content_ids:y},impressionType:"Story",loggingId:u,slotIndex:s||0,viewParameter:l,viewType:a}),g=function(e){return $[e]||null}(h);return g?(0,f.jsx)(p.xu,{ref:v,width:(r=i,Q.has(r.container_type)?void 0:c),children:(0,f.jsx)(g,te(te({},e),{},{component:m}))}):null}},782975:function(e,t,n){"use strict";function r(e,t){var n,r="".concat(e.type||""," ").concat(t.toString());switch(e.type){case"pin":return e.title||r;case"user":return e.username||r;case"explorearticle":return(null===(n=e.title)||void 0===n?void 0:n.format)||r;case"story":return e.id||r;default:return r}}n.d(t,{Z:function(){return r}})},905031:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(792182),o=n(444445);function i(){return((0,r.Z)()||{width:0}).width<2*o.yF+o.$H}},41233:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(221263),o=n(937330);function i(e){var t,n=e.action,i=e.board,a=e.viewer;return(0,r.Z)(a,i)||(0,o.Z)({board:i,viewer:a})&&!(null===(t=i.collaborator_permissions)||void 0===t||!t.includes(n))}},221263:function(e,t,n){"use strict";function r(e,t){var n=t&&t.owner&&t.owner.id;return e.isAuth&&n===e.id}n.d(t,{Z:function(){return r}})},937330:function(e,t,n){"use strict";function r(e){var t=e.board,n=e.viewer,r=t.collaborated_by_me;return Boolean(n.isAuth&&r)}n.d(t,{Z:function(){return r}})},4294:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(221263),o=n(937330);function i(e){var t=e.board,n=e.viewer;return(0,r.Z)(n,t)||(0,o.Z)({board:t,viewer:n})}},737022:function(e,t,n){"use strict";function r(e){return e?e["564x"]&&e["564x"].url?e["564x"]:e["736x"]&&e["736x"].url?e["736x"]:e["474x"]&&e["474x"].url?e["474x"]:e["236x"]&&e["236x"].url?e["236x"]:null:null}n.d(t,{Z:function(){return r}})},687551:function(e,t,n){"use strict";function r(e){return!!(e&&e.carousel_data&&e.carousel_data.id)}n.d(t,{Z:function(){return r}})},47170:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var r=n(768559),o=n(558068),i=n(609500);function a(e){var t,n,a=(0,i.useLocation)(),l=(0,o.Hv)().previous;return(0,r.Z)({boardUrl:null===(t=e.board)||void 0===t?void 0:t.url,callToCreateSourcePinId:e.call_to_create_source_pin_id,location:a,pinId:e.id,pinnerUserName:null===(n=e.pinner)||void 0===n?void 0:n.username,previousHistory:l,storyPinDataId:e.story_pin_data_id,trackingParams:e.tracking_params,trackingParamsMap:e.tracking_params_map})}},827896:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var r=n(768559),o=n(350118),i=n(609500);function a(){var e=(0,o.S6)(),t=(0,i.useLocation)();return function(n,o){var i,a=e(n);if(null!=o&&o.shouldTrackForPrevLocation){var l=(null==a?void 0:a.tracking_params_map)||{},c=Object.keys(l).find((function(e){return"PinResource"!==e}));a&&(i=c?l[c]:l.PinResource)}else if(a){var s,u;i=(0,r.Z)({boardUrl:null===(s=a.board)||void 0===s?void 0:s.url,callToCreateSourcePinId:a.call_to_create_source_pin_id,location:t,pinId:a.id,pinnerUserName:null===(u=a.pinner)||void 0===u?void 0:u.username,storyPinDataId:a.story_pin_data_id,trackingParams:a.tracking_params,trackingParamsMap:a.tracking_params_map})}return i}}},451820:function(e,t,n){"use strict";n.d(t,{Z:function(){return i},k:function(){return r}});var r={LONG:"long",YEAR:"year",WEEKDAY_DATE:"weekday_date",WEEKDAY_DATE_TIME_TIMEZONE:"weekday_date_time_timezone",SHORT_WEEKDAY_DATE:"short_weekday_date",LONG_MONTH_YEAR:"long_month_year",NUMERIC:"numeric",MONTH_DAY:"month_day",SHORT_MONTH:"short_month",SHORT_MONTH_DAY:"short_month_day",DAY:"day",YEAR_SHORT_MONTH_DAY:"year_short_month_day",YEAR_SHORT_MONTH_DAY_HOUR:"year_short_month_day_hour",TIME:"time",TIME_TIMEZONE:"time_timezone",HOUR:"hour",TWO_DIGIT:"two_digit"},o=function(e){switch(e){case r.YEAR:return{year:"numeric"};case r.LONG:return{year:"numeric",month:"long",day:"numeric"};case r.NUMERIC:return{year:"numeric",month:"numeric",day:"numeric"};case r.TWO_DIGIT:return{year:"numeric",month:"2-digit",day:"2-digit"};case r.WEEKDAY_DATE:return{weekday:"long",month:"long",day:"numeric",year:"numeric"};case r.SHORT_WEEKDAY_DATE:return{weekday:"short",month:"numeric",day:"numeric"};case r.WEEKDAY_DATE_TIME_TIMEZONE:return{weekday:"short",month:"numeric",day:"numeric",hour:"numeric",minute:"2-digit",timeZoneName:"short"};case r.MONTH_DAY:return{month:"long",day:"numeric"};case r.SHORT_MONTH:return{month:"short"};case r.SHORT_MONTH_DAY:return{month:"short",day:"numeric"};case r.DAY:return{day:"numeric"};case r.LONG_MONTH_YEAR:return{month:"long",year:"numeric"};case r.YEAR_SHORT_MONTH_DAY:return{year:"numeric",month:"short",day:"numeric"};case r.YEAR_SHORT_MONTH_DAY_HOUR:return{month:"short",year:"numeric",day:"numeric",hour:"numeric"};case r.TIME:return{hour:"numeric",minute:"2-digit"};case r.TIME_TIMEZONE:return{hour:"numeric",minute:"2-digit",timeZoneName:"short"};case r.HOUR:return{hour:"numeric"};default:throw new Error('invalid dateFormatType "'+e+'"')}};function i(e,t,n){var r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],i=o(n);r&&(i.timeZone="UTC");var a=new Intl.DateTimeFormat(e,i);return a.format(t)}},81226:function(e,t,n){"use strict";function r(e){var t=Math.round(e/1e3),n=t%60;return Math.floor(t/60)+":"+(n<10?"0":"")+n}n.d(t,{Z:function(){return r}})},402201:function(e,t){"use strict";t.Z=function(e){var t=(null==e?void 0:e.width)||580,n=(null==e?void 0:e.height)||400,r=[window.screen.width,window.screen.height],o=r[0],i=r[1];return["scrollbars=yes","resizable=yes","toolbar=no","location=yes","width=".concat(t),"height=".concat(n),"left=".concat(Math.round((o-t)/2)),"top=".concat(i>n?Math.round((i-n)/2):0)].join(",")}},572551:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return Z}});var r=n(76911),o=n(319915),i=n(757184),a=n(317254),l=n(463076);function c(e){for(var t=e.isRTL,n=e.maxItemWidth,r=void 0===n?300:n,o=e.maxColumns,i=void 0===o?16:o,a=e.minColumns,l=void 0===a?2:a,c="\n.gridCentered {\n  margin-left: auto;\n  margin-right: auto;\n  max-width: ".concat(i*r,"\n}\n\n.gridCentered .static {\n  position: absolute !important;\n  visibility: hidden !important;\n}\n\n@media (min-width: ").concat(i*r,"px) {\n  .gridCentered .static:nth-child(-n+").concat(i,") {\n    position: static !important;\n    visibility: visible !important;\n    float: ").concat(t?"right":"left",";\n    display: block;\n  }\n\n  .gridCentered .static:nth-child(-n+").concat(i,") {\n    position: static !important;\n    visibility: visible !important;\n    float: ").concat(t?"right":"left",";\n    display: block;\n  }\n\n  .gridCentered .static {\n    width: ").concat(r,"px !important;\n  }\n}\n"),s=l;s<i+1;s+=1){c+="\n@media (min-width: ".concat(s===l?0:(s-1)*r,"px) and (max-width: ").concat(s*r-1,"px) {\n  .gridCentered .static:nth-child(-n+").concat(s,") {\n    position: static !important;\n    visibility: visible !important;\n    float: ").concat(t?"right":"left",";\n    display: block;\n  }\n\n  .gridCentered .static {\n    width: calc(100% / ").concat(s,") !important;\n  }\n}\n")}return c}var s=n(391254),u=n(908390),d=n(773285),p=n(780280),f=n(444445),_=n(515198);function h(e){return(h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function y(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function m(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?y(Object(n),!0).forEach((function(t){O(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):y(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function v(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function g(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function b(e,t){return(b=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function P(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=x(e);if(t){var o=x(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return w(this,n)}}function w(e,t){if(t&&("object"===h(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return S(e)}function S(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function x(e){return(x=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function O(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var A=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&b(e,t)}(i,e);var t,n,r,o=P(i);function i(){var e;v(this,i);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return O(S(e=o.call.apply(o,[this].concat(n))),"Item",(function(t){var n=e.props.Item,r=e.getGutters(),o=r.gutterWidth,i=r.paddingBottom;return(0,_.jsx)("div",{style:{paddingBottom:i,paddingLeft:o/2,paddingRight:o/2},children:(0,_.jsx)(n,m({},t))})})),e}return t=i,(n=[{key:"getGutters",value:function(){var e=this.props,t=e.gutterWidth,n="simplified"===e.paddingStyle,r=n?f.oX:t,o=n?16:6;return{gutterWidth:null!=r?r:f.ZZ,paddingBottom:o}}},{key:"render",value:function(){var e,t=this.props,n=t.columnWidth,r=t.flexible,o=t.isGridCentered,i=t.isRTL,a=t.items,d=t.layout,p=t.loadItems,h=t.masonryRef,y=t.measurementStore,m=t.minCols,v=t.scrollContainerRef,g=t.serverRender,b=t.virtualize,P=t.virtualBufferFactor,w=this.getGutters().gutterWidth,S=g?"serverRenderedFlexible":"flexible";o&&(e="gridCentered");var x=function(){return(null==v?void 0:v.current)||window};return(0,_.jsxs)("div",{className:e,children:[g&&(0,_.jsx)(s.Z,{unsafeCSS:r?c({isRTL:i,maxItemWidth:(n||f.yF)+w,maxColumns:a.length||f.g5,minColumns:m||f.yc}):(0,l.Z)({isRTL:i,itemWidth:(n||f.yF)+w,maxColumns:a.length||f.g5,minColumns:m||f.yc})}),(0,_.jsx)(u.Rk,{columnWidth:(null!=n?n:f.yF)+w,gutterWidth:0,Item:this.Item,items:a,layout:r?S:null!=d?d:"basic",loadItems:p,measurementStore:y,minCols:m,ref:function(e){h&&(h.current=e)},scrollContainer:x,virtualize:b,virtualBufferFactor:P})]})}}])&&g(t.prototype,n),r&&g(t,r),i}(r.Component);function j(e){var t,n=(0,p.B)().isRTL,r=null!==(t={enabled_0_3:"0.3",enabled_0_5:"0.5",enabled_0_9:"0.9",enabled_1_1:"1.1",enabled_1_3:"1.3"}[(0,(0,d.F)().checkExperiment)("web_masonry_virtual_buffer_factor").group])&&void 0!==t?t:.7;return(0,_.jsx)(A,m(m({},e),{},{isRTL:n,virtualBufferFactor:r}))}function E(e){return(E="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function T(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function I(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?T(Object(n),!0).forEach((function(t){M(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):T(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function C(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function D(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function R(e,t){return(R=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function k(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=L(e);if(t){var o=L(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return z(this,n)}}function z(e,t){if(t&&("object"===E(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return N(e)}function N(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function L(e){return(L=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function M(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}O(A,"defaultProps",{gutterWidth:f.ZZ,isGridCentered:!0,minCols:f.yc,paddingStyle:"simplified",virtualize:!0});var B=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&R(e,t)}(l,e);var t,n,r,a=k(l);function l(){var e;C(this,l);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return M(N(e=a.call.apply(a,[this].concat(n))),"Item",(function(t){var n=e.props.Item;return(0,_.jsx)(o.Z,{name:"MasonryPerfTimingItem",children:(0,_.jsx)(n,I({},t))})})),M(N(e),"loadItems",(function(){var t=e.props,n=t.isFetching,r=t.loadItems;!n&&r&&r()})),e}return t=l,(n=[{key:"render",value:function(){var e=this.props,t=e.cacheKey,n=e.columnWidth,r=e.flexible,o=e.gutterWidth,a=e.isGridCentered,l=e.items,c=e.layout,s=e.masonryRef,u=e.minCols,d=e.paddingStyle,p=e.scrollContainerRef,f=e.serverRender,h=e.virtualize;return(0,_.jsx)(j,{columnWidth:n,flexible:r,gutterWidth:o,isGridCentered:a,Item:this.Item,items:l,layout:c,loadItems:this.loadItems,masonryRef:s,measurementStore:(0,i.Z)(t),minCols:u,paddingStyle:d,scrollContainerRef:p,serverRender:f,virtualize:h})}}])&&D(t.prototype,n),r&&D(t,r),l}(r.Component);function Z(e){var t=e.cacheKey,n=e.columnWidth,r=e.flexible,o=e.gutterWidth,i=e.isAtEnd,l=e.isFetching,c=e.isGridCentered,s=void 0===c||c,u=e.Item,d=e.items,p=e.pinData,f=e.layout,h=e.loadItems,y=e.masonryRef,m=e.minCols,v=e.paddingStyle,g=e.scrollContainerRef,b=e.serverRender,P=void 0===b||b,w=e.virtualize,S=void 0===w||w,x=e.includeBackgroundImages,O=e.includeVideos;return(0,_.jsx)(a.Z,{isAtEndOfFeed:i,pinData:p,itemCount:d.length,includeBackgroundImages:x,includeVideos:O,children:(0,_.jsx)(B,{cacheKey:t,columnWidth:n,Item:u,flexible:r,gutterWidth:o,isFetching:l,isGridCentered:s,items:d,layout:f,loadItems:h,masonryRef:y,minCols:m,paddingStyle:v,scrollContainerRef:g,serverRender:P,virtualize:S})})}},757184:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(908390),o={};function i(e){if(null!=e)return o[e]&&o[e].screenWidth===window.innerWidth||(o[e]={screenWidth:window.innerWidth,cache:r.Rk.createMeasurementStore()}),o[e].cache}},463076:function(e,t,n){"use strict";function r(e){for(var t=e.isRTL,n=e.itemWidth,r=void 0===n?236:n,o=e.maxColumns,i=void 0===o?16:o,a=e.minColumns,l=void 0===a?2:a,c="\n.gridCentered {\n  margin-left: auto;\n  margin-right: auto;\n}\n.gridCentered .static {\n  position: absolute;\n  visibility: hidden;\n}\n",s=l;s<i+1;s+=1){c+="\n@media (min-width: ".concat(s===l?0:s*r,"px) and (max-width: ").concat((s+1)*r-1,"px) {\n  .gridCentered {\n    width: ").concat(s*r,"px;\n  }\n  .gridCentered .static:nth-child(-n+").concat(s,") {\n    position: static !important;\n    visibility: visible !important;\n    float: ").concat(t?"right":"left",";\n    display: block;\n  }\n}\n")}return c}n.d(t,{Z:function(){return r}})},694379:function(e,t,n){"use strict";var r=n(892819),o=n(780280),i=n(515198);t.Z=function(e){var t=e.currency,n=e.maximumFractionDigits,a=e.minimumFractionDigits,l=e.shortform,c=e.shortformMaximumFractionDigits,s=e.formatStyle,u=e.uplimit,d=e.value,p=(0,r.Z)();return(0,i.jsx)(o.LC,{children:function(e){return p(e.locale||"en-US",d,{currency:t,maximum_fraction_digits:n,minimum_fraction_digits:a,shortform:l,shortform_maximum_fraction_digits:c,style:s,uplimit:u})}})}},892819:function(e,t,n){"use strict";n.d(t,{Z:function(){return u}});var r=n(66699),o=n(898781);function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){l(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var c=function(e,t){var n=t||0,r=Math.pow(10,n),o=+(n?e*r:e).toFixed(8),i=Math.floor(o),a=o-i,l=a>.5-1e-8&&a<.5+1e-8?i%2==0?i:i+1:Math.round(o);return n?l/r:l},s=function(e){try{(0).toLocaleString([e])}catch(t){return!1}return!0};function u(){var e=(0,o.ZP)();return function(t,n,o){var i=0,l=0,u=o&&o.style||void 0,d=o&&o.shortform||!1,p=o&&o.uplimit||void 0,f=o&&o.currency||void 0,_=!!p&&n>=p,h=p&&_?p:n;if("currency"===u){var y=function(e,t){if(t){var n=new Intl.NumberFormat(e,{style:"currency",currency:t}).resolvedOptions(),r=n.minimumFractionDigits,o=n.maximumFractionDigits;if(void 0!==r&&void 0!==o)return{minimumFractionDigits:r,maximumFractionDigits:o}}return{minimumFractionDigits:2,maximumFractionDigits:2}}(t,f),m=y.minimumFractionDigits,v=y.maximumFractionDigits;i=void 0===o||void 0===o.maximum_fraction_digits?v:o.maximum_fraction_digits,l=void 0===o||void 0===o.minimum_fraction_digits?m:o.minimum_fraction_digits}else i=void 0===o||void 0===o.maximum_fraction_digits?0:o.maximum_fraction_digits,l=void 0===o||void 0===o.minimum_fraction_digits?0:o.minimum_fraction_digits;if(d&&h>999&&(i=void 0===o||void 0===o.shortform_maximum_fraction_digits?2:o.shortform_maximum_fraction_digits,l=0),i<l)return String(h);var g=h,b="",P=[{"100M":{value:1e8,localeKey:e._('', 'Abbreviation for one hundred millions. This abbreviation is only used in Chinese, Japanese and Korean.', 'Abbreviation for one hundred millions. This abbreviation is only used in Chinese, Japanese and Korean.')}},{"10k":{value:1e4,localeKey:e._('', 'Abbreviation for ten thousand. This abbreviation is only used in Chinese, Japanese and Korean.', 'Abbreviation for ten thousand. This abbreviation is only used in Chinese, Japanese and Korean.')}}],w=[{b:{value:1e9,localeKey:e._('B', 'Abbreviation for one billion.', 'Abbreviation for one billion.')}},{m:{value:1e6,localeKey:e._('M', 'Abbreviation for one million.', 'Abbreviation for one million.')}},{k:{value:1e3,localeKey:e._('k', 'Abbreviation for one thousand.', 'Abbreviation for one thousand.')}}],S=/^zh|ja|ko/.test(t);if(d&&h>999)for(var x=S?P:w,O=0;O<x.length;O+=1){var A=Object.keys(x[O])[0],j=x[O][A].value;if(h>=j){g=c(h/j*Math.pow(10,i))/Math.pow(10,i),b=x[O][A].localeKey;break}}if(null==g)return"";var E=g.toLocaleString([s(t)&&"ar-SA"!==t?t:"en-US"],function(e){var t=e.maximumFractionDigits,n=e.minimumFractionDigits,r=e.style,o=e.currency,i={maximumFractionDigits:t,minimumFractionDigits:n};return r?a(a({},i),{},{style:r},"currency"===r?{currency:o,currencyDisplay:"symbol"}:{}):i}({maximumFractionDigits:i,minimumFractionDigits:l,currency:f,style:u}));return b&&b.length>0?(0,r.Z)(e._('{{formattedNumber}}{{numberSuffix}}', 'i18n.usePrettyNumberFormat.prettyNumberFormat', 'String used to concatenate formatted number and localized number suffix'),{formattedNumber:E,numberSuffix:b})+(_?"+":""):E+(_?"+":"")}}},954571:function(e,t,n){"use strict";n.d(t,{Z:function(){return r}});function r(e){if(!e)return!1;var t=new Date(e);return t.setDate(t.getDate()+28),(new Date).getTime()<t.getTime()}},543972:function(e,t,n){"use strict";var r=n(76911);function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function l(e,t){return(l=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function c(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=d(e);if(t){var o=d(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return s(this,n)}}function s(e,t){if(t&&("object"===o(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return u(e)}function u(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function d(e){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function p(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var f=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&l(e,t)}(d,e);var t,n,o,s=c(d);function d(){var e;i(this,d);for(var t=arguments.length,n=new Array(t),o=0;o<t;o++)n[o]=arguments[o];return p(u(e=s.call.apply(s,[this].concat(n))),"ref",(0,r.createRef)()),p(u(e),"observer",null),p(u(e),"handleVisibilityChanged",(function(t,n){e.props.onVisibilityChange(t,n)})),e}return t=d,(n=[{key:"componentDidMount",value:function(){this.ref&&this.ref.current&&(this.observer=new window.IntersectionObserver(this.handleVisibilityChanged,this.props.options),this.observer.observe(this.ref.current))}},{key:"componentWillUnmount",value:function(){null!==this.observer&&(this.observer.unobserve(this.ref.current),delete this.observer)}},{key:"render",value:function(){return this.props.children(this.ref)}}])&&a(t.prototype,n),o&&a(t,o),d}(r.Component);t.Z=f},329734:function(e,t,n){"use strict";n.d(t,{P:function(){return i},Z:function(){return o}});var r=n(506979);function o(e){return e&&e[1000069]&&500417===e[1000069].experience_id&&e[1000069].display_data.hide_footer}function i(){var e=(0,r.useSelector)((function(e){return e.experiences}));return!!e&&o(e)}},64446:function(e,t,n){"use strict";n.d(t,{Z:function(){return h}});var r=n(605028);var o=n(341732),i=n(81226),a=n(898781),l=n(908390),c=n(515198);function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){d(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function d(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var p={borderRadius:"18px",fontSize:"10px",fontWeight:"600",height:"24px",lineHeight:"24px",padding:"0 6px"},f={borderRadius:"18px",fontSize:"10px",fontWeight:"600",lineHeight:"24px",padding:"4px 8px"};function _(e){var t=e.backgroundColor,n=e.identifier,r=e.size,o="pine"===t?"#0FA573":"#fff",i="sm"===(void 0===r?"sm":r)?p:f;return(0,c.jsx)(l.xu,{display:"inlineBlock",dangerouslySetInlineStyle:{__style:u(u({},i),{},{backgroundColor:t?o:"rgba(255, 255, 255, 0.8)",color:"pine"===t?"#fff":"#111"})},"data-test-id":"PinTypeIdentifier",children:n})}function h(e){var t=e.pin,n=e.size,s=void 0===n?"sm":n,u=e.allowProductCarousel,d=e.allowShoppingPriceIndicator,p=e.shoppingLabelColor,f=(0,a.ZP)(),h=(0,r.Z)(t);if(h.isGif)return _({identifier:"GIF",size:s});if(h.isStoryPin){var y=t.story_pin_data||{},m=y.page_count,v=void 0===m?0:m,g=y.total_video_duration,b=void 0===g?0:g,P=v.toString();return _(b>0?{identifier:P=(0,i.Z)(b),size:s}:{identifier:(0,c.jsxs)(l.kC,{alignItems:"center",justifyContent:"between",children:[(0,c.jsx)(l.xu,{marginEnd:1,display:"flex",alignItems:"center",children:(0,c.jsx)(l.JO,{accessibilityLabel:f._('Idea Pin', 'pin.pinTypeIdentifier.ideaPinIconAccessibilityLabel', 'identifier that shows the pin type'),inline:!0,icon:"idea-pin",color:"default",size:"sm"===s?12:16})}),(0,c.jsx)(l.xv,{inline:!0,size:"100",weight:"bold",children:P})]}),size:s})}if(h.isVideo){var w=t.videos,S=(w&&w.video_list&&w.video_list[Object.keys(w.video_list)[0]]||{}).duration,x=void 0===S?0:S;return _({identifier:(0,i.Z)(x),size:s})}if(h.isProduct){var O=t.rich_summary&&t.rich_summary.products&&t.rich_summary.products[0]&&t.rich_summary.products[0].offer_summary;if(d){var A=O&&(O.price||O.max_price);return A?_({identifier:A,size:s}):null}if(p){var j=function(e){var t;return((((null===(t=e.rich_summary)||void 0===t?void 0:t.products)||[])[0]||{}).label_info||{}).labels||[]}(t)[0];return j?_({identifier:j,backgroundColor:p,size:s}):null}return null}if(u){var E=t.product_pin_data&&t.product_pin_data.items&&t.product_pin_data.items[0],T=E&&(0,o.Z)(t.images,E.additional_images,t.carousel_data&&t.carousel_data.index)||{},I=T.carousel_slots,C=void 0===I?[]:I,D=T.index;return _({identifier:"".concat((void 0===D?0:D)+1,"/").concat(C.length),size:s})}if(h.isCarousel){var R=t.carousel_data||{},k=R.carousel_slots,z=void 0===k?[]:k,N=R.index;return _({identifier:"".concat((void 0===N?0:N)+1,"/").concat(z.length),size:s})}return null}},55275:function(e,t,n){"use strict";n.d(t,{P:function(){return a},t:function(){return l}});var r=n(6637),o=function(){};var i={complaint:function(e,t){r.Z.create("PinFeedbackResource",e).callUpdate().then((function(){return t()}))},followBoard:function(e,t){r.Z.create("BoardFollowResource",e).callCreate().then((function(){return t()}))},followPinner:function(e,t){r.Z.create("UserFollowResource",e).callCreate().then((function(){return t()}))},followTopic:function(e,t){r.Z.create("InterestFollowResource",e).callCreate().then((function(){return t()}))},newsHubPinHide:function(e,t){r.Z.create("NewsHubPinFeedbackResource",e).callUpdate().then((function(){return t()}))},promotedComplaint:function(e,t){r.Z.create("PinFeedbackResource",e).callUpdate().then((function(){return t()}))},relatedPinHide:function(e,t){r.Z.create("RelatedPinFeedbackResource",e).callUpdate().then((function(){return t()}))},reportPin:function(e,t){t()},showAdReasons:function(e,t){t()},unfollowBoard:function(e,t){r.Z.create("BoardFollowResource",e).callDelete().then((function(){return t()}))},unfollowPinner:function(e,t){r.Z.create("UserFollowResource",e).callDelete().then((function(){return t()}))},unfollowTopic:function(e,t){r.Z.create("InterestFollowResource",e).callDelete().then((function(){return t()}))},unrelatedSearchPin:function(e,t){r.Z.create("SearchPinFeedbackResource",e).callUpdate().then((function(){return t()}))}},a=["complaint","relatedPinHide","unrelatedSearchPin","promotedComplaint","newsHubPinHide","unfollowBoard","unfollowPinner","unfollowTopic"];function l(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:o,r=e?i[e]:null;return r?r(t,n):n()}},680046:function(e,t,n){"use strict";n.d(t,{EF:function(){return f},XZ:function(){return d},nb:function(){return p},yl:function(){return u}});var r=n(55275),o=n(966113),i=n(760372);function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){c(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var s=function(e){return e.length>32?"".concat(e.substring(0,32).trim(),"..."):e};function u(e){return null!=e&&e.reason_id?e.reason_id:null!=e&&e.board?e.board.id:null!=e&&e.pin?e.pin.id:null!=e&&e.interest?e.interest.id:""}function d(e){return null==e?void 0:e.through_properties}function p(e){switch(e){case"promoted":return 60;case"followed":case"topic":return 100;case"pfyBoard":case"pfy":return 58}}function f(e,t,n,o,i,a,c){return function(){var s=l(l({},e),{},{undo:!0}),u=t;"unfollowPinner"===t?u="followPinner":"unfollowBoard"===t?u="followBoard":"unfollowTopic"===t&&(u="followTopic"),(0,r.t)(u,s),a(n),c({event_type:101,component:0,element:11181,view_type:o,view_parameter:i})}}t.ZP=function(e){var t=e.i18n,n=e.interpolateNamedTemplate;return{getLearnMoreUrl:function(e){switch(e){case 1:return"https://www.pinterest.com/_/_/help/articles/personalized-ads-pinterest";case 2:case 3:return"https://www.pinterest.com/_/_/help/articles/personalized-ads-pinterest";default:return o.m7}},getRecommendationDescription:function(e){var r=e.ad_match_reason,o=e.board,i=e.feedbackType,a=e.makeNavigateLink,l=e.pinner,c=e.promoter,u=e.recommendationReason,d=e.sourceInterest;switch(i){case"pfy":return t._('This Pin was inspired by your recent activity', 'Pin feedback reason', 'Pin feedback reason');case"pfyBoard":var p=u.board,f=p.name,_=a("navigation",p.url,f);return n(t._('This Pin was inspired by your board {{ boardLink }}', 'Pin feedback - inspired by your board', 'Pin feedback - inspired by your board'),{boardLink:_});case"topic":var h=d.name,y=d.url_name,m=a("topicUrl","/topics/".concat(y),h);return n(t._('This Pin was inspired by {{ formattedTopic }}', 'Pin feedback', 'Pin feedback'),{formattedTopic:m});case"followed":var v="/".concat(l.username),g=a("boardUrl",o.url,s(o.name)),b=a("pinnerUrl",v,s(l.full_name));return l.explicitly_followed_by_me?n(t._('This Pin is from {{ formattedPinner }}, a profile you follow', 'Pin feedback', 'Pin feedback'),{formattedPinner:b}):n(t._('This Pin is from {{ formattedBoard }}, a board you follow', 'Pin feedback', 'Pin feedback'),{formattedBoard:g});case"promoted":switch(r){case 1:case 2:case 3:return t._('This ad was personalized for you using info from one of our partners', 'Pin feedback', 'Pin feedback');default:var P=c.full_name,w=c.username,S=a("promotedLink",w?"/"+w+"/":"/",P);return n(t._('{{ promoterLink }} paid to have this Pin show up where\n          you\u2019d be more likely to notice it', 'Pin feedback', 'Pin feedback'),{promoterLink:S})}default:return null}},getFeedbackType:function(e){var t=e.board,n=e.feedback,r=e.viewParameter,o=e.pin,i=o.promoter,a=o.is_downstream_promotion,l=o.recommendation_reason,c=e.pinner,s=n&&n.type;return i&&!a?"promoted":s||(function(e){return!!e&&"FOLLOWED_INTEREST"!==e.reason&&"FOLLOWING_FEED"!==e.reason&&"RECENT_FOLLOWED_BOARD"!==e.reason&&!0}(l)?l.board?"pfyBoard":"pfy":l&&"FOLLOWED_INTEREST"===l.reason?"topic":t&&t.followed_by_me||c&&c.explicitly_followed_by_me?"followed":140===r||144===r||141===r||145===r||139===r||3173===r?"related":92===r?"default":3082===r?"newsHub":null)},getHidePinAction:function(e){var t,n,r=e.feedbackData,o=e.feedbackType,i=e.pinId,a=e.recommendationReasonId,c=e.pinFeedbackType,s=e.complaintReason,u=e.throughId,d=e.throughProperties,p=e.clientTrackingParams,f="promoted"===o;switch(o){case"promoted":t="promotedComplaint";break;case"search":t="unrelatedSearchPin";break;case"related":t="relatedPinHide";break;case"newsHub":t="newsHubPinHide";break;default:t="complaint"}switch(o){case"search":n={query:r.query,pin_id:i};break;case"related":n={pin:i};break;case"newsHub":n={pinId:i,newsId:r.newsId};break;default:n=l(l(l(l({complaint_reason:s||0,pin_id:i},a?{recommendation_reason_id:a}:{}),{},{feedback_type:c||1,promoted:f},u?{through_id:u}:{}),d?{through_properties:d}:{}),p?{client_tracking_params:p}:{})}return{action:t,actionOptions:n}},getUnfollowAction:function(e){var r=e.board,o=e.feedbackType,a=e.makeNavigateLink,l=e.pinner,c=e.sourceInterest;if("topic"===o){if(c){var s=c.id,u=c.name,d=c.url_name,p=a("topicUrl","/topics/".concat(d),u,!0),f=n(t._('We\u2019ll show you less Pins from {{ formattedTopic }} in the future.', 'pin.contextualMenu.feedback.unfollowTopic.subtitle', 'Confirmation text after unfollowing a topic'),{formattedTopic:p});return{action:"unfollowTopic",actionOptions:{interest_id:s,interest_list:i.X},title:"",subTitle:f}}}else if("followed"===o&&r&&l){var _=r||{},h=_.id,y=_.name,m=_.url,v=l.explicitly_followed_by_me,g=l.full_name,b=l.username,P="/".concat(b),w=a("boardUrl",m,y,!0),S=a("pinnerUrl",P,g,!0);v?n(t._('You\u2019ve unfollowed {{ formattedPinner }}\u2019s Board {{ formattedBoard }}. You can follow it again by searching for it.', 'Confirmation text after unfollowing a board', 'Confirmation text after unfollowing a board'),{formattedPinner:S,formattedBoard:w}):n(t._('You\u2019ve unfollowed {{ formattedBoard }}. You can follow it again by searching for it.', 'Confirmation text after unfollowing a board', 'Confirmation text after unfollowing a board'),{formattedBoard:w});return{action:"unfollowBoard",actionOptions:{board_id:h},title:"",subTitle:v?n(t._('You unfollowed {{ formattedPinner }} and won\u2019t see Pins they save anymore.', 'Confirmation text after unfollowing a user', 'Confirmation text after unfollowing a user'),{formattedPinner:S}):n(t._('You unfollowed the board {{ formattedBoard }} and won\u2019t see Pins saved to it anymore.', 'Confirmation text after unfollowing a board', 'Confirmation text after unfollowing a board'),{formattedBoard:w})}}return null}}}},205202:function(e,t,n){"use strict";function r(e,t){return e&&e[t]&&e[t].url}n.d(t,{Z:function(){return r}})},752802:function(e,t){"use strict";function n(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return r(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var o=0,i=function(){};return{s:i,n:function(){return o>=e.length?{done:!0}:{done:!1,value:e[o++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,l=!0,c=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return l=e.done,e},e:function(e){c=!0,a=e},f:function(){try{l||null==n.return||n.return()}finally{if(c)throw a}}}}function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var o=["564x","736x","orig","474x","236x"];t.Z=function(e){var t,r=e.images,i=void 0===r?{}:r,a=e.resolutionPreferences,l=n(void 0===a?o:a);try{for(l.s();!(t=l.n()).done;){var c=t.value;if(i[c]&&i[c].url)return i[c]}}catch(s){l.e(s)}finally{l.f()}return null}},248975:function(e,t,n){"use strict";function r(e){var t=e.embedSrc,n=e.embedType,r=e.images,o=e.preferredResolution;if(!t&&!n&&!r)return"";if("gif"===n)return t||"";var i=r;if(!i)return"";if(o){var a="474x"===o&&i["474x"]||"236x"===o&&i["236x"]||i["736x"];if(a&&a.url)return a.url}var l=Object.keys(i).map((function(e){try{var t=e.split("x")[0];return Number.isNaN(Number(t))?(i[t]=i[e],t):e}catch(n){return""}}));l.sort();var c=l.pop();return i[c]&&i[c].url||""}n.d(t,{Z:function(){return r}})},605028:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(687551),o=n(623568);function i(e){var t=e.access,n=e.attribution,i=e.embed,a=e.is_eligible_for_web_closeup,l=e.rich_summary,c=e.sponsorship,s=e.story_pin_data_id,u=e.videos,d={isLeadPin:!1,isCarousel:!1,isGif:!1,isOneTap:!1,isOwnPin:!1,isProduct:!1,isPromoted:!1,isRecipe:!1,isSponsored:!1,isStoryPin:!1,isVideo:!1};(0,o._Q)(e)&&(d.isLeadPin=!0),(0,r.Z)(e)&&(d.isCarousel=!0),a&&(d.isOneTap=!0),(0,o.iR)(u)&&(d.isVideo=!0);var p=i||n&&n.embed||null;return p&&"gif"===p.type&&(d.isGif=!0),l&&"product"===l.type_name&&(d.isProduct=!0),l&&"recipe"===l.type_name&&(d.isRecipe=!0),e.promoter&&!e.is_downstream_promotion&&(d.isPromoted=!0),(t||[]).includes("write")&&(d.isOwnPin=!0),s&&(d.isStoryPin=!0),c&&(d.isSponsored=!0),d}},307061:function(e,t){"use strict";t.Z=function(e){return function(t){return null!=t?e(t):null}}},674915:function(e,t,n){"use strict";var r=n(307061),o=n(736688);function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){l(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var c=(0,r.Z)((function(e){var t=e.pin.videos||{},n=t.id,r=t.video_list,i=void 0===r?{}:r,l=i.V_720P,c=i.V_HLSV4,s=i.V_HLSV3_MOBILE,u=(0,o.V3)(c),d=(0,o.V3)(s),p=(0,o.V3)(l),f=p||u||d;return n&&f?a(a({},e),{},{video:{id:n,hasVideo:f,mp4:p||void 0,hls:u||void 0,hlsv3:d||void 0}}):null}));t.Z=c},976071:function(e,t,n){"use strict";function r(e){return Boolean(e.promoted_is_removable)}n.d(t,{Z:function(){return r}})},18857:function(e,t,n){"use strict";n.d(t,{G7:function(){return s},WE:function(){return c},l6:function(){return u},rh:function(){return l}});var r=n(27255),o=n(605028),i=n(66699),a=n(623568);function l(e,t,n,i){var l,c,s;if(!t.isAuth)return!1;var u=(0,a.Nc)(e)||(0,a.o)(e),d=(null===(l=e.board)||void 0===l?void 0:l.privacy)===r.Z.BoardPrivacy.PUBLIC,p=((null===(c=e.board)||void 0===c?void 0:c.privacy)===r.Z.BoardPrivacy.PROTECTED||d)&&!e.is_repin&&[t.id,i].includes(null===(s=e.pinner)||void 0===s?void 0:s.id),f=(0,o.Z)(e).isStoryPin;return u||t.isPartner&&p||function(e){return e.checkExperiment("web_ps4p").anyEnabled}(n)&&f&&p||(0,a.pU)(e)}function c(e,t,n,r,o,i){return e.isAuth&&t&&(n||r)&&!(null==o||!o.isLoaded)&&!i}function s(e,t){return(0,i.Z)(t.ngettext('Last {{ count }} Day', 'Last {{ count }} Days', e, 'Previous {{ count }} days from current date', 'Previous {{ count }} days from current date'),{count:e})}function u(e,t){return(0,i.Z)(t.ngettext('Last {{ count }} Hour', 'Last {{ count }} Hours', e, 'analytics.utils', 'Previous {{ count }} hours from current time'),{count:e})}},802933:function(e,t,n){"use strict";function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var a=(0,n(307061).Z)((function(e){return e.pin&&e.pin.id?o(o({},e),{},{id:e.id,aggregatedPinData:e.pin.aggregated_pin_data}):null}));t.Z=a},692627:function(e,t,n){"use strict";function r(e){var t=e.hasPin,n=e.hasPinRichMetadata,r=e.hasPinRichMetadataProducts,o=e.hasPinRichMetadataArticle,i=e.hasPinRichMetadataRecipe,a=e.hasPinStoryPinData;if(t){if(n)return r?144:o?141:i?145:139;if(a)return 157}return 140}n.d(t,{Z:function(){return r}})},336882:function(e,t){"use strict";t.Z={STARTED:1,FINISHED:2}},177471:function(e,t,n){"use strict";n.d(t,{k:function(){return k}});var r=n(76911),o=n(506979),i=n(6637),a=n(19121),l=n(414327),c=n(780280),s=["etsy","microsoft","twitter","google","instagram","youtube","dropbox"];function u(e){var t=e.network,n=e.data,r=e.requestContext;if(s.includes(t))return i.Z.create("UserSocialNetworkResource",{network:t,data:n}).callCreate();var o="/v3/connect/".concat(t,"/"),a=function(e,t,n){var r;switch(e){case"facebook":var o=n.facebookToken;r=t?{facebook_id:t.id,facebook_token:o}:Object.freeze({});break;case"gplus":r=t?{one_time_code:t.one_time_code,redirect_uri:t.redirect_uri||void 0}:Object.freeze({});break;case"line":r=t?{line_id_token:t.line_id_token,line_access_token:t.line_access_token}:Object.freeze({});break;default:r=Object.freeze({})}return r}(t,n,r);return i.Z.create("ApiResource",{url:o,data:a}).callUpdate()}var d=n(553171),p=n(124237),f=n(402201),_=n(572752),h=n(966113),y=n(83969),m=n(867820);function v(e){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function g(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function b(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?g(Object(n),!0).forEach((function(t){P(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):g(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function P(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function w(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function S(e){var t=function(e,t){if("object"!==v(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==v(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===v(t)?t:String(t)}function x(e,t,n,r,o,i,a){try{var l=e[i](a),c=l.value}catch(s){return void n(s)}l.done?t(c):Promise.resolve(c).then(r,o)}function O(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){x(i,r,o,a,l,"next",e)}function l(e){x(i,r,o,a,l,"throw",e)}a(void 0)}))}}var A="https://www.googleapis.com/auth/userinfo.email https://www.googleapis.com/auth/userinfo.profile";function j(){return(j=O(regeneratorRuntime.mark((function e(t){var n,r,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,y.Px)();case 2:(o=null===(n=window.google)||void 0===n||null===(r=n.accounts)||void 0===r?void 0:r.oauth2)&&o.initCodeClient({client_id:h.v3,scope:A,ux_mode:"popup",callback:t}).requestCode();case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var E=Object.freeze({}),T=function(e){var t=e.network;if(E[t]){var n=E,r=n[t],o=r.error,i=r.success,a=r.complete,l=w(n,[t].map(S));E=b({},l),"error"===e.type?null==o||o(Object.freeze({})):i("facebook"===e.network?{id:e.profile.id}:{one_time_code:e.one_time_code,redirect_uri:e.redirect_uri}),null==a||a()}},I=function(e){var t=e.i18n,n=e.network,r=e.callbacks,o=e.requestContext;if(r=b({error:function(){},complete:function(){}},r),(0,m.My)("auth_web.social_connect.".concat(n,".").concat((0,_.Z)(o))),"gplus"===n||"google"===n)(0,m.My)("auth_web.social_connect.google.migration"),function(e){j.apply(this,arguments)}((function(e){r.success({one_time_code:e.code,redirect_uri:"postmessage"})}));else if("line"===n){var i=o.locale;(0,d.Z)(i,r)}else{var a=window.open("/connect/"+n+"/","",function(e){switch(e){case"dropbox":return"width=600,height=800";case"instagram":return(0,f.Z)({width:580,height:580});case"etsy":return(0,f.Z)({width:580,height:775});case"youtube":return(0,f.Z)({width:605,height:640});default:return(0,f.Z)()}}(n));if(!a)return p.Z.showError(t._('You must enable popups!', ' - ', ' -- ')),void(r.error&&r.error(Object.freeze({})));var l=setInterval((function(){a.closed&&(clearInterval(l),T({network:n,type:"error"}))}),1e3);E=b(b({},E),{},P({},n,r))}};function C(e){return(C="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function D(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}window.addEventListener("message",(function(e){var t=window.location.protocol+"//"+window.location.hostname+(window.location.port?":"+window.location.port:"");if(e.origin===t){var n=e.data;if(n&&"social-connect-complete"===n.type){var r=e.data;r.network&&T(r)}}}));var R=function(){function e(t){var n=t.invalidateResource,r=t.requestContext,o=t.viewer;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.getUserId=function(){return o.isAuth?o.id:""},this.getUsername=function(){return o.isAuth?o.username:""},this.isLimitedLogin=function(){return o.isLimitedLogin},this.invalidateResource=n,this.requestContext=r}var t,n,r;return t=e,(n=[{key:"handleConnect",value:function(e,t,n,r){var o=this,a=function(t){("connect"===t.type?u({network:e,data:t.data,requestContext:o.requestContext}):i.Z.create("ApiResource",{url:"/v3/connect/".concat(e,"/")}).callDelete()).then((function(e){var t,r={user_id:o.getUserId(),username:o.getUsername(),field_set_key:"social_connect"};o.invalidateResource("UserResource",r),i.Z.create("UserResource",r).callGet(),null===(t=n.success)||void 0===t||t.call(n,e)}),(function(e){var t;e&&"object"===C(e)&&(null===(t=n.error)||void 0===t||t.call(n,{api_error_code:e.api_error_code,code:e.code,message:e.message}))})).finally((function(){var e;null===(e=n.complete)||void 0===e||e.call(n)}))};t?this.isLimitedLogin()?a({type:"connect"}):I({network:e,callbacks:{success:function(e){return a({type:"connect",data:e})},error:n.error,complete:n.complete},i18n:r,requestContext:this.requestContext}):a({type:"disconnect"})}}])&&D(t.prototype,n),r&&D(t,r),e}();function k(){var e=(0,o.useDispatch)(),t=(0,c.B)(),n=(0,a.Z)();return(0,r.useMemo)((function(){return new R({invalidateResource:function(t,n){return e((0,l.jB)(t,n))},requestContext:t,viewer:n})}),[e,t,n])}},553171:function(e,t,n){"use strict";n.d(t,{Z:function(){return h}});var r=n(231486);var o=n(643913),i=n(226198),a=n(966113),l=n(696157),c=n(826067),s=n(957161);function u(e,t,n,r,o,i,a){try{var l=e[i](a),c=l.value}catch(s){return void n(s)}l.done?t(c):Promise.resolve(c).then(r,o)}var d="undefined"!=typeof window,p=d?"".concat(window.location.origin,"/oauth/line/redirect"):"",f=function(e){var t=e.origin,n=e.data;return n&&t===window.location.origin?String(n):null},_=function(e){var t=e.url,n=e.key;if(!t.startsWith(window.location.origin)||n!==l.MM)return null;var r=(0,s.qn)(l.MM);return(0,s.L_)(l.MM),r};function h(e,t){if(d){var n,l=function(){var e="abcdefghijklmnopqrstuvwxyz1234567890";return new Array(arguments.length>0&&void 0!==arguments[0]?arguments[0]:5).fill("").map((function(){return e[Math.floor(Math.random()*e.length)]})).join("")}(10),s=function(){var e,a=(e=regeneratorRuntime.mark((function e(a){var u,d,h,y,m,v,g,b,P;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a.isTrusted){e.next=2;break}return e.abrupt("return");case 2:if(u=a instanceof MessageEvent?f(a):_(a),!(d=(0,c.mB)(u)).state||!d.code||d.state!==l){e.next=26;break}return n&&!n.closed&&n.close(),e.prev=6,e.next=9,fetch("/oauth/line/verify",{headers:{"Content-type":"application/x-www-form-urlencoded; charset=UTF-8","x-csrftoken":"".concat(String(r.U2(i.fS)))},method:"POST",body:(0,o.Z)({code:d.code,redirect_uri:p})});case 9:return h=e.sent,e.next=12,h.json();case 12:y=e.sent,m=y.id_token,v=y.access_token,m&&v?t.success({line_id_token:m,line_access_token:v}):null===(g=t.error)||void 0===g||g.call(t,{message:"No tokens returned"}),e.next=20;break;case 17:e.prev=17,e.t0=e.catch(6),null===(b=t.error)||void 0===b||b.call(t,e.t0);case 20:return e.prev=20,n&&!n.closed&&n.close(),window.removeEventListener("message",s),window.removeEventListener("storage",s),null===(P=t.complete)||void 0===P||P.call(t),e.finish(20);case 26:case"end":return e.stop()}}),e,null,[[6,17,20,26]])})),function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){u(i,r,o,a,l,"next",e)}function l(e){u(i,r,o,a,l,"throw",e)}a(void 0)}))});return function(e){return a.apply(this,arguments)}}();window.addEventListener("message",s),window.addEventListener("storage",s),n=window.open("https://access.line.me/oauth2/v2.1/authorize?response_type=code"+"&client_id=".concat(a.z)+"&redirect_uri=".concat(encodeURIComponent(p))+"&state=".concat(l)+"&ui_locales=".concat(e)+"&scope=profile%20openid%20email","_blank")}else{var h;null===(h=t.error)||void 0===h||h.call(t,{message:"Window is undefined"})}}},107193:function(e,t,n){"use strict";n.r(t);var r=n(336882),o=n(935879),i=n(713930),a=n(6637),l=n(966113),c=n(867820),s=!1,u=function(e){return e.isAuth&&!!e.facebookId&&!e.isLimitedLogin};t.default=function e(t,n){var d=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"en-US",p=arguments.length>3?arguments[3]:void 0;p&&(0,c.dy)({event:"load_script_start",provider:"facebook"}),(0,i.Z)((0,o.Z)(d),"FACEBOOK").then((function(){p&&(0,c.dy)({event:"load_script_success",provider:"facebook"});var o=window.FB;o?(s||(p&&(0,c.dy)({event:"initialize_library",provider:"facebook"}),o.init({appId:l.GH,status:!0,version:"v2.2"}),FB.Event.subscribe("auth.statusChange",(function(){u(n)&&e((function(e){if(e.getUserID()){var t=e.getAccessToken();t&&a.Z.create("ApiResource",{url:"/v3/connect/facebook/",data:{facebook_token:t}}).callCreate({showError:!1})}}),n)})),s=!0,window.fb_init=r.Z.FINISHED),t(o)):p&&(0,c.dy)({event:"global_object_not_found",provider:"facebook"})})),window.fb_init=r.Z.STARTED}},935879:function(e,t){"use strict";t.Z=function(e){return"//connect.facebook.net/".concat(function(e){var t=e.replace(/-/g,"_");if(t.startsWith("es"))return"es_LA";if(t.startsWith("ar"))return"ar_AR";switch(t){case"de":return"de_DE";case"fr":return"fr_FR";case"it":return"it_IT";case"ja":return"ja_JP";case"nl":return"nl_NL";case"tr":return"tr_TR";case"en_AU":return"en_US";default:return t}}(e),"/sdk.js")}},869503:function(e,t,n){"use strict";n.d(t,{Z:function(){return u}});var r=n(939106),o=n(898781),i=n(349700),a=n(908390),l=n(515198);function c(){var e=(0,o.ZP)();return e._('Free shipping', 'closeup.product.shipping', 'product shipping info')}function s(e){var t=e.freeShippingPrice,n=(0,o.ZP)();return(0,i.nk)(n._('Free shipping with {{ shippingPrice }}+', 'closeup.product.shipping', 'product shipping info'),{shippingPrice:t}).join("")}function u(e){var t=e.customStyles,n=e.showPrevDot,o=e.freeShippingPrice,i=e.freeShippingValue,u=n?[""]:[],d=t||{},p=d.color,f=void 0===p?"subtle":p,_=d.size,h=void 0===_?"200":_;return Number.isFinite(i)?(0===i?u.push((0,l.jsx)(c,{})):o&&u.push((0,l.jsx)(s,{freeShippingPrice:o})),0===u.length?null:(0,l.jsx)(a.xv,{color:f,size:h,children:(0,l.jsx)(r.Z,{color:f,items:u})})):null}},280313:function(e,t,n){"use strict";n.d(t,{Z:function(){return Se}});var r=n(76911),o=n(317672),i=n(790348);function a(e){return function(e){if(Array.isArray(e))return l(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return l(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return l(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var u=function(e){var t=performance.getEntriesByType("resource").filter((function(e){return e.name.includes("i.pinimg")})).reduce((function(e,t){var n=t.name.replace(".jpg","").split("/");return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){s(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}(s({},n[n.length-1],{downloadSize:t.name.split("/")[3].split("x")[0]}),e)}),{}),n=Array.from(document.getElementsByTagName("img")).map((function(e){var n=e.src.replace(".jpg","").split("/"),r=n[n.length-1];if(t[r]){var i,a=(null===(i=(0,o.rZ)(e))||void 0===i?void 0:i.width)||1,l=t[r].downloadSize;return{fileName:r,renderedSize:a,downloadedSize:l,ratio:l/a}}return{fileName:r,renderedSize:1,downloadedSize:1,ratio:1}})),r=Array.from(document.querySelectorAll('div[role="img"]')).map((function(e){var n=e.style.backgroundImage.split('"')[1].replace(".jpg","").split("/"),r=n[n.length-1];if(t[r]&&e instanceof HTMLDivElement){var i,a=(null===(i=(0,o.rZ)(e))||void 0===i?void 0:i.width)||1,l=t[r].downloadSize;return{fileName:r,renderedSize:a,downloadedSize:l,ratio:l/a}}return{fileName:r,renderedSize:1,downloadedSize:1,ratio:1}}));[].concat(a(n),a(r)).forEach((function(t){var n=t.ratio,r=t.fileName,o=t.downloadedSize;t.ratio>1.05&&(0,i.A9)("checkImageRatio.".concat(e),{count:Math.round(10*n)/10,tags:{fileName:"".concat(o,"_").concat(r)}})}))},d=n(860273),p=n(543059),f=n(607150);function _(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function h(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_(Object(n),!0).forEach((function(t){y(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function y(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var m=function(e){var t=e.constraintMap,n=e.initialNavTiming;return h(h(h(h({},e.annotations),(0,f.jh)("constraint_",t)),(0,f.jh)("mark_",(0,p.gQ)())),(0,f.jh)("browser_",h(h({},n?(0,f.D3)(n):{}),(0,f.rX)())))},v=n(358864),g=n(505771),b=n(156381);function P(e){return function(e){if(Array.isArray(e))return w(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return w(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return w(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function w(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var S=function(e,t){var n=(0,b.v2)().firstInputDelay;return[].concat(P(e.map((function(e){return(0,g.Z)(e,t)})).filter(Boolean)),P(n?[{name:"fid",id:(0,v.Z)(),parentId:t,startTime:n.startTime,endTime:n.endTime,annotationMap:{},binaryAnnotationMap:{}}]:[]))},x=n(435851),O=n(172071);function A(e){return function(e){if(Array.isArray(e))return j(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return j(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return j(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function j(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function E(e){return(E="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var T=function(e){var t=e.eventPrefix,n=e.endTime,r=e.tags,o=e.resourceArr,i=e.resourceType,a=void 0===i?"allResources":i,l=o.length;if(l>0&&"object"===E(o[0])&&!Array.isArray(o[0])){for(var c=A(o).sort((function(e,t){return e.fetchStart-t.fetchStart})),s=A(o).sort((function(e,t){return e.responseEnd-t.responseEnd})),u=1,d=n/5,p=0;u<=5;){for(var f=0;p<=l-1&&c[p].fetchStart<=d*u;)p+=1,f+=1;O.Z.gauge("".concat(t,".tags.").concat(a,".fetchStartInterval").concat(u,"of5"),f,.2,r),O.Z.gauge("".concat(t,".").concat(a,".fetchStartInterval").concat(u,"of5"),f,.2),u+=1}var _={zeroPercentInFlight:c[0].fetchStart,twentyFivePercentInFlight:c[Math.floor(l/4)].fetchStart,fiftyPercentInFlight:c[2*Math.floor(l/4)].fetchStart,seventyFivePercentInFlight:c[3*Math.floor(l/4)].fetchStart,hundredPercentInFlight:c[l-1].fetchStart,twentyFivePercentComplete:s[Math.floor(l/4)].responseEnd,fiftyPercentComplete:s[2*Math.floor(l/4)].responseEnd,seventyFivePercentComplete:s[3*Math.floor(l/4)].responseEnd,hundredPercentComplete:s[l-1].responseEnd};for(var h in _)_[h]&&(O.Z.timing("".concat(t,".tags.").concat(a,".").concat(h),_[h],.2,r),O.Z.timing("".concat(t,".").concat(a,".").concat(h),_[h],.2))}},I=function(e){var t=e.annotateExperiments,n=e.endTime,r=e.entries,o=e.metricIdSurface,i=e.pwtStaticContext,a="".concat((0,x.Z)(i),".").concat(o),l=[a];t&&t.forEach((function(e){var t=i.getExperimentGroup(e)||"null";l.push("".concat(a,".").concat(e,".").concat(t))}));var c,s={lcpTimingBucket:((c=(0,b.Bn)())<=2500?"Good":c>2500&&c<=4e3?"Needs Improvement":"Poor")||"unknown"},u=Array.from(r.filter((function(e){return"number"==typeof e.encodedBodySize&&e.encodedBodySize>=1e4&&e.responseEnd<=n}))),d=[],p=[],f=[],_=[],h=[];u.forEach((function(e){"img"===e.initiatorType?d.push(e):"css"===e.initiatorType?p.push(e):"script"===e.initiatorType?f.push(e):"xmlhttprequest"===e.initiatorType?_.push(e):"link"===e.initiatorType&&e.name.includes("i.pinimg.com")&&h.push(e)})),l.forEach((function(e){T({eventPrefix:e,endTime:n,tags:s,resourceArr:u}),T({eventPrefix:e,endTime:n,tags:s,resourceArr:d,resourceType:"image"}),T({eventPrefix:e,endTime:n,tags:s,resourceArr:p,resourceType:"css"}),T({eventPrefix:e,endTime:n,tags:s,resourceArr:f,resourceType:"scripts"}),T({eventPrefix:e,endTime:n,tags:s,resourceArr:_,resourceType:"xhr"}),T({eventPrefix:e,endTime:n,tags:s,resourceArr:h,resourceType:"preloadedImage"})}))},C=n(22773),D=n(453821),R=n(638089),k=function(e){var t,n=e.annotateExperiments,r=e.annotations,o=e.binaryAnnotations,i=e.constraintMap,a=e.endTime,l=e.imageTimings,c=e.metricId,s=e.pwtStaticContext,u=e.startTime,p=e.traceId,f=e.spans,_=(0,C.Cg)();"initial_app_load"===c.navigationType&&(t=(0,d.Z)());var h=l.map((function(e){return e.name})),y=_.map((function(e){return(0,D.p)(e,h)})).filter((function(e){return!function(e,t){var n=e.startTime,r=e.responseEnd;return n>t.endTime||!!r&&r<t.startTime||n<t.startTime-100}(e.timing,{startTime:u,endTime:a})}));return"board"!==c.surface&&"pin_closeup"!==c.surface||"initial_app_load"!==c.navigationType||!1!==s.isAuthenticated||I({annotateExperiments:n,endTime:a,entries:_,metricIdSurface:c.surface,pwtStaticContext:s}),{type:"COMPLETE",traceId:p,startTime:u,endTime:a,spans:S(y,p).concat(f),annotationMap:m({constraintMap:i,initialNavTiming:t,annotations:r}),binaryAnnotationMap:(0,R.rA)({annotateExperiments:n,binaryAnnotations:o,entries:_,metricId:c,performanceResources:y,pwtEndTime:a,pwtStaticContext:s})}},z=!1,N=function(e,t){return e&&t?z?((0,i.H)("duplicated_initial_app_load_surface_pwt"),(0,v.Z)()):(z=!0,t):(0,v.Z)()},L=n(908390),M=n(226464),B=n(515198);function Z(e){var t=e.children,n=e.heading;return(0,B.jsxs)("table",{style:{width:"100%"},cellPadding:4,children:[(0,B.jsx)("thead",{children:(0,B.jsx)("tr",{children:(0,B.jsx)("th",{colSpan:2,style:{background:"#efefef"},children:(0,B.jsx)(L.xv,{weight:"bold",align:"center",children:n})})})}),(0,B.jsx)("tbody",{children:t})]})}function F(e){var t=e.name,n=e.children;return(0,B.jsxs)("tr",{children:[(0,B.jsx)("td",{children:(0,B.jsx)(L.xv,{weight:"bold",children:t})}),(0,B.jsx)("td",{children:"string"==typeof n?(0,B.jsx)(L.xv,{children:n}):n})]})}function U(e){var t=e.result;return"ABORT"===t.type?(0,B.jsx)(F,{name:"Abort Reason",children:t.reason}):(0,B.jsxs)(r.Fragment,{children:[(0,B.jsx)(F,{name:"PWT (ms)",children:(0,B.jsx)(L.xv,{align:"end",children:Math.round(t.endTime-t.startTime)})}),(0,B.jsx)(F,{name:"PinTrace",children:(0,B.jsx)(L.xv,{italic:!0,children:(0,B.jsx)(L.rU,{href:"https://pintrace.pinadmin.com/zipkin/traces/".concat(t.traceId.toString(16)),target:"blank",display:"inlineBlock",onClick:function(e){return(0,e.dangerouslyDisableOnNavigation)()},underline:"hover",children:"Open in a new tab"})})})]})}function G(e){var t=e.data,n=t.metricId,r=t.constraints,o=t.constraintMap,i=t.startTime,a=t.result;return(0,B.jsxs)(L.xu,{children:[(0,B.jsxs)(Z,{heading:(0,M.KJ)(n),children:[(0,B.jsx)(F,{name:"Thrift Id",children:String((0,M.Rp)(n))}),(0,B.jsx)(F,{name:"Surface",children:n.surface}),(0,B.jsx)(F,{name:"Navigation Type",children:n.navigationType}),(0,B.jsx)(F,{name:"Viewer Authed",children:String(n.isAuthenticated)})]}),(0,B.jsx)(Z,{heading:"Constraints",children:r.map((function(e){return(0,B.jsx)(F,{name:e,children:(0,B.jsx)(L.xv,{align:"end",children:o[e]?Math.round(o[e]-i):"pending..."})},"constraint_".concat(e))}))}),(0,B.jsx)(Z,{heading:"Result",children:a?(0,B.jsx)(U,{result:a}):(0,B.jsx)(F,{name:"result",children:(0,B.jsx)(L.$j,{accessibilityLabel:"profiling PWT",show:!0})})})]})}var V=n(223815);function H(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,i=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(c){l=!0,o=c}finally{try{a||null==n.return||n.return()}finally{if(l)throw o}}return i}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return W(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return W(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function W(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var K=function(e){return e.result?"COMPLETE"===e.result.type?"darkGray":"red":"gray"};function Y(e){var t=e.data,n=H((0,r.useState)(!1),2),o=n[0],i=n[1];return(0,B.jsx)(V.Z,{children:(0,B.jsxs)(L.mh,{children:[(0,B.jsx)(L.xu,{position:"fixed",margin:3,marginBottom:12,bottom:!0,left:!0,width:50,height:50,dangerouslySetInlineStyle:{__style:{zIndex:2e3}},children:(0,B.jsx)(L.hU,{accessibilityLabel:"PwtDebugger",bgColor:"lightGray",iconColor:K(t),icon:"flash",size:"lg",onClick:function(){return i(!0)}})}),o&&(0,B.jsx)(L.xu,{position:"absolute",dangerouslySetInlineStyle:{__style:{zIndex:2e3}},children:(0,B.jsx)(L.u_,{accessibilityModalLabel:"Pinner Wait Time Debugger Details",heading:"Pinner Wait Time",onDismiss:function(){return i(!1)},footer:null,size:"sm",children:(0,B.jsx)(G,{data:t})})})]})})}var X=n(558775),q=function(e,t){var n=(0,r.useRef)(e);(0,r.useEffect)((function(){n.current=e}),[e]);var o=(0,r.useRef)(t);(0,r.useEffect)((function(){o.current=t}),[t]),(0,r.useEffect)((function(){return function(){return o.current(n.current)}}),[])};function J(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,i=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(c){l=!0,o=c}finally{try{a||null==n.return||n.return()}finally{if(l)throw o}}return i}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return $(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return $(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function $(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Q=function(e,t){var n=J((0,r.useState)(t),2),o=n[0],i=n[1];return{state:o,dispatch:function(t){return i((function(n){return e(n,t)}))}}},ee=n(985271),te=n(7789),ne=n(383434),re=n(567450),oe=n(276602),ie=n(198462);function ae(e){return(ae="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var le=["children"];function ce(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function se(e){var t=function(e,t){if("object"!==ae(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==ae(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===ae(t)?t:String(t)}function ue(e){return function(e){if(Array.isArray(e))return de(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return de(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return de(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function de(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function pe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function fe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?pe(Object(n),!0).forEach((function(t){_e(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):pe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function _e(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var he=["initial_app_load","client_route_push"],ye=(0,ne.X)("PwtSurface"),me="NavigationComplete",ve="VisuallyComplete",ge=function(e,t){e.isSampled&&(0,X.Z)({metricId:e.metricConfig.metricId,pwtStaticContext:e.metricConfig.pwtStaticContext,result:{type:"ABORT",reason:t}})},be=function(e){if(e.metricConfig.constraints.every((function(t){return e.constraintMap[t]}))){var t=Math.max.apply(Math,ue(e.metricConfig.constraints.map((function(t){return e.constraintMap[t]}))));return function(e,t){var n,r=e.metricConfig,o=r.metricId,a=r.pwtStaticContext,l=r.annotateExperiments,c=e.annotations,s=e.binaryAnnotations,d=e.constraintMap,f=e.startTime,_=e.imageTimings,h=e.isSampled,y=e.spans;(0,p.L8)("PWT_Complete_".concat((0,M.KJ)(o)));var m=N("initial_app_load"===o.navigationType,null===(n=a.serverData)||void 0===n?void 0:n.trace_id),v=k({annotateExperiments:l,annotations:c,binaryAnnotations:s,constraintMap:d,endTime:t,imageTimings:_,metricId:o,pwtStaticContext:a,startTime:f,traceId:m,spans:y});h&&(0,X.Z)({metricId:o,pwtStaticContext:a,result:v});try{u(String(v.binaryAnnotationMap["metricId.surface"].value))}catch(g){(0,i.H)("image_ratio_check_error",{error:g})}return fe(fe({},e),{},{result:v,status:"DONE"})}(e,t)}return e},Pe=function(e,t){var n=t.constraint,r=t.time,o=(0,M.KJ)(e.metricConfig.metricId);return ee.Z?e.metricConfig.constraints.find((function(e){return e===n}))?e.constraintMap[n]?(ye('constraint "'.concat(n,'" is already complete.')),(0,i.H)("duplicated_constraint_complete",{constraint:n,action:o}),e):(ye('marking constraint "'.concat(n,'" as complete')),(0,p.ZP)("constraint_".concat(n,"_is_complete")),be(fe(fe({},e),{},{constraintMap:fe(fe({},e.constraintMap),{},_e({},n,r||ee.Z.now()))}))):(ye('marked constraint "'.concat(n,'" is not a required constraint.')),e):((0,i.H)("missing_window_performance",{action:o}),e)},we=function(e,t){if(ye("dispatch action",t),"INIT_ROUTE"===t.type)return function(e,t){var n=t.metricConfig,r=t.startTime,o=t.isSampled;if("TIMING"===e.status&&r!==e.startTime&&ge(e,"routeUpdatedOnSameSurface"),!n)return{status:"DISABLED",metricConfig:null};var a,l,c,s,u=(0,M.KJ)(n.metricId);return"TIMING"===e.status&&e.startTime===r&&e.constraintMap[me]?((0,i.H)("duplicated_init_route_action",{action:u}),e):("Other"===n.pwtStaticContext.browserName&&!1===n.metricId.isAuthenticated&&"initial_app_load"===n.metricId.navigationType?((0,i.A9)("TIMING.".concat(u),{tags:{userAgent:null===(a=window)||void 0===a||null===(l=a.navigator)||void 0===l?void 0:l.userAgent}}),(0,i.A9)("TIMING.sampled.".concat(u),{tags:{userAgent:null===(c=window)||void 0===c||null===(s=c.navigator)||void 0===s?void 0:s.userAgent},sampleRate:.5})):((0,i.A9)("TIMING.".concat(u)),(0,i.A9)("TIMING.sampled.".concat(u),{sampleRate:.5})),Pe({status:"TIMING",metricConfig:n,startTime:r,constraintMap:{},annotations:{},binaryAnnotations:{},imageTimings:[],isSampled:o,spans:[]},{constraint:me}))}(e,t.payload);if("TIMING"!==e.status)return ye("ignoring action due to invalid state ".concat(e.status),t),e;switch(t.type){case"ABORT":ge(e,t.reason);var n={type:"ABORT",reason:t.reason};return fe(fe({},e),{},{status:"DONE",result:n});case"ANNOTATE":var r=t.payload.name;if(!ee.Z)return e;var o=ee.Z.now();return ye("adding annotation {".concat(r,": ").concat(o,"}")),fe(fe({},e),{},{annotations:fe(fe({},e.annotations),_e({},r,o))});case"BINARY_ANNOTATE":var a=t.payload,l=a.name,c=a.value,s=a.annotationType;return ye("adding binary annotation {".concat(l,": ").concat(c,"}")),fe(fe({},e),{},{binaryAnnotations:fe(fe({},e.binaryAnnotations),_e({},l,{value:c,type:s}))});case"MARK_CONSTRAINT_COMPLETE":return Pe(e,t.payload);case"REMOVE_CONSTRAINT":return function(e,t){if(!ee.Z){var n=(0,M.KJ)(e.metricConfig.metricId);(0,i.H)("missing_window_performance",{action:n})}ye('removing constraint "'.concat(t,'"'));var r=e.metricConfig.constraints.filter((function(e){return e!==t})),o=e.constraintMap,a=(o[t],ce(o,[t].map(se)));return be(fe(fe({},e),{},{constraintMap:a,metricConfig:fe(fe({},e.metricConfig),{},{constraints:r})}))}(e,t.payload);case"SET_SEGMENT":return function(e,t){if(!ee.Z){var n=(0,M.KJ)(e.metricConfig.metricId);(0,i.H)("missing_window_performance",{action:n})}ye('updating pwt segment to "'.concat(t,'"'));var r=fe(fe({},e.metricConfig.metricId),{},{segment:t});return fe(fe({},e),{},{metricConfig:fe(fe({},e.metricConfig),{},{metricId:r})})}(e,t.payload);case"SET_VISUALLY_COMPLETE_RESULT":var u=t.payload.imageTimings;if(0===u.length){ge(e,"visuallyComplete_noImages");return fe(fe({},e),{},{status:"DONE",result:{type:"ABORT",reason:"visuallyComplete_noImages"}})}var d=Math.max.apply(Math,ue(u.map((function(e){return e.responseEnd||0}))));return Pe(fe(fe({},e),{},{imageTimings:u}),{constraint:ve,time:d});case"ADD_SUBSPAN":var p=e.startTime,f=t.payload,_=f.name,h=f.startTime,y=f.endTime,m=f.annotations,g=f.binaryAnnotations,b=f.parentId;return fe(fe({},e),{},{spans:[].concat(ue(e.spans),[{name:_,id:(0,v.Z)(),startTime:h||p,endTime:y,annotationMap:fe({},m),binaryAnnotationMap:fe({},g),parentId:b}])});case"START_SUBSPAN":return fe(fe({},e),{},{spans:[].concat(ue(e.spans),[{name:t.payload.name,id:(0,v.Z)(),startTime:ee.Z?ee.Z.now():0,endTime:1/0,annotationMap:fe({},t.payload.annotations),binaryAnnotationMap:fe({},t.payload.binaryAnnotations),parentId:t.payload.parentId}])});case"STOP_SUBSPAN":var P=e.spans.findIndex((function(e){return e.name===t.payload.name}));return P>-1?(e.spans[P].endTime=ee.Z?ee.Z.now():0,t.payload.annotations&&(e.spans[P].annotationMap=fe(fe({},e.spans[P].annotationMap),t.payload.annotations)),t.payload.binaryAnnotations&&(e.spans[P].binaryAnnotationMap=fe(fe({},e.spans[P].binaryAnnotationMap),t.payload.binaryAnnotations))):(0,i.H)("invalid_subspan_stop_name",{name:t.payload.name}),e;default:var w=(0,M.KJ)(e.metricConfig.metricId);return(0,i.H)("invalid_pwt_surface_action",{action:w}),e}};function Se(e){var t,n,o,a=e.children,l=ce(e,le),c=(0,ie.fM)(),s=function(e){if(!e)return"initial_app_load";switch(e.action){case"PUSH":return"client_route_push";case"REPLACE":return"client_route_replace";default:return null}}(c),u=["seo_web_react18_render","web_react18_render_auth","web_react18_render_unauth","web_duplo_default"].concat(ue(null!==(t=l.annotateExperiments)&&void 0!==t?t:[])),d=function(e){var t=e.surface,n=e.constraints,o=e.segment,i=e.measureGridVisuallyComplete,a=e.annotateExperiments,l=e.customEnabledNavigationTypes,c=e.navigationInfo,s=c.clientNavigation,u=c.navigationType,d=e.sampleRate,p=(0,r.useRef)("NOT_SET"),f=(0,ie.N5)(),_=Q(we,{status:"DISABLED",metricConfig:null}),h=_.state,y=_.dispatch;if(p.current!==s&&(p.current=s,f)){var m=f.isAuthenticated,v=t&&u&&(l||he).includes(u)?{metricId:{type:"surface",surface:t,navigationType:u,isAuthenticated:m,segment:o},annotateExperiments:a,constraints:[me].concat(ue(n||[]),ue(i?[ve]:[])),pwtStaticContext:f}:null;y({type:"INIT_ROUTE",payload:{metricConfig:v,startTime:s?s.time:0,isSampled:!d||Math.random()<d}})}if((0,r.useEffect)((function(){var e=function(e){y({type:"ABORT",reason:e})};re.Z.onSessionPause(e);var t=function e(){window.removeEventListener("resize",e),y({type:"ABORT",reason:"windowResized"})};return window.addEventListener("resize",t),function(){re.Z.removePauseListener(e),window.removeEventListener("resize",t)}}),[]),q(h,(function(e){ye("handling unmount",e),"TIMING"===e.status&&ge(e,"unmount")})),"TIMING"!==h.status||!h.constraintMap[me])return{state:h,context:null};var g=h.startTime,b=h.metricConfig;return{state:h,context:{id:g,metricId:b.metricId,abort:function(e){return y({type:"ABORT",reason:e})},addAnnotation:function(e){return y({type:"ANNOTATE",payload:{name:e}})},addBinaryAnnotation:function(e,t,n){return y({type:"BINARY_ANNOTATE",payload:{name:e,value:t,annotationType:n}})},setVisuallyCompleteResult:b.constraints.includes(ve)?function(e){return y({type:"SET_VISUALLY_COMPLETE_RESULT",payload:e})}:null,markConstraintComplete:function(e){return y({type:"MARK_CONSTRAINT_COMPLETE",payload:{constraint:e,time:ee.Z?ee.Z.now():0}})},removeConstraint:function(e){return y({type:"REMOVE_CONSTRAINT",payload:e})},setSegment:function(e){return y({type:"SET_SEGMENT",payload:e})},addSubspan:function(e,t,n){return y({type:"ADD_SUBSPAN",payload:{name:e,startTime:t,endTime:n,annotations:arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},binaryAnnotations:arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},parentId:arguments.length>5&&void 0!==arguments[5]?arguments[5]:null}})},startSubspan:function(e){return y({type:"START_SUBSPAN",payload:{name:e,annotations:arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},binaryAnnotations:arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},parentId:arguments.length>3&&void 0!==arguments[3]?arguments[3]:null}})},stopSubspan:function(e){return y({type:"STOP_SUBSPAN",payload:{name:e,annotations:arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},binaryAnnotations:arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},parentId:arguments.length>3&&void 0!==arguments[3]?arguments[3]:null}})}}}}(fe(fe({},l),{},{annotateExperiments:u,navigationInfo:{navigationType:s,clientNavigation:c}})),p=d.state,f=d.context;return n=(0,oe.EV)(),o=!!n,(0,r.useEffect)((function(){if(o){var e=null!=n&&n.metricId?(0,M.KJ)(n.metricId):null;(0,i.H)("nested_pwt_surface",{action:e})}}),[o]),(0,B.jsxs)(r.Fragment,{children:[(0,B.jsx)(oe.Sb,{value:f,children:a}),te.DQ&&"DISABLED"!==p.status&&(0,B.jsx)(Y,{data:{metricId:p.metricConfig.metricId,constraints:p.metricConfig.constraints,constraintMap:p.constraintMap,startTime:p.startTime,result:"DONE"===p.status?p.result:null}})]})}},317254:function(e,t,n){"use strict";n.d(t,{Z:function(){return c}});var r=n(969853),o=n(76911),i=n(276602),a=n(543059);var l=n(198462);function c(e){var t,n=e.children,c=e.isAtEndOfFeed,s=e.pinData,u=e.itemCount,d=e.includeBackgroundImages,p=void 0!==d&&d,f=e.includeVideos,_=void 0!==f&&f,h=e.includeSections,y=void 0!==h&&h;return(null===(t=(0,l.N5)())||void 0===t?void 0:t.isAuthenticated)||(y=!0),(0,r.Z)({pinData:s,isAtEndOfFeed:c,includeBackgroundImages:p,includeVideos:_,includeSections:y}),function(e){var t=(0,i.EV)(),n=(0,o.useRef)(null);(0,o.useEffect)((function(){e!==n.current&&(n.current=e,t&&(0,a.ZP)(a.at))}),[!!t,e])}(u),n}},681227:function(e,t,n){"use strict";function r(e){var t=Object.keys(e);return t.length>0?t.sort((function(t,n){return e[n]-e[t]})).slice(0,3):null}function o(e){var t=Object.values(e);return t.length>0?t.reduce((function(e,t){return e+t}),0):0}function i(e,t){var n=e.videos,r=e.is_downstream_promotion,o=e.is_promoted,i=e.story_pin_data_id,a=e.board;return!(o||r||(!n||!n.id)&&!i||t||null!=a&&a.is_collaborative&&a.collaborated_by_me)}n.d(t,{At:function(){return r},J6:function(){return i},Ud:function(){return o}})},561195:function(e,t,n){"use strict";n.d(t,{A:function(){return c},Z:function(){return s}});var r=n(76911),o=n(480578),i=n.n(o),a=n(908390),l=n(515198),c=function(e){var t=e.fill,n=(e.width,e.color,"half"===t?(0,l.jsxs)(r.Fragment,{children:[(0,l.jsx)(a.xu,{position:"absolute",children:(0,l.jsx)(a.JO,{accessibilityLabel:"",color:"default",icon:"star-half",size:12})}),(0,l.jsx)(a.JO,{accessibilityLabel:"",color:"subtle",icon:"star",size:12})]}):(0,l.jsx)(a.JO,{accessibilityLabel:"",color:"full"===t?"default":"subtle",icon:"star",size:12}));return(0,l.jsx)(a.xu,{dangerouslySetInlineStyle:{__style:{marginRight:"3px"}},display:"inlineBlock","data-test-id":"rating-star-".concat(t),children:n})};function s(e){var t=e.max_rating,n=e.rating,o=e.width,a=e.color,s=[],u=function(e,t){return 5*(t=t<=e?t:e)/e}(parseFloat(t)||5,parseFloat(n)||0);if(Number.isNaN(u))return null;var d=Math.floor(u),p=u-d;return i()(d,(function(e){return s.push((0,l.jsx)(c,{color:a,fill:"full",width:o},e))})),p>=.75?s.push((0,l.jsx)(c,{color:a,fill:"full",width:o},s.length)):p>=.25&&s.push((0,l.jsx)(c,{color:a,fill:"half",width:o},s.length)),i()(5-s.length,(function(){return s.push((0,l.jsx)(c,{color:a,fill:"empty",width:o},s.length))})),(0,l.jsx)(r.Fragment,{children:s})}},736688:function(e,t,n){"use strict";n.d(t,{QO:function(){return c},V3:function(){return a},cO:function(){return d},dn:function(){return s},fP:function(){return u},j1:function(){return p},v_:function(){return l}});var r=n(841726),o=n(867820),i=n(623568),a=function(e){var t=e||{},n=t.thumbnail,r=t.url,o=t.width,i=t.height,a=t.duration;return n&&r&&o&&i&&{thumbnail:n,url:r,width:o,height:i,duration:a}||void 0};function l(e,t){if(t&&t.products&&t.products[0]){var n=t.products[0],r=!(!n.name&&!e),i=!(!t.aggregate_rating||0===t.aggregate_rating.rating_count&&0===t.aggregate_rating.review_count||Number.isNaN(parseFloat(t.aggregate_rating.rating_value))),a=!(!n.offer_summary||!n.offer_summary.min_price&&!n.offer_summary.price),l=r&&(i||a);return function(e){var t=e.isEligible,n=e.hasName,r=e.hasAggregateRating,i=e.hasOffers;(0,o.My)("closeup_main_pin.leaf_snippet.is_product",{isEligible:t,hasName:n,hasAggregateRating:r,hasOffers:i})}({isEligible:l,hasName:r,hasAggregateRating:i,hasOffers:a}),l}return!1}var c=function(e,t){var n=t.userName||"";return{"@type":"Person",name:t.fullName||n,url:e+"/"+n}};function s(e,t,n,o,i,a){n=n.trim();var l=(t=t.trim())||a||n||o,c=function(){return t||i};if(!e||!e.metatags)return{title:l,description:n||c()};var s,u=e.metatags.description;return{title:l,description:(s=void 0===u?"":u,(0,r.o)(s||"").trim())||c()}}var u=function(e,t,n){var r=t;return n?{fallbackTitle:r="recipe"===e?n._('Pinterest Recipe', 'pin.closeup.leafsnippet.recipe', 'Default recipe title and description for crawlers'):"howto"===e?n._('Pinterest How To', 'pin.closeup.leafsnippet.howto', 'Default how to title and description for crawlers'):"video"===e?n._('Pinterest Video', 'pin.closeup.leafsnippet.video', 'Default video title and description for crawlers'):"product"===e?n._('Pinterest Product', 'pin.closeup.leafsnippet.product', 'Default product title and description for crawlers'):n._('Pin page', 'pin.closeup.leafsnippet.pin', 'Default pin title and description for crawlers'),fallbackDescription:r}:{fallbackTitle:r,fallbackDescription:r}},d=function(e){if(e){var t=e.rating_count,n=e.review_count;if((!!t||!!n)&&!Number.isNaN(parseFloat(e.rating_value))){var r=t||n;return{"@type":"AggregateRating",ratingValue:e.rating_value,ratingCount:r,bestRating:5,worstRating:1}}}},p=function(e){var t,n,r,o,a=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],l=!!(0,i.iR)(e.videos),c=a&&!!(0,i.cL)({embedSrc:null===(t=e.embed)||void 0===t?void 0:t.src,embedSubtype:null===(n=e.embed)||void 0===n?void 0:n.subtype,embedType:null===(r=e.embed)||void 0===r?void 0:r.type}),s=!(null===(o=e.story_pin_data)||void 0===o||!o.total_video_duration);return l||c||s}},53325:function(e,t,n){"use strict";n.d(t,{$O:function(){return l},GZ:function(){return s},OE:function(){return u},Xv:function(){return c},Z0:function(){return r},_z:function(){return i},fM:function(){return a},qA:function(){return o},zX:function(){return d}});var r=40,o=4,i=106,a=133,l=.1,c=10,s=246,u=197,d=236},31149:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});var r=n(515198);function o(e){var t=e.size,n=void 0===t?56:t;return(0,r.jsxs)("svg",{width:n,height:n,viewBox:"0 0 56 56",fill:"none",xmlns:"http://www.w3.org/2000/svg",display:"block",children:[(0,r.jsx)("rect",{width:"56",height:"56",rx:"28",fill:"#EFEFEF"}),(0,r.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M18.1106 19.6408C18.2759 19.551 18.4653 19.5 18.6667 19.5H37.3333C37.5535 19.5 37.7594 19.561 37.9351 19.667C37.9351 19.667 37.9352 19.667 37.9352 19.667L28.7395 27.2024C28.3095 27.5547 27.6905 27.5547 27.2605 27.2024L18.0648 19.667C18.0799 19.6579 18.0951 19.6492 18.1106 19.6408ZM14 20.8611V20.6667C14 18.0893 16.0893 16 18.6667 16H37.3333C39.9107 16 42 18.0893 42 20.6667V20.8611V34.6667C42 37.244 39.9107 39.3333 37.3333 39.3333H18.6667C16.0893 39.3333 14 37.244 14 34.6667V20.8611ZM38.5 23.7292V34.6667C38.5 35.311 37.9777 35.8333 37.3333 35.8333H18.6667C18.0223 35.8333 17.5 35.311 17.5 34.6667V23.7292L25.0422 29.9095C26.7622 31.319 29.2378 31.319 30.9578 29.9096L38.5 23.7292Z",fill:"black"})]})}},659522:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});var r=n(515198);function o(e){var t=e.size,n=void 0===t?56:t;return(0,r.jsxs)("svg",{width:n,height:n,viewBox:"0 0 56 56",fill:"none",xmlns:"http://www.w3.org/2000/svg",display:"block",children:[(0,r.jsx)("path",{d:"M56 28C56 12.536 43.464 0 28 0S0 12.536 0 28c0 13.975 10.24 25.56 23.625 27.66V36.094h-7.11V28h7.11v-6.169c0-7.017 4.18-10.893 10.576-10.893 3.064 0 6.268.546 6.268.546v6.891h-3.53c-3.479 0-4.564 2.159-4.564 4.373V28h7.766l-1.242 8.094h-6.524V55.66C45.761 53.56 56 41.975 56 28Z",fill:"#1877F2"}),(0,r.jsx)("path",{d:"M38.9 36.094 40.14 28h-7.765v-5.252c0-2.215 1.085-4.373 4.563-4.373h3.53v-6.89s-3.203-.547-6.267-.547c-6.396 0-10.576 3.876-10.576 10.893V28h-7.11v8.094h7.11V55.66a28.206 28.206 0 0 0 8.75 0V36.094h6.524Z",fill:"#fff"})]})}},331744:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});var r=n(515198);function o(e){var t=e.size,n=void 0===t?56:t;return(0,r.jsxs)("svg",{width:n,height:n,viewBox:"0 0 56 56",fill:"none",xmlns:"http://www.w3.org/2000/svg",display:"block",children:[(0,r.jsx)("path",{d:"M28 56c15.464 0 28-12.536 28-28S43.464 0 28 0 0 12.536 0 28s12.536 28 28 28Z",fill:"#00B900"}),(0,r.jsx)("path",{d:"M46.625 26.32c0-8.335-8.354-15.115-18.625-15.115-10.267 0-18.625 6.78-18.625 15.115 0 7.471 6.627 13.73 15.578 14.91.606.13 1.432.401 1.642.92.187.47.122 1.208.06 1.684l-.265 1.596c-.08.471-.373 1.843 1.615 1.003 1.988-.835 10.724-6.314 14.634-10.812 2.693-2.964 3.986-5.969 3.986-9.3Z",fill:"#fff"}),(0,r.jsx)("path",{d:"M24.215 22.293H22.91c-.201 0-.364.163-.364.364v8.115c0 .2.163.364.364.364h1.306c.2 0 .364-.163.364-.364v-8.12a.363.363 0 0 0-.364-.36ZM33.208 22.293H31.9c-.2 0-.364.163-.364.364v4.82l-3.72-5.02c-.009-.015-.018-.024-.027-.038l-.005-.005-.023-.023c-.005 0-.005-.005-.005-.005-.005-.005-.014-.01-.019-.014l-.009-.01c-.005-.004-.014-.008-.019-.013-.004-.005-.009-.005-.009-.005a.036.036 0 0 0-.019-.01c-.004 0-.009-.004-.009-.004-.005-.004-.014-.004-.019-.01-.004 0-.009-.004-.014-.004l-.023-.01c-.005 0-.01 0-.014-.004-.01 0-.014-.005-.019-.005h-.014c-.004 0-.014 0-.018-.004H26.212c-.2 0-.364.163-.364.364v8.115c0 .2.164.364.364.364h1.307c.2 0 .364-.163.364-.364v-4.82l3.724 5.03a.283.283 0 0 0 .093.089s.005 0 .005.005c.01.004.014.009.023.014.005 0 .005.004.01.004.004.005.01.005.018.01.005.004.01.004.02.009.004 0 .008.005.008.005.01.004.02.004.024.009h.004c.028.01.061.014.094.014h1.306c.201 0 .364-.163.364-.364v-8.125a.37.37 0 0 0-.368-.36ZM21.065 29.097h-3.551v-6.445c0-.2-.164-.364-.364-.364h-1.307c-.2 0-.364.163-.364.364v8.115c0 .098.037.187.103.252l.004.005.005.005c.065.06.154.102.252.102h5.217c.201 0 .364-.163.364-.364v-1.306a.358.358 0 0 0-.359-.364ZM40.422 24.323c.201 0 .364-.163.364-.364v-1.307c0-.2-.163-.364-.364-.364h-5.217a.353.353 0 0 0-.252.103l-.005.005c0 .004-.004.004-.004.004a.373.373 0 0 0-.103.252v8.115c0 .098.037.187.103.252l.004.005.005.005c.065.06.154.102.252.102h5.217c.201 0 .364-.163.364-.364v-1.306c0-.2-.163-.364-.364-.364h-3.55v-1.372h3.55c.201 0 .364-.164.364-.364v-1.307c0-.2-.163-.364-.364-.364h-3.55v-1.372h3.55v.005Z",fill:"#00B900"})]})}},757146:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});var r=n(515198);function o(e){var t=e.size,n=void 0===t?56:t;return(0,r.jsxs)("svg",{width:n,height:n,viewBox:"0 0 56 56",fill:"none",xmlns:"http://www.w3.org/2000/svg",display:"block",children:[(0,r.jsx)("rect",{width:"56",height:"56",rx:"28",fill:"#fff"}),(0,r.jsx)("rect",{x:".5",y:".5",width:"55",height:"55",rx:"27.5",stroke:"#767676",strokeOpacity:".4"}),(0,r.jsx)("path",{d:"M28 12c-9.012 0-16 6.604-16 15.52 0 4.664 1.912 8.696 5.024 11.48.26.232.42.56.428.912l.088 2.848c.028.908.964 1.5 1.796 1.132l3.176-1.4c.268-.12.572-.14.856-.064 1.46.4 3.012.616 4.632.616 9.012 0 16-6.604 16-15.52S37.012 12 28 12Z",fill:"url(#paint0_radial_3730_649)"}),(0,r.jsx)("path",{d:"m18.392 32.06 4.7-7.456a2.401 2.401 0 0 1 3.472-.64l3.74 2.804a.96.96 0 0 0 1.156-.004l5.048-3.832c.672-.512 1.552.296 1.104 1.012l-4.704 7.452a2.401 2.401 0 0 1-3.472.64l-3.74-2.804a.96.96 0 0 0-1.156.004l-5.048 3.832c-.672.512-1.552-.292-1.1-1.008Z",fill:"#fff"}),(0,r.jsx)("defs",{children:(0,r.jsxs)("radialGradient",{id:"paint0_radial_3730_649",cx:"0",cy:"0",r:"1",gradientUnits:"userSpaceOnUse",gradientTransform:"translate(18.16 43.826) scale(34.8672)",children:[(0,r.jsx)("stop",{stopColor:"#09F"}),(0,r.jsx)("stop",{offset:".61",stopColor:"#A033FF"}),(0,r.jsx)("stop",{offset:".935",stopColor:"#FF5280"}),(0,r.jsx)("stop",{offset:"1",stopColor:"#FF7061"})]})})]})}},464240:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});var r=n(515198);function o(e){var t=e.size,n=void 0===t?56:t;return(0,r.jsxs)("svg",{width:n,height:n,viewBox:"0 0 56 56",fill:"none",xmlns:"http://www.w3.org/2000/svg",display:"block",children:[(0,r.jsx)("rect",{width:"56",height:"56",rx:"28",fill:"#1DA1F2"}),(0,r.jsx)("path",{d:"M24.34 42c11.37 0 17.591-9.429 17.591-17.591 0-.265 0-.53-.012-.796a12.596 12.596 0 0 0 3.087-3.207c-1.11.494-2.303.82-3.557.976a6.22 6.22 0 0 0 2.725-3.424 12.299 12.299 0 0 1-3.93 1.495 6.17 6.17 0 0 0-4.51-1.953 6.19 6.19 0 0 0-6.186 6.185c0 .483.06.953.157 1.411-5.136-.253-9.694-2.725-12.744-6.463a6.184 6.184 0 0 0-.832 3.111 6.2 6.2 0 0 0 2.749 5.148 6.254 6.254 0 0 1-2.797-.771v.084a6.196 6.196 0 0 0 4.955 6.065 6.028 6.028 0 0 1-1.628.217c-.397 0-.783-.036-1.157-.109a6.182 6.182 0 0 0 5.775 4.293 12.4 12.4 0 0 1-7.68 2.652c-.494 0-.989-.024-1.471-.084A17.587 17.587 0 0 0 24.34 42Z",fill:"#fff"})]})}},22641:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});var r=n(515198);function o(e){var t=e.size,n=void 0===t?56:t;return(0,r.jsxs)("svg",{width:n,height:n,viewBox:"0 0 56 56",fill:"none",xmlns:"http://www.w3.org/2000/svg",display:"block",children:[(0,r.jsx)("rect",{width:"56",height:"56",rx:"28",fill:"#25D366"}),(0,r.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M39.206 16.65A15.75 15.75 0 0 0 27.99 12c-8.74 0-15.854 7.113-15.857 15.855a15.821 15.821 0 0 0 2.117 7.927L12 44l8.406-2.205a15.837 15.837 0 0 0 7.577 1.93h.007c8.74 0 15.853-7.114 15.856-15.857a15.76 15.76 0 0 0-4.64-11.218ZM27.99 41.047h-.005c-2.365 0-4.684-.636-6.708-1.837l-.482-.286-4.988 1.309 1.331-4.864-.313-.499a13.146 13.146 0 0 1-2.015-7.014c.003-7.266 5.915-13.178 13.185-13.178a13.09 13.09 0 0 1 9.318 3.865 13.098 13.098 0 0 1 3.856 9.324c-.003 7.267-5.915 13.18-13.179 13.18Zm7.23-9.871c-.397-.199-2.345-1.157-2.708-1.289-.364-.132-.628-.198-.891.198-.264.397-1.024 1.29-1.255 1.554-.231.264-.462.297-.858.099-.396-.199-1.673-.617-3.187-1.966-1.178-1.051-1.973-2.348-2.204-2.745-.231-.397-.024-.611.173-.808.178-.178.397-.463.595-.695.198-.23.264-.396.396-.66.132-.265.066-.496-.033-.695-.098-.198-.89-2.148-1.221-2.941-.322-.773-.649-.668-.892-.68a16.01 16.01 0 0 0-.759-.014c-.264 0-.693.099-1.057.495-.363.397-1.387 1.356-1.387 3.305 0 1.95 1.42 3.835 1.618 4.1.199.264 2.794 4.265 6.769 5.982.945.409 1.683.653 2.259.835.948.302 1.812.26 2.495.157.76-.114 2.344-.958 2.674-1.884.33-.925.33-1.719.23-1.884-.098-.166-.362-.266-.758-.464Z",fill:"#fff"})]})}},867060:function(e,t,n){"use strict";var r;function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,{c:function(){return i},y:function(){return a}});var i=(o(r={},10,13098),o(r,11,13099),o(r,6,13100),o(r,5,13101),o(r,14,13102),o(r,12,13103),o(r,15,13104),o(r,8,13105),o(r,4,13106),o(r,1,13107),o(r,18,13108),o(r,19,13109),o(r,20,13110),o(r,21,13111),o(r,22,13112),o(r,23,13113),o(r,26,13114),o(r,27,13115),o(r,29,13116),r),a={pin:1,board:2,did_it:6,pinner:3,user:3,today_article:8}},124364:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var r=n(898781),o=n(908390),i=n(515198);function a(e){var t=e.height,n=e.isDenseView,a=e.rounding,l=e.width,c=(0,r.ZP)();return(0,i.jsx)(o.xu,{color:"default",display:"flex",justifyContent:"center",alignItems:"center",position:"relative",rounding:a,overflow:"hidden",width:l,height:t,"data-test-id":"unavailable-pin",children:(0,i.jsxs)(o.kC,{direction:"column",alignItems:"center",children:[(0,i.jsx)(o.xu,{paddingY:n?2:4,children:(0,i.jsx)(o.JO,{accessibilityLabel:c._('Pin not available', 'story-pin.Closeup.UnavailableIdeaPin.icon.accessibilityLabel', 'Accessibility label on icon'),color:"default",icon:"alert",size:20})}),(0,i.jsx)(o.xv,{weight:"bold",children:c._('Unavailable', 'story-pin.Closeup.UnavailableIdeaPin.Unavailable', 'Text on an unavailable idea Pin that has been deleted')}),!n&&(0,i.jsx)(o.xu,{paddingY:1,children:(0,i.jsx)(o.xv,{children:c._('Removed by the creator', 'story-pin.Closeup.UnavailableIdeaPin.Removed', 'Text on an unavailable idea Pin explaining it has been removed by its creator')})})]})})}},676142:function(e,t,n){"use strict";n.d(t,{Z:function(){return s}});var r=n(858142),o=/\{\s*(\w+)\s*\}/g,i=function(e,t){return(0,r.Z)(o,e,t)};function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){c(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function s(e){var t=e.args,n=e.format,r=(t||[]).reduce((function(e,t,n){return l(l({},e),{},c({},n,t.text))}),{});return i(n,r)}},936776:function(e,t){"use strict";var n=/^[\w.!#$%&'*+\-\/=?\^`{|}~]+@[a-z\d\-]+(\.[a-z\d\-]+)+$/i;t.Z=function(e){return n.test(e)}},927104:function(e,t){"use strict";t.Z=function(e,t){return e.length>t?e.substr(0,t-3).trim()+"":e}},841726:function(e,t,n){"use strict";n.d(t,{o:function(){return r}});function r(e,t){var n=(((t||"")+"").toLowerCase().match(/<[a-z][a-z0-9]*>/g)||[]).join("");return e.replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/<!--[\s\S]*?-->|<\?(?:php)?[\s\S]*?\?>|<!--[\s\S]*/gi,"").replace(/<\/?([a-z][a-z0-9]*)\b[^>]*>/gi,(function(e,t){return n.indexOf("<"+t.toLowerCase()+">")>-1?e:""}))}t.Z=function(e){return e.replace(/(<([^>]+)>)/gi,"")}},482981:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});var r=n(784641);function o(e){var t=e.article_creator_user,n=e.display_type,o=e.feed_source,i=e.header_pin_id,a=e.id,l=e.is_product_pin_feed,c=e.title,s=e.video_pin;switch(n){case 0:case 1:return c?(0,r.T7)(o,null!=l&&l,c,a):"";case 8:return null!=t&&t.username?"/".concat(encodeURIComponent(t.username),"/"):"";case 3:case 6:return i?"/pin/".concat(i,"/"):"";case 2:return null!=s&&s.id?"/pin/".concat(s.id,"/"):"";default:return""}}},207112:function(e,t,n){"use strict";var r=n(76911),o=n(908390),i=n(515198);function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){h(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function u(e,t){return(u=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function d(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=_(e);if(t){var o=_(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return p(this,n)}}function p(e,t){if(t&&("object"===a(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return f(e)}function f(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _(e){return(_=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function h(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var y=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&u(e,t)}(_,e);var t,a,l,p=d(_);function _(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,_),h(f(t=p.call(this,e)),"state",{manualTruncate:!1}),t.ref=(0,r.createRef)(),t}return t=_,(a=[{key:"componentDidMount",value:function(){var e=this.props,t=e.maxHeightPx,r=e.shaveOptions,o=void 0===r?{}:r,i=this.ref&&this.ref.current;if(i){var a=void 0===i.textContent?"innerText":"textContent",l=i[a];("boolean"!=typeof o.spaces||o.spaces?l.split(" "):l).length<2?this.setState({manualTruncate:!0}):n.e(14118).then(n.bind(n,472281)).then((function(e){(0,e.default)(i,t,o)}))}}},{key:"render",value:function(){var e=this.props,t=e.maxWidthPx,n=e.maxHeightPx,r=e.inline,a=void 0!==r&&r,l=this.state.manualTruncate,s={maxWidth:t,maxHeight:n},u=c(a?{display:"inline"}:{},s);return l?(0,i.jsx)(o.xu,{overflow:"hidden",dangerouslySetInlineStyle:{__style:u},ref:this.ref,"data-test-id":"truncater",children:this.props.children}):(0,i.jsx)(o.xu,{ref:this.ref,dangerouslySetInlineStyle:{__style:u},"data-test-id":"truncater",children:this.props.children})}}])&&s(t.prototype,a),l&&s(t,l),_}(r.Component);t.Z=y},477802:function(e,t,n){"use strict";n.d(t,{W:function(){return s},Z:function(){return c}});var r=n(908390),o=n(515198);function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){l(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function c(e){var t=e.data;return(0,o.jsx)(r.xu,{overflow:"auto",dangerouslySetInlineStyle:{__style:{border:"2px solid red"}},"data-test-id":"debug-info",children:(0,o.jsx)("pre",{children:JSON.stringify(t,null,2).replace(/\\n/g,"\n")})})}var s=function(e){return(0,o.jsx)(r.xu,{width:236,dangerouslySetInlineStyle:{__style:{marginTop:10}},children:(0,o.jsx)(c,a({},e))})}},948618:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(908390),o=n(515198);function i(e){var t=e.ariaHidden,n=void 0!==t&&t,i=e.color,a=void 0===i?"darkGray":i,l=e.size;return(0,o.jsx)("span",{"aria-hidden":n,style:{padding:"0 4px"},children:(0,o.jsx)(r.xv,{color:a,inline:!0,size:null!=l?l:"200",children:""})})}},939106:function(e,t,n){"use strict";n.d(t,{Z:function(){return u}});var r=n(76911),o=n(948618),i=n(908390),a=n(515198);function l(e){return function(e){if(Array.isArray(e))return c(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return c(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return c(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function s(e){return null!=e}function u(e){var t=e.additionalPadding,n=e.color,c=void 0===n?"darkGray":n,u=e.inline,d=e.items,p=t?(0,a.jsx)("span",{style:{padding:"0 ".concat(4*t,"px")},children:(0,a.jsx)(o.Z,{color:c})}):(0,a.jsx)(o.Z,{color:c}),f=d.filter(s).reduce((function(e,t,n){return[].concat(l(e),[0!==n?p:null,t])}),[]).filter(s).map((function(e,t){return(0,a.jsx)(r.Fragment,{children:e},t)}));return 0===f.length?null:u?(0,a.jsx)(i.xu,{children:f}):(0,a.jsx)(i.kC,{alignItems:"center",justifyContent:"start",children:f})}},681291:function(e,t,n){"use strict";n.d(t,{Z:function(){return u},n:function(){return c}});var r=n(512855),o=n(908390),i=n(515198);function a(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,i=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(c){l=!0,o=c}finally{try{a||null==n.return||n.return()}finally{if(l)throw o}}return i}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return l(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return l(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function c(e){var t,n=e.items,o=e.itemWidth,i=e.itemGap,l=e.numRows,c=void 0===l?1:l,s=e.actionItemType,u=a((0,r.Z)(),2),d=u[0],p=u[1],f=Math.floor((d+i)/(o+i))*c||c,_=n.slice(0,f),h=[];switch(s){case"nextFour":f>=n.length?h=[_.pop()]:(_.pop(),h=n.slice(f-1,f+3));break;case"one":t=f>n.length?n[Math.floor(n.length/2)]:_.pop()}return{containerRef:p,itemsToRender:_,actionItem:t,nextFourItems:h}}var s={center:{outer:"center",inner:"center"},left:{outer:"start",inner:"start"},right:{outer:"end",inner:"end"}};function u(e){var t=e.children,n=e.itemGap,r=e.containerRef,a=e.numRows,l=void 0===a?1:a,c=e.rowAlignment,u=s[void 0===c?"center":c];return(0,i.jsx)(o.xu,{ref:r,width:"100%",children:(0,i.jsx)(o.kC,{alignItems:"center",justifyContent:u.outer,children:(0,i.jsx)(o.kC,{justifyContent:u.inner,gap:{row:Math.floor(n/4),column:0},wrap:l>1,children:t})})})}},512855:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var r=n(76911);function o(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,i=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(c){l=!0,o=c}finally{try{a||null==n.return||n.return()}finally{if(l)throw o}}return i}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return i(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return i(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function a(){var e=o((0,r.useState)(0),2),t=e[0],n=e[1],i=(0,r.useRef)(null),a=(0,r.useCallback)((function(){i.current&&n(i.current.clientWidth)}),[i]);return(0,r.useEffect)((function(){return window.addEventListener("resize",a),function(){window.removeEventListener("resize",a)}}),[a]),(0,r.useEffect)(a),[t,i]}},786871:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var r=n(506979),o=[1000069,1000075],i={};function a(){return e=(0,r.useSelector)((function(e){return e.experiences})),o.forEach((function(t){!e[t]||void 0!==i[t]&&i[t].id===e[t].id||(i[t]=e[t])})),i;var e}},357787:function(e,t,n){"use strict";var r=n(76911),o=n(945790),i=n(515198);function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function u(e,t){return(u=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function d(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=_(e);if(t){var o=_(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return p(this,n)}}function p(e,t){if(t&&("object"===a(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return f(e)}function f(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _(e){return(_=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function h(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var y=new Map,m=null,v=function(e){e.forEach((function(e){var t=y.get(e.target);t&&t(e)}))},g=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"-64px 0px 0px 0px",n=arguments.length>2?arguments[2]:void 0,r=[0,.5,1],o={root:"undefined"==typeof document?null:document.querySelector("#mainContainer"),rootMargin:t,threshold:r};m=m||new window.IntersectionObserver(v,o),y.set(e,n),m.observe(e)},b=function(e){return y.has(e)};t.Z=function(e){var t=function(t){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&u(e,t)}(_,t);var n,r,a,p=d(_);function _(){var e;c(this,_);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return h(f(e=p.call.apply(p,[this].concat(n))),"seen",!1),h(f(e),"enter",(function(t){var n=t.intersectionRatio>0||t.isIntersecting;e.seen=n,e.seen&&e.props.onVisibilityChanged(!0)})),h(f(e),"leave",(function(){var t=e._node;t&&b(t)&&e.seen&&(e.props.onVisibilityChanged(!1),e.seen=!1)})),h(f(e),"observe",(function(t){try{e._node=o.findDOMNode(f(e))}catch(i){return}if(e._node){var n=e.props.inAdsDesktopVideoExperiment,r=e._node;g(r,t,(function(t){if(y.has(r)){var o=n?t.intersectionRatio>=.5:t.intersectionRatio>0||t.isIntersecting,i=e.props.trackFullVisible?t.intersectionRatio>=1:o,a=e.props.trackFullVisible?0===t.intersectionRatio:!i;!e.seen&&i?e.enter(t):e.seen&&a&&e.leave()}}))}})),e}return n=_,(r=[{key:"componentDidMount",value:function(){var e=this.props.rootMargin;this.observe(e)}},{key:"componentWillUnmount",value:function(){var e=this._node;e&&(this.leave(),function(e){m.unobserve(e),y.delete(e)}(e))}},{key:"render",value:function(){return(0,i.jsx)(e,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){h(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},this.props))}}])&&s(n.prototype,r),a&&s(n,a),_}(r.Component);return h(t,"displayName","DeprecatedWithVisibilityChanged(".concat(e.displayName||e.name,")")),t}},46584:function(e,t,n){"use strict";n.d(t,{Z:function(){return l}});var r=n(76911),o=new Map,i=null,a=function(e){e.forEach((function(e){var t=o.get(e.target);t&&t(e)}))};function l(e){var t=e.onVisibilityChanged,n=e.inAdsDesktopVideoExperiment,l=e.trackFullVisible,c=e.rootMargin,s=(0,r.useRef)(null),u=!1,d=function(){var e;s.current instanceof HTMLElement&&(e=s.current,o.has(e))&&(u&&(t(!1),u=!1))},p=(0,r.useCallback)((function(e){s.current instanceof HTMLElement&&function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"-64px 0px 0px 0px",n=arguments.length>2?arguments[2]:void 0,r=[0,.5,1],l={root:"undefined"==typeof document?null:document.querySelector("#mainContainer"),rootMargin:t,threshold:r};i=i||new window.IntersectionObserver(a,l),o.set(e,n),i.observe(e)}(s.current,e,(function(e){if(o.has(s.current)){var r=n?e.intersectionRatio>=.5:e.intersectionRatio>0||e.isIntersecting,i=l?e.intersectionRatio>=1:r,a=l?0===e.intersectionRatio:!i;!u&&i?function(e){var n=e.intersectionRatio>0||e.isIntersecting;(u=n)&&t(!0)}(e):u&&a&&d()}}))}),[s.current]);return(0,r.useEffect)((function(){return p(c),function(){var e;s.current instanceof HTMLElement&&(d(),e=s.current,i.unobserve(e),o.delete(e))}}),[p]),s}},562559:function(e,t,n){"use strict";var r=n(76911),o=n(571827),i=n.n(o),a=n(112690),l=n(19121),c=n(965900),s=n(773285),u=n(780280),d=n(908390),p=n(969315),f=n(179888),_=n(226347),h=n(515198),y=["clientTrackingParams","component","durationNs","element","objectId","pairId","viewData","view","viewParameter"];function m(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function v(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function g(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function b(e,t){return(b=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function P(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=x(e);if(t){var o=x(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return w(this,n)}}function w(e,t){if(t&&("object"===E(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return S(e)}function S(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function x(e){return(x=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function O(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function A(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?O(Object(n),!0).forEach((function(t){j(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):O(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function j(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function E(e){return(E="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var T=function(e,t){if(t){var n="control"===t?"v3.pinimg.com":"v2.pinimg.com";return e.replace("v.pinimg.com",n)}return e},I=function(e,t){return"string"==typeof e?T(e,t):Array.isArray(e)?function(e,t){return e[0].src&&t?[A(A({},e[0]),{},{src:T(e[0].src,t)})]:e}(e,t):e},C=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&b(e,t)}(a,e);var t,n,r,o=P(a);function a(){var e;v(this,a);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return j(S(e=o.call.apply(o,[this].concat(n))),"state",{canPlayVideo:!1,isManifestParsed:!1,playbackState:f.Cy.DEFAULT,videoStartTime:e.props.seekTime||0}),j(S(e),"errorRetryCount",1),j(S(e),"firstFragBuffered",!1),j(S(e),"hasPlaybackStarted",!1),j(S(e),"hasVideoSessionStarted",!1),j(S(e),"hasVideoSessionEnded",!1),j(S(e),"hls",null),j(S(e),"fragStartupTime",{}),j(S(e),"lastLevelSwitchKbps",null),j(S(e),"lastStallTime",null),j(S(e),"lastPauseTime",null),j(S(e),"logSessionStartOnNextPlay",!1),j(S(e),"playerId",""),j(S(e),"videoSessionId",""),j(S(e),"videoVisibleTime",null),j(S(e),"playbackPerformance",{canPlayTime:null,detailedErrors:"",downloadedKiloBytes:0,errorCode:0,errorName:"",errorReason:"",hasFatalError:!1,loadStartTime:null,numberOfStalls:0,numberOfSeeks:0,playbackStartTimestamp:null,segments:[],srcString:"string"==typeof e.props.src?T(e.props.src,e.props.quicExpGroup):T(e.props.src[0].src,e.props.quicExpGroup),totalStallDurationMs:0,totalPauseDurationMs:0,videoCreatedTime:null}),j(S(e),"initializeHls",(function(){e.destroyHls();var t=e.props,n=t.src,r=t.hlsConfig,o=t.quicExpGroup,a=new(i())(r),l=I(n,o);a.loadSource(l),e.videoPlayerRef&&a.attachMedia(e.videoPlayerRef.video),a.on(i().Events.FRAG_BUFFERED,e.handleHlsFragBuffered),a.on(i().Events.FRAG_CHANGED,e.handleHlsFragChanged),a.on(i().Events.FRAG_LOADING,e.handleHlsFragLoading),a.on(i().Events.FRAG_LOADED,e.handleHlsFragLoaded),a.on(i().Events.MANIFEST_PARSED,(function(){e.setState({isManifestParsed:!0})})),a.on(i().Events.LEVEL_SWITCHED,e.handleHlsLevelSwitched),a.on(i().Events.ERROR,e.handleHlsError),e.hls=a})),j(S(e),"destroyHls",(function(){var t=S(e).hls;t&&t.destroy()})),j(S(e),"addSegment",(function(t){var n=e.playbackPerformance.segments,r=n&&n[n.length-1];if(e.hls&&n.length&&r&&r.uri!==t.url){e.updateWatchDurationForCurrentSegment();var o=e.videoPlayerRef&&e.videoPlayerRef.video,i=e.hls&&e.hls.levels||{},a="number"==typeof t.level?i[t.level]:{},l=e.fragStartupTime[t.url],c=-1;l&&l.startLoadTime&&l.endLoadTime&&(c=l.endLoadTime-l.startLoadTime);var s={indicatedKbps:a.bitrate/f.bR,duration:t.duration,level:t.level,lastStartPlayTime:e.getCurrentVideoTime(),numServerAddressChange:-1,observedKbps:e.hls&&e.hls.bandwidthEstimate/f.bR||-1,playbackStartDate:Date.now(),serverAddress:"",sn:t.sn,sourceWidth:a.width,sourceHeight:a.height,startupTimeMs:c,switchBitrateKbps:e.lastLevelSwitchKbps||-1,uri:t.url,viewportWidth:o&&o.clientWidth||-1,viewportHeight:o&&o.clientHeight||-1,watchedDurationMs:0};n.push(s)}})),j(S(e),"initializeSegments",(function(t){var n=e.props.contextLogData,r=(void 0===n?{}:n).is_closeup_video,o=void 0!==r&&r,i=e.playbackPerformance.segments;if(!i.length)if(e.hls&&e.videoPlayerRef&&e.videoPlayerRef.video&&t){if(!i.length&&"number"==typeof t.level){var a=e.videoPlayerRef&&e.videoPlayerRef.video,l=e.hls.levels,c="number"==typeof t.level?l[t.level]:{},s=e.fragStartupTime[t.url],u=-1;s&&s.startLoadTime&&s.endLoadTime&&(u=s.endLoadTime-s.startLoadTime),e.lastLevelSwitchKbps=e.hls.bandwidthEstimate/f.bR;var d={indicatedKbps:c.bitrate/f.bR,duration:t.duration,level:t.level,lastStartPlayTime:null,numServerAddressChange:-1,observedKbps:e.hls.bandwidthEstimate/f.bR||-1,playbackStartDate:null,serverAddress:"",sn:t.sn,sourceWidth:c.width,sourceHeight:c.height,startupTimeMs:u,switchBitrateKbps:e.lastLevelSwitchKbps||-1,uri:t.url,viewportWidth:a.clientWidth,viewportHeight:a.clientHeight,watchedDurationMs:0};i.push(d)}}else(0,p.tE)("initializeSegmentsFailed",!0,o)})),j(S(e),"getCurrentVideoTime",(function(){return e.videoPlayerRef&&e.videoPlayerRef.video?e.videoPlayerRef.video.currentTime*f.gJ:null})),j(S(e),"handleCanPlayVideo",(function(t){var n=e.props,r=n.contextLogData,o=void 0===r?{}:r,i=n.onReady,a=n.playing,l=o.is_closeup_video,c=void 0!==l&&l,s=e.state.canPlayVideo;(0,p.tE)("handleCanPlayVideo",!0,c,{firstCanPlayEvent:!s,playing:a}),e.playbackPerformance.hasFatalError=!1,s||(e.playbackPerformance.canPlayTime=new Date),e.setState({canPlayVideo:!0}),i&&i(t)})),j(S(e),"handleEnded",(function(t){var n=e.props,r=n.loop,o=n.onEnded,i=e.playbackPerformance.segments,a=i&&i[i.length-1];r&&e.videoPlayerRef&&e.videoPlayerRef.video?(e.updateWatchDurationForCurrentSegment(),a&&(a.lastStartPlayTime=0),e.fragStartupTime={}):r||e.logPlaybackPerformance(f.$f,{initiator:"videoEnded",loop:r}),e.setState({playbackState:f.Cy.ENDED}),o&&o(t)})),j(S(e),"handleHlsError",(function(t,n){var r,o=e.props.contextLogData,a=(void 0===o?{}:o).is_closeup_video,l=void 0!==a&&a;if(e.playbackPerformance.detailedErrors+="".concat(e.playbackPerformance.detailedErrors.length>0?", ":"").concat(n.details),n.fatal){var c,s,u,d;e.playbackPerformance.hasFatalError=!0,e.playbackPerformance.errorName=n.type,e.playbackPerformance.errorReason=n.details,e.playbackPerformance.errorCode=n.response&&n.response.code?n.response.code:0;var _={errorName:n.type,errorReason:n.details,errorRetryCount:e.errorRetryCount,errorMessage:(null===(c=n.err)||void 0===c||null===(s=c.message)||void 0===s?void 0:s.slice(0,50))||"unknown",errorResponse:(null===(u=n.response)||void 0===u||null===(d=u.text)||void 0===d?void 0:d.slice(0,50))||"unknown",playbackState:e.state.playbackState};if((0,p.tE)("fatalError",!0,l,_),e.errorRetryCount>0)switch(e.errorRetryCount-=1,n.type){case i().ErrorTypes.NETWORK_ERROR:if(n.details===i().ErrorDetails.MANIFEST_LOAD_ERROR||n.details===i().ErrorDetails.MANIFEST_LOAD_TIMEOUT||n.details===i().ErrorDetails.MANIFEST_LOAD_PARSING_ERROR){var h,y=e.props,m=y.src,v=y.quicExpGroup,g=I(m,v);null===(h=e.hls)||void 0===h||h.loadSource(g)}else{var b;null===(b=e.hls)||void 0===b||b.startLoad()}break;case i().ErrorTypes.MEDIA_ERROR:null===(r=e.hls)||void 0===r||r.recoverMediaError()}}e.updateWatchDurationForCurrentSegment(),e.setState({playbackState:f.Cy.FAILED})})),j(S(e),"handleHlsFragBuffered",(function(t,n){e.firstFragBuffered||(e.initializeSegments(n.frag),e.firstFragBuffered=!0)})),j(S(e),"handleHlsFragChanged",(function(t,n){e.addSegment(n.frag)})),j(S(e),"handleHlsFragLoading",(function(t,n){var r,o=null===(r=n.frag)||void 0===r?void 0:r.url;o&&!e.fragStartupTime[o]&&(e.fragStartupTime[o]={startLoadTime:new Date})})),j(S(e),"handleHlsFragLoaded",(function(t,n){var r;n.frag&&n.frag.loaded&&(e.playbackPerformance.downloadedKiloBytes+=n.frag.loaded/f.Fm);var o=null===(r=n.frag)||void 0===r?void 0:r.url;o&&e.fragStartupTime[o]&&e.fragStartupTime[o].startLoadTime&&(e.fragStartupTime[o].endLoadTime=new Date)})),j(S(e),"handleHlsLevelSwitched",(function(){e.hls&&e.hls.bandwidthEstimate&&(e.lastLevelSwitchKbps=e.hls.bandwidthEstimate/f.bR)})),j(S(e),"handleLoadedMetadata",(function(){e.setState({playbackState:f.Cy.LOADED_METADATA})})),j(S(e),"handleLoadStart",(function(){e.playbackPerformance.loadStartTime=new Date,e.setState({playbackState:f.Cy.LOAD_START})})),j(S(e),"handleLoadedData",(function(){e.setState({playbackState:f.Cy.LOADED_DATA})})),j(S(e),"handlePlaying",(function(){e.playbackPerformance.hasFatalError=!1,e.setPlaybackStartTime(),e.setLastSegmentStartPlayTime(),e.setLastSegmentPlaybackStartDate(),e.updateStallDuration(),e.updatePauseDuration(),e.setState({playbackState:f.Cy.PLAYING}),e.props.clearSeekTime()})),j(S(e),"handleUserPause",(function(t){var n=e.props.onControlsPause;e.lastPauseTime=new Date,n&&n(t)})),j(S(e),"handleVideoPause",(function(){e.state.playbackState!==f.Cy.STALLING&&e.state.playbackState!==f.Cy.SEEKING&&(e.updateWatchDurationForCurrentSegment(),e.lastPauseTime||e.updateStallDuration()),e.setState({playbackState:f.Cy.PAUSED})})),j(S(e),"handleSeeking",(function(){e.playbackPerformance.numberOfSeeks+=1;var t=e.playbackPerformance.segments,n=t&&t[t.length-1];n&&(n.lastStartPlayTime=null),e.state.playbackState!==f.Cy.ENDED&&e.setState({playbackState:f.Cy.SEEKING})})),j(S(e),"handleStalled",(function(){null===e.lastStallTime&&e.state.playbackState!==f.Cy.ENDED&&(e.lastStallTime=new Date,e.playbackPerformance.numberOfStalls+=1),e.setState({playbackState:f.Cy.STALLING})})),j(S(e),"handleTimeUpdate",(function(t){var n=e.props.onTimeChange;n&&n(t),e.state.playbackState===f.Cy.PLAYING&&(e.updateWatchDurationForCurrentSegment(),e.setLastSegmentStartPlayTime())})),j(S(e),"resetPlaybackMetrics",(function(){e.hasPlaybackStarted=!1,e.hasVideoSessionStarted=!1,e.hasVideoSessionEnded=!0,e.lastLevelSwitchKbps=null,e.lastStallTime=null,e.lastPauseTime=null,e.videoSessionId="",e.videoVisibleTime=null,e.logSessionStartOnNextPlay=!1;var t=A(A({},e.playbackPerformance.segments[e.playbackPerformance.segments.length-1]),{},{lastStartPlayTime:null,playbackStartDate:null,switchBitrateKbps:-1,watchedDurationMs:0});e.playbackPerformance.detailedErrors="",e.playbackPerformance.downloadedKiloBytes=0,e.playbackPerformance.errorCode=0,e.playbackPerformance.errorName="",e.playbackPerformance.errorReason="",e.playbackPerformance.hasFatalError=!1,e.playbackPerformance.numberOfStalls=0,e.playbackPerformance.numberOfSeeks=0,e.playbackPerformance.playbackStartTimestamp=null,e.playbackPerformance.totalStallDurationMs=0,e.playbackPerformance.segments=[t]})),j(S(e),"setLastSegmentStartPlayTime",(function(){var t=e.playbackPerformance.segments,n=t&&t[t.length-1];n&&null===n.lastStartPlayTime&&(n.lastStartPlayTime=e.getCurrentVideoTime())})),j(S(e),"setLastSegmentPlaybackStartDate",(function(){var t=e.playbackPerformance.segments,n=t&&t[t.length-1];n&&null===n.playbackStartDate&&(n.playbackStartDate=Date.now())})),j(S(e),"setPlaybackStartTime",(function(){e.hasPlaybackStarted||(e.playbackPerformance.playbackStartTimestamp=Date.now(),e.hasPlaybackStarted=!0)})),j(S(e),"setVideoPlayerRef",(function(t){var n=e.props.setVideoRef;if(t&&(n&&n(t),e.videoPlayerRef=t,e.videoPlayerRef.video)){var r=e.videoPlayerRef.video;r.addEventListener("loadedmetadata",e.handleLoadedMetadata),r.addEventListener("loadeddata",e.handleLoadedData),r.addEventListener("pause",e.handleVideoPause),r.readyState>=3&&(e.setState({canPlayVideo:!0}),e.playbackPerformance.canPlayTime=new Date)}})),j(S(e),"updateStallDuration",(function(){null!==e.lastStallTime&&(e.playbackPerformance.totalStallDurationMs+=new Date-e.lastStallTime,e.lastStallTime=null)})),j(S(e),"updatePauseDuration",(function(){if(null!==e.lastPauseTime){var t=e.lastPauseTime;e.playbackPerformance.totalPauseDurationMs+=new Date-t,e.lastPauseTime=null}})),j(S(e),"updateWatchDurationForCurrentSegment",(function(){var t=e.playbackPerformance.segments,n=t&&t[t.length-1],r=n?n.lastStartPlayTime:null,o=e.getCurrentVideoTime();if(n&&null!==r&&"number"==typeof o&&"number"==typeof r){var i=o-r;i>0&&(n.watchedDurationMs+=i,n.lastStartPlayTime=null)}})),j(S(e),"logPlaybackPerformance",(function(t,n){var r=e.props,o=r.contextLogData,i=void 0===o?{}:o,a=r.userId,l=r.isAutoPlay,c=r.logContextEvent,s=i.is_closeup_video,u=void 0!==s&&s,d=e.playbackPerformance,_=d.canPlayTime,h=d.detailedErrors,v=d.downloadedKiloBytes,g=d.errorCode,b=d.errorName,P=d.errorReason,w=d.hasFatalError,S=d.playbackStartTimestamp,x=d.totalPauseDurationMs,O=d.totalStallDurationMs,j=d.segments,E=d.srcString,T=d.loadStartTime,I=d.numberOfStalls,C=d.numberOfSeeks,D=e.videoPlayerRef&&e.videoPlayerRef.video,R=t===f.DR,k=R&&!e.hasVideoSessionStarted,z=!R&&!e.hasVideoSessionEnded&&e.hasVideoSessionStarted;if(e.hls&&D&&(k||z)){var N,L=-1;_&&T&&(L=_>T?_-T:0);var M=-1;_&&e.videoVisibleTime&&(M=_>e.videoVisibleTime?_-e.videoVisibleTime:0),R&&(e.videoSessionId=(0,f.Y7)(a),e.playerId=e.playerId||(0,f.EB)());var B={autoplaying:l,averageVideoKbps:-1,detailedErrors:h,downloadedKiloBytes:v,isCellular:!1,errorCode:g,errorName:b,errorReason:P,fatalError:w,nativeVideoDurationMs:D.duration*f.gJ||-1,numberOfStalls:I,numberOfSeeks:C,overallPausedDurationMs:x,overallBufferDurationMs:O,overallWatchedDurationMs:-1,rebufferRate:-1,playbackSessionId:e.videoSessionId,playbackStartTimestamp:S||-1,segments:[],sessionMark:t,screenPixelScale:null!==(N=window)&&void 0!==N&&N.devicePixelRatio?window.devicePixelRatio:-1,startupPlayerWidth:D.clientWidth,startupPlayerHeight:D.clientHeight,startupTimeMs:L,startupLatencyMs:M,startupVariantKbps:-1,startupVariantWatchedDurationMs:-1,startupVariantWidth:D.videoWidth,startupVariantHeight:D.videoHeight,videoUrl:E};if(!R&&j.length){var Z=e.hls.levels,F=j[0];e.updateWatchDurationForCurrentSegment(),e.updateStallDuration();var U=j.reduce((function(e,t){return t&&"number"==typeof t.level&&Z&&Z.length>0?e+(Z[t.level]||{}).bitrate*(t.watchedDurationMs||0)/f.gJ:e}),0),G=j.reduce((function(e,t){return e+(t.watchedDurationMs||0)}),0),V=null,H=0,W=0;do{H+=j[W].watchedDurationMs,V=V||j[W].level,W+=1}while(W<j.length&&j[W].level===V);B.startupVariantKbps=F.indicatedKbps,B.startupVariantWatchedDurationMs=H,B.startupVariantWidth=F.sourceWidth,B.startupVariantHeight=F.sourceHeight,B.startupPlayerWidth=F.viewportWidth,B.startupPlayerHeight=F.viewportHeight,B.overallWatchedDurationMs=G,G>0?(B.averageVideoKbps=U/(G/f.gJ),B.rebufferRate=e.playbackPerformance.totalStallDurationMs/G):0===G&&(B.averageVideoKbps=-1,B.rebufferRate=-1,B.errorName="invalid_watch_duration"),B.segments=j}else B.errorName="invalid_watch_duration";(0,p.ZP)(B,!0,u,A({playbackState:e.state.playbackState},n));var K=i.clientTrackingParams,Y=i.component,X=i.durationNs,q=i.element,J=i.objectId,$=i.pairId,Q=i.viewData,ee=i.view,te=i.viewParameter;c({aux_data:A(A({},m(i,y)),{},{is_closeup_video:u,playback_session_id:e.videoSessionId}),clientTrackingParams:K,component:Y,duration_ns:X,element:q,event_data:{videoPerformanceData:B},event_type:3606,object_id_str:J,pair_id:$,view_data:Q,view_parameter:te,view_type:ee}),R?(e.hasVideoSessionStarted=!0,e.hasVideoSessionEnded=!1):e.resetPlaybackMetrics(),(0,p.tE)(R?"sessionStart":"sessionEnd",!0,u,A({playbackState:e.state.playbackState},n))}})),e}return t=a,(n=[{key:"componentDidMount",value:function(){var e=this.props,t=e.contextLogData,n=void 0===t?{}:t,r=e.playing,o=n.is_closeup_video,i=void 0!==o&&o;this.playbackPerformance.videoCreatedTime=new Date,this.initializeHls(),(0,p.tE)("videoMounted",!0,i),r&&(this.videoVisibleTime=new Date,this.logPlaybackPerformance(f.DR,{initiator:"mount"}))}},{key:"componentDidUpdate",value:function(e){var t,n,r=this.props,o=r.loop,i=r.playing,a=r.src,l=r.visible,c=r.appInFocus,s=r.seekTime;s&&s!==e.seekTime&&this.setState({videoStartTime:s}),t=e.src,n=a,(E(t)!==E(n)||(Array.isArray(n)?t.length!==n.length||n.some((function(e,n){return!Array.isArray(t)||e.type!==t[n].type||e.src!==t[n].src})):n!==t))&&this.initializeHls(),e.appInFocus&&!c&&(this.logPlaybackPerformance(f.$f,{initiator:"update",loop:o}),this.logSessionStartOnNextPlay=!0),e.visible&&!1===l&&(this.logSessionStartOnNextPlay=!1,this.updatePauseDuration(),this.logPlaybackPerformance(f.$f,{initiator:"update",loop:o})),!1===e.visible&&!0===l&&(this.videoVisibleTime=this.videoVisibleTime||new Date,i?(this.setPlaybackStartTime(),this.setLastSegmentStartPlayTime(),this.setLastSegmentPlaybackStartDate(),this.logPlaybackPerformance(f.DR,{initiator:"update"})):this.logSessionStartOnNextPlay=!0),i&&c&&this.logSessionStartOnNextPlay&&(this.setPlaybackStartTime(),this.setLastSegmentStartPlayTime(),this.setLastSegmentPlaybackStartDate(),this.logPlaybackPerformance(f.DR,{initiator:"update"}),this.logSessionStartOnNextPlay=!1)}},{key:"componentWillUnmount",value:function(){var e=this.props.loop;this.updatePauseDuration(),this.logPlaybackPerformance(f.$f,{initiator:"unmount",loop:e}),this.destroyHls()}},{key:"render",value:function(){var e=this.props,t=e.accessibilityMaximizeLabel,n=e.accessibilityMinimizeLabel,r=e.accessibilityMuteLabel,o=e.accessibilityPauseLabel,i=e.accessibilityPlayLabel,a=e.accessibilityProgressBarLabel,l=e.accessibilityUnmuteLabel,c=e.aspectRatio,s=e.backgroundColor,u=e.captions,p=e.controls,f=e.loop,_=e.loopOverride,y=e.onDurationChange,m=e.onFullscreenChange,v=e.onLoadedChange,g=e.onControlsPlay,b=e.onPlayheadDown,P=e.onPlayheadUp,w=e.onSeek,S=e.onVolumeChange,x=e.playbackRate,O=e.playing,A=e.playsInline,j=e.poster,E=e.preload,T=e.quicExpGroup,C=e.src,D=e.volume,R=this.state,k=R.canPlayVideo,z=R.isManifestParsed,N=R.videoStartTime,L=I(C,T);return(0,h.jsx)(d.nk,{accessibilityMaximizeLabel:t,accessibilityMinimizeLabel:n,accessibilityMuteLabel:r,accessibilityPauseLabel:o,accessibilityPlayLabel:i,accessibilityProgressBarLabel:a,accessibilityUnmuteLabel:l,aspectRatio:c,backgroundColor:s,captions:u,controls:p,loop:void 0===_?f:_,onDurationChange:y,onEnded:this.handleEnded,onFullscreenChange:m,onLoadStart:this.handleLoadStart,onLoadedChange:v,onControlsPause:this.handleUserPause,onControlsPlay:g,onPlaying:this.handlePlaying,onPlayheadDown:b,onPlayheadUp:P,onReady:this.handleCanPlayVideo,onSeek:w,onSeeking:this.handleSeeking,onStalled:this.handleStalled,onTimeChange:this.handleTimeUpdate,onVolumeChange:S,onWaiting:this.handleStalled,playbackRate:x,onPlay:function(){},onPlayError:function(){},playing:z&&k&&O,playsInline:A,poster:j,preload:E,ref:this.setVideoPlayerRef,src:L,startTime:N,volume:D})}}])&&g(t.prototype,n),r&&g(t,r),a}(r.PureComponent);t.Z=(0,r.memo)((function(e){var t=(0,u.B)(),n=t.country,r=t.isAuthenticated,o=t.isBot,i=t.isSocialBot,d=t.unauthId,f=t.userAgent,y=(0,a.Z)(),m=(0,l.Z)(),v=f.browserName,g=f.browserVersion,b=f.isMobile,P=e.contextLogData,w=void 0===P?{}:P,S=w.is_closeup_video,x=void 0!==S&&S,O=w.view,j=w.viewParameter,E=(0,s.F)().checkExperiment,T=(0,_.Hx)().seekTime,I=(0,_.RC)().clearSeekTime,D=null;r&&(D=E("web_video_quic").group.length?E("web_video_quic").group:null);var R=(0,c.I)().appUI,k=E("web_video_fail_to_start_fix").anyEnabled?R.appInFocus:e.appInFocus,z={browserName:v,browserVersion:g,country:n,isAuthenticated:r,isBot:o,is_closeup_video:x,isMobile:b,isSocialBot:i,view:O,viewParameter:j};return(0,p.r$)(z),(0,h.jsx)(C,A(A({},e),{},{userId:m.id||d,appInFocus:k,quicExpGroup:D,logContextEvent:y,seekTime:T,clearSeekTime:I}))}))},964082:function(e,t,n){"use strict";function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e,t){var n=t.organicVideosAutoplaying,r=t.promotedVideosAutoplaying,i=o(o({},n),r);for(var a in i){var l=i[a].paused;if(a!==e&&!l)return!1}return!0}n.d(t,{Z:function(){return a}})},36971:function(e,t,n){"use strict";function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e,t){var n=t.organicVideosAutoplaying,r=t.promotedVideosAutoplaying,i=o(o({},n),r);return i[e]&&i[e].currentTime}n.d(t,{Z:function(){return a}})},428258:function(e,t,n){"use strict";n.d(t,{Z:function(){return i},t:function(){return o}});var r=function(){var e,t,n,r,o="undefined"!=typeof window?null===(e=window.navigator)||void 0===e||null===(t=e.connection)||void 0===t?void 0:t.effectiveType:void 0,i=null===(r=window)||void 0===r||!r.devicePixelRatio||window.devicePixelRatio<=1?"1x":"2x";return o?"4g"===o?n="40-80":(i="1x",n="0-1"):n="unknown",{downloadSpeedGroup:n,screenDimension:i}};function o(e){var t=r(),n=t.downloadSpeedGroup,o=t.screenDimension,i={"1x":e.V_EXP3,"2x":e.V_EXP5},a={"1x":e.V_EXP7,"2x":e.V_EXP7};return{unknown:i,"0-1":i,"1-5":{"1x":e.V_EXP4,"2x":e.V_EXP5},"5-10":{"1x":e.V_EXP5,"2x":e.V_EXP5},"10-20":{"1x":e.V_EXP6,"2x":e.V_EXP6},"20-40":a,"40-80":a,"80_or_above":a}[n][o]||e.V_720P||void 0}function i(e){var t=e.video_list,n=void 0===t?{}:t,r=o(n),i=n.V_HLSV3_MOBILE||void 0;return r?{hlsv3:i,mp4:r}:{hlsv3:i}}},868565:function(e,t,n){"use strict";function r(e){var t=e.videos&&e.videos.video_list;return t&&Object.keys(t).length?t.V_HLSV3_MOBILE||t.V_HLSV4||t.V_720P:null}n.d(t,{Z:function(){return r}})},463045:function(e,t,n){"use strict";function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e,t){var n=t.organicVideosAutoplaying,r=t.promotedVideosAutoplaying,i=o(o({},n),r);return!!i[e]&&!i[e].paused}n.d(t,{Z:function(){return a}})},969315:function(e,t,n){"use strict";n.d(t,{ZP:function(){return m},r$:function(){return h},tE:function(){return y}});var r=n(311560),o=n(172071),i=n(179888);function a(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,i=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(c){l=!0,o=c}finally{try{a||null==n.return||n.return()}finally{if(l)throw o}}return i}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return l(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return l(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){u(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var d=["isCellular","videoUrl","sessionMark"],p={},f="",_=function(e){return e<0?"negative":0===e?"zero":e<200?"xs":e<400?"s":e<600?"m":e<800?"l":e<1e3?"xl":e<1200?"xxl":"over1200"},h=function(e){var t=e.browserName,n=e.browserVersion,o=e.country,i=e.isAuthenticated,a=e.isBot,l=e.isMobile,c=e.isSocialBot,s=e.view,u=void 0===s?"unknown":s,d=e.viewParameter,_=void 0===d?"unknown":d;f=(c?"socialBot":a&&"bot")||"nonbot";var h=(0,r.Z)(o);p={browserName:t,browserVersion:(null==n?void 0:n.split(".")[0])||"0",isAuthenticated:i,isMobile:l,region:h,view:u,viewParameter:_}};function y(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=n?"closeup":"nonCloseup",a=t?"hls":"nonHls",l=s(s({},r),p),c="web.video.".concat(a,".").concat(f,".").concat(i,".").concat(e);o.Z.increment(c,1,l)}function m(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},l=n?"closeup":"nonCloseup",c=t?"hls":"nonHls",u=e.sessionMark===i.DR?"sessionStart":"sessionEnd",h=s(s({},r),p);if(Object.entries(e).forEach((function(t){var n=a(t,2),r=n[0],i=n[1],p="web.video.".concat(c,".").concat(f,".").concat(l,".").concat(u,".").concat(r),y=parseInt(i,10),m="number"==typeof y?y:-1;if(!d.includes(r))if(r.includes("fatalError")&&!0===i){var v=e.errorCode,g=e.errorName,b=e.errorReason;o.Z.increment(p,1,s({errorCode:v,errorName:g,errorReason:b},h))}else if(r.includes("Width")||r.includes("Height")){var P=_(m);o.Z.increment(p,1,s({dimensionBucket:P},h))}else if("numberOfStalls"===r){var w=i;m>1e3?w="over1000":m>10?w="over10":m<0&&(w="negative"),o.Z.increment(p,1,s({numberOfStalls:w},h))}else"screenPixelScale"===r?o.Z.increment(p,1,s({screenPixelScale:i||-1},h)):m>=0?(0===m&&o.Z.increment("".concat(p,".zero"),1,h),o.Z.timing(p,m,1),o.Z.timing("".concat(p,"_with_tags"),m,1,h)):m<0&&o.Z.increment("".concat(p,".negative"),1,h)})),e.sessionMark!==i.DR){var y=e.rebufferRate,m=e.screenPixelScale,v=e.startupLatencyMs,g=e.startupVariantWidth,b=e.startupPlayerWidth,P="web.video.".concat(c,".").concat(f,".").concat(l,".").concat(u);if("number"==typeof g&&"number"==typeof b&&"number"==typeof m){var w=1.5*g>m*b;o.Z.increment("".concat(P,".upscaled.").concat(w?"good":"bad"),1,h)}"number"==typeof v&&o.Z.increment("".concat(P,".startupLatency.").concat(v<500?"good":"bad"),1,h),"number"==typeof y&&o.Z.increment("".concat(P,".rebufferRate.").concat(y<.01?"good":"bad"),1,h)}}},179888:function(e,t,n){"use strict";n.d(t,{$f:function(){return i},Cy:function(){return s},DR:function(){return o},EB:function(){return p},Fm:function(){return c},Y7:function(){return d},bR:function(){return l},gJ:function(){return a},lG:function(){return u}});var r=n(353356),o=1,i=2,a=1e3,l=1e3,c=1e3,s=Object.freeze({DEFAULT:0,LOAD_START:1,LOADED_METADATA:2,LOADED_DATA:3,PLAYING:4,PAUSED:5,SEEKING:6,STALLING:7,FAILED:8,ENDED:9}),u=Object.freeze({MEDIA_ERR_ABORTED:1,MEDIA_ERR_NETWORK:2,MEDIA_ERR_DECODE:3,MEDIA_ERR_SRC_NOT_SUPPORTED:4});function d(e){return e+"-"+(0,r.Z)()}function p(){return(0,r.Z)()}},121630:function(e,t,n){"use strict";n.d(t,{Z:function(){return i},e:function(){return o}});var r=n(81226),o=function(e){if("undefined"==typeof window)return"";var t=0,n=document.querySelector('[data-test-id="header"]');null!==n&&(t+=n.getBoundingClientRect().height);switch(e){case"AuthHomefeed":var r=document.querySelector('[data-root-margin="more-ideas-tabs"]');if(null!==r)t+=r.getBoundingClientRect().height;break;case"SearchItem":var o=document.querySelector('[data-root-margin="search-improvements-bar"]');if(null!==o)t+=o.getBoundingClientRect().height;var i=document.querySelector('[data-test-id="search-tab-bar"],[data-root-margin="search-one-bar"]');if(null!==i)t+=i.getBoundingClientRect().height}return"".concat(-1*t,"px 0px 0px 0px")},i=function(e){var t,n,o,i,a;return(0,r.Z)((null===(t=e.videos)||void 0===t?void 0:t.duration)||(null===(n=e.videos)||void 0===n||null===(o=n.video_list)||void 0===o||null===(i=o.V_HLSV4)||void 0===i?void 0:i.duration)||(null===(a=e.story_pin_data)||void 0===a?void 0:a.total_video_duration)||0)}},905723:function(e,t){"use strict";t.Z={V_HLSV4:"V_HLSV4",V_720P:"V_720P"}},229428:function(e,t,n){"use strict";function r(e){return e.filter((function(e){return e.is_stela}))}function o(e){return e.filter((function(e){return!!e.label}))}n.d(t,{k:function(){return r},m:function(){return o}})},487392:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var r=n(784590),o=n(19121),i=n(780280);function a(){var e,t=(0,i.B)(),n=(0,o.Z)(),a=t.advertiser,l=(0,r.Z)(null!=a&&a.merchant_id?null:{name:"UserResource",options:{user_id:a?a.owner_user_id:n.isAuth&&n.id,field_set_key:"merchant_summary"}});return{merchantId:(null==a?void 0:a.merchant_id)||(null===(e=l.data)||void 0===e?void 0:e.ppa_merchant_id)||"",advertiserId:(null==a?void 0:a.id)||"",ownerUserId:(null==a?void 0:a.owner_user_id)||(n.isAuth?n.id:""),advertiser:a}}},183051:function(e,t,n){"use strict";n.d(t,{C:function(){return o},O:function(){return r}});var r=function(){return["".concat(2),"".concat(100),"".concat(101),"".concat(102),"".concat(103),"".concat(129),"".concat(138),"".concat(139),"".concat(140),"".concat(143),"".concat(150),"".concat(152),"".concat(155),"".concat(9051)]},o=function(){return["".concat(108),"".concat(114),"".concat(115),"".concat(116),"".concat(117),"".concat(118),"".concat(119),"".concat(121),"".concat(123),"".concat(124),"".concat(125),"".concat(126),"".concat(127),"".concat(129),"".concat(130),"".concat(131),"".concat(132),"".concat(133),"".concat(134),"".concat(136),"".concat(137),"".concat(144),"".concat(145),"".concat(146),"".concat(147),"".concat(148),"".concat(149),"".concat(153),"".concat(154),"".concat(155),"".concat(157),"".concat(158),"".concat(159),"".concat(160),"".concat(161),"".concat(162),"".concat(163),"".concat(164),"".concat(165),"".concat(166),"".concat(167),"".concat(168),"".concat(169),"".concat(170),"".concat(171),"".concat(174),"".concat(175),"".concat(176),"".concat(179),"".concat(180),"".concat(181),"".concat(182),"".concat(183),"".concat(184),"".concat(185),"".concat(186),"".concat(188),"".concat(189),"".concat(4029),"".concat(4043),"".concat(4055)]}},488177:function(e,t,n){"use strict";var r;function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,{$E:function(){return i},AG:function(){return P},EF:function(){return _},F4:function(){return m},HB:function(){return S},Hm:function(){return f},N7:function(){return l},OF:function(){return d},Qv:function(){return p},RS:function(){return v},TL:function(){return h},Wd:function(){return u},Wg:function(){return x},gp:function(){return b},n6:function(){return y},pg:function(){return a},qN:function(){return c},ul:function(){return g},v6:function(){return w},yn:function(){return s}});var i=[1,3],a=(o(r={},1,5),o(r,2,8),o(r,3,24),o(r,4,24),r),l={inStockCount:"inStockProductCount",outOfStockCount:"outOfStockProductCount",preorderCount:"preorderProductCount"},c={PROCESSING:"PROCESSING",FAILED:"FAILED",COMPLETED:"COMPLETED",COMPLETED_EARLY:"COMPLETED_EARLY",UNDER_REVIEW:"UNDER_REVIEW",DISAPPROVED:"DISAPPROVED",QUEUED_FOR_PROCESSING:"QUEUED_FOR_PROCESSING",UNDER_APPEAL:"UNDER_APPEAL"},s={PENDING:"PENDING",ACTIVE:"ACTIVE",PAUSED:"PAUSED",DISABLED:"DISABLED",INACTIVE:"INACTIVE"},u={APPROVED:"approved",PENDING:"pending",DECLINED:"declined",REVOKED:"revoked",STAGING:"staging",PROD_TEST:"prod_test",APPEAL_PENDING:"appeal_pending"},d={MARKETPLACE:"MARKETPLACE",MARKETPLACE_SECOND_HAND:"MARKETPLACE_SECOND_HAND",MARKETPLACE_AFFILIATES:"MARKETPLACE_AFFILIATES",MARKETPLACE_WHOLESALE:"MARKETPLACE_WHOLESALE",PROHIBITED_PRODUCTS:"PROHIBITED_PRODUCTS",SERVICES:"SERVICES",DOMAIN_AGE:"DOMAIN_AGE",DOMAIN_MISMATCH:"DOMAIN_MISMATCH",SHIPPING:"SHIPPING",RETURNS:"RETURNS",BROKEN_URL:"BROKEN_URL",BROKEN_404:"BROKEN_404",BROKEN_REGISTRATION:"BROKEN_REGISTRATION",INCOMPLETE:"INCOMPLETE",AUTHENTICITY:"AUTHENTICITY",IN_STOCK:"IN_STOCK",BANNER_ADS:"BANNER_ADS",LOW_QUALITY_IMAGERY:"LOW_QUALITY_IMAGERY",SALE:"SALE",OUT_OF_DATE:"OUT_OF_DATE",PRODUCTS:"PRODUCTS",POP_UP:"POP_UP",MINIMUM_WEBSITE_QUALITY:"MINIMUM_WEBSITE_QUALITY",BROKEN_SOCIAL_MEDIA:"BROKEN_SOCIAL_MEDIA",INACTIVE_FEED:"INACTIVE_FEED",TERMINATED:"TERMINATED",LABELING:"LABELING",TS:"TS",ADS_QUALITY:"ADS_QUALITY",PINNER:"PINNER",SHOPPING:"SHOPPING",MERCHANT:"MERCHANT",RESALE_MARKETPLACE:"RESALE_MARKETPLACE",AFFILIATE_MARKETPLACE:"AFFILIATE_MARKETPLACE",WEBSITE_REQUIREMENTS:"WEBSITE_REQUIREMENTS",PRODUCT_REQUIREMENTS:"PRODUCT_REQUIREMENTS",BRAND_REPUTATION:"BRAND_REPUTATION"},p=[d.TS,d.ADS_QUALITY,d.PINNER,d.SHOPPING,d.MERCHANT],f={ACTIVE:"ACTIVE",INACTIVE:"INACTIVE",NEW_NOT_YET_ACTIVE:"NEW_NOT_YET_ACTIVE",TESTING:"TESTING"},_=[c.PROCESSING,c.QUEUED_FOR_PROCESSING],h={DISMISS_INGESTION_STATUS_POPUP:1,DATA_SOURCE_PENDING_GOT_IT_DISMISSED:2,DATA_SOURCE_VERIFIED_GOT_IT_DISMISSED:3,PRODUCT_GROUPS_CREATE_GOT_IT_DISMISSED:4,PRODUCT_GROUPS_PROMOTE_GOT_IT_DISMISSED:5,ADD_DATA_SOURCE_GOT_IT_DISMISSED:6,FEED_PROFILES_NEW_BADGE_SEEN:7,PRODUCT_GROUPS_SELECTED_METRICS:8,SHOPIFY_COLLECTION_MODAL_GOT_IT_DISMISSED:9,SHOPIFY_COLLECTION_CALLOUT_GOT_IT_DISMISSED:10,PRODUCT_GROUPS_NEW_BADGE_SEEN:11,PRODUCT_GROUPS_METRICS_SELECTED_NUM_OF_DAYS:12,I2PC_MODAL_GOT_IT_DISMISSED:13},y={PENDING:0,SUCCESS:1,UNKNOWN_FAILURE:2,BAD_URL_OR_CREDENTIAL:3,UNSUPPORTED_PROTOCOL:4,BAD_FEED_FORMAT:5,EMPTY_FEED_PROFILE:6,HTML:7},m="USD",v="None",g={IN_STOCK:"IN STOCK",OUT_OF_STOCK:"OUT OF STOCK",PREORDER:"PREORDER"},b=function(e){return[{value:"AED",label:e._('AED - United Arab Emirates Dirham', '[catalogs] name of AED currency', '[catalogs] name of AED currency')},{value:"AFN",label:e._('AFN - Afghanistan Afghani', '[catalogs] name of AFN currency', '[catalogs] name of AFN currency')},{value:"ALL",label:e._('ALL - Albania Lek', '[catalogs] name of ALL currency', '[catalogs] name of ALL currency')},{value:"AMD",label:e._('AMD - Armenia Dram', '[catalogs] name of AMD currency', '[catalogs] name of AMD currency')},{value:"ANG",label:e._('ANG - Netherlands Antilles Guilder', '[catalogs] name of ANG currency', '[catalogs] name of ANG currency')},{value:"AOA",label:e._('AOA - Angola Kwanza', '[catalogs] name of AOA currency', '[catalogs] name of AOA currency')},{value:"ARS",label:e._('ARS - Argentina Peso', '[catalogs] name of ARS currency', '[catalogs] name of ARS currency')},{value:"AUD",label:e._('AUD - Australia Dollar', '[catalogs] name of AUD currency', '[catalogs] name of AUD currency')},{value:"AWG",label:e._('AWG - Aruba Guilder', '[catalogs] name of AWG currency', '[catalogs] name of AWG currency')},{value:"AZN",label:e._('AZN - Azerbaijan New Manat', '[catalogs] name of AZN currency', '[catalogs] name of AZN currency')},{value:"BAM",label:e._('BAM - Bosnia and Herzegovina Convertible Marka', '[catalogs] name of BAM currency', '[catalogs] name of BAM currency')},{value:"BBD",label:e._('BBD - Barbados Dollar', '[catalogs] name of BBD currency', '[catalogs] name of BBD currency')},{value:"BDT",label:e._('BDT - Bangladesh Taka', '[catalogs] name of BDT currency', '[catalogs] name of BDT currency')},{value:"BGN",label:e._('BGN - Bulgaria Lev', '[catalogs] name of BGN currency', '[catalogs] name of BGN currency')},{value:"BHD",label:e._('BHD - Bahrain Dinar', '[catalogs] name of BHD currency', '[catalogs] name of BHD currency')},{value:"BIF",label:e._('BIF - Burundi Franc', '[catalogs] name of BIF currency', '[catalogs] name of BIF currency')},{value:"BMD",label:e._('BMD - Bermuda Dollar', '[catalogs] name of BMD currency', '[catalogs] name of BMD currency')},{value:"BND",label:e._('BND - Brunei Darussalam Dollar', '[catalogs] name of BND currency', '[catalogs] name of BND currency')},{value:"BOB",label:e._('BOB - Bolivia Boliviano', '[catalogs] name of BOB currency', '[catalogs] name of BOB currency')},{value:"BRL",label:e._('BRL - Brazil Real', '[catalogs] name of BRL currency', '[catalogs] name of BRL currency')},{value:"BSD",label:e._('BSD - Bahamas Dollar', '[catalogs] name of BSD currency', '[catalogs] name of BSD currency')},{value:"BTN",label:e._('BTN - Bhutan Ngultrum', '[catalogs] name of BTN currency', '[catalogs] name of BTN currency')},{value:"BWP",label:e._('BWP - Botswana Pula', '[catalogs] name of BWP currency', '[catalogs] name of BWP currency')},{value:"BYR",label:e._('BYR - Belarus Ruble', '[catalogs] name of BYR currency', '[catalogs] name of BYR currency')},{value:"BZD",label:e._('BZD - Belize Dollar', '[catalogs] name of BZD currency', '[catalogs] name of BZD currency')},{value:"CAD",label:e._('CAD - Canada Dollar', '[catalogs] name of CAD currency', '[catalogs] name of CAD currency')},{value:"CDF",label:e._('CDF - Congo/Kinshasa Franc', '[catalogs] name of CDF currency', '[catalogs] name of CDF currency')},{value:"CHF",label:e._('CHF - Switzerland Franc', '[catalogs] name of CHF currency', '[catalogs] name of CHF currency')},{value:"CLP",label:e._('CLP - Chile Peso', '[catalogs] name of CLP currency', '[catalogs] name of CLP currency')},{value:"CNY",label:e._('CNY - China Yuan Renminbi', '[catalogs] name of CNY currency', '[catalogs] name of CNY currency')},{value:"COP",label:e._('COP - Colombia Peso', '[catalogs] name of COP currency', '[catalogs] name of COP currency')},{value:"CRC",label:e._('CRC - Costa Rica Colon', '[catalogs] name of CRC currency', '[catalogs] name of CRC currency')},{value:"CUC",label:e._('CUC - Cuba Convertible Peso', '[catalogs] name of CUC currency', '[catalogs] name of CUC currency')},{value:"CUP",label:e._('CUP - Cuba Peso', '[catalogs] name of CUP currency', '[catalogs] name of CUP currency')},{value:"CVE",label:e._('CVE - Cape Verde Escudo', '[catalogs] name of CVE currency', '[catalogs] name of CVE currency')},{value:"CZK",label:e._('CZK - Czech Republic Koruna', '[catalogs] name of CZK currency', '[catalogs] name of CZK currency')},{value:"DJF",label:e._('DJF - Djibouti Franc', '[catalogs] name of DJF currency', '[catalogs] name of DJF currency')},{value:"DKK",label:e._('DKK - Denmark Krone', '[catalogs] name of DKK currency', '[catalogs] name of DKK currency')},{value:"DOP",label:e._('DOP - Dominican Republic Peso', '[catalogs] name of DOP currency', '[catalogs] name of DOP currency')},{value:"DZD",label:e._('DZD - Algeria Dinar', '[catalogs] name of DZD currency', '[catalogs] name of DZD currency')},{value:"EGP",label:e._('EGP - Egypt Pound', '[catalogs] name of EGP currency', '[catalogs] name of EGP currency')},{value:"ERN",label:e._('ERN - Eritrea Nakfa', '[catalogs] name of ERN currency', '[catalogs] name of ERN currency')},{value:"ETB",label:e._('ETB - Ethiopia Birr', '[catalogs] name of ETB currency', '[catalogs] name of ETB currency')},{value:"EUR",label:e._('EUR - Euro Member Countries', '[catalogs] name of EUR currency', '[catalogs] name of EUR currency')},{value:"FJD",label:e._('FJD - Fiji Dollar', '[catalogs] name of FJD currency', '[catalogs] name of FJD currency')},{value:"FKP",label:e._('FKP - Falkland Islands (Malvinas) Pound', '[catalogs] name of FKP currency', '[catalogs] name of FKP currency')},{value:"GBP",label:e._('GBP - United Kingdom Pound', '[catalogs] name of GBP currency', '[catalogs] name of GBP currency')},{value:"GEL",label:e._('GEL - Georgia Lari', '[catalogs] name of GEL currency', '[catalogs] name of GEL currency')},{value:"GGP",label:e._('GGP - Guernsey Pound', '[catalogs] name of GGP currency', '[catalogs] name of GGP currency')},{value:"GHS",label:e._('GHS - Ghana Cedi', '[catalogs] name of GHS currency', '[catalogs] name of GHS currency')},{value:"GIP",label:e._('GIP - Gibraltar Pound', '[catalogs] name of GIP currency', '[catalogs] name of GIP currency')},{value:"GMD",label:e._('GMD - Gambia Dalasi', '[catalogs] name of GMD currency', '[catalogs] name of GMD currency')},{value:"GNF",label:e._('GNF - Guinea Franc', '[catalogs] name of GNF currency', '[catalogs] name of GNF currency')},{value:"GTQ",label:e._('GTQ - Guatemala Quetzal', '[catalogs] name of GTQ currency', '[catalogs] name of GTQ currency')},{value:"GYD",label:e._('GYD - Guyana Dollar', '[catalogs] name of GYD currency', '[catalogs] name of GYD currency')},{value:"HKD",label:e._('HKD - Hong Kong Dollar', '[catalogs] name of HKD currency', '[catalogs] name of HKD currency')},{value:"HNL",label:e._('HNL - Honduras Lempira', '[catalogs] name of HNL currency', '[catalogs] name of HNL currency')},{value:"HRK",label:e._('HRK - Croatia Kuna', '[catalogs] name of HRK currency', '[catalogs] name of HRK currency')},{value:"HTG",label:e._('HTG - Haiti Gourde', '[catalogs] name of HTG currency', '[catalogs] name of HTG currency')},{value:"HUF",label:e._('HUF - Hungary Forint', '[catalogs] name of HUF currency', '[catalogs] name of HUF currency')},{value:"IDR",label:e._('IDR - Indonesia Rupiah', '[catalogs] name of IDR currency', '[catalogs] name of IDR currency')},{value:"ILS",label:e._('ILS - Israel Shekel', '[catalogs] name of ILS currency', '[catalogs] name of ILS currency')},{value:"IMP",label:e._('IMP - Isle of Man Pound', '[catalogs] name of IMP currency', '[catalogs] name of IMP currency')},{value:"INR",label:e._('INR - India Rupee', '[catalogs] name of INR currency', '[catalogs] name of INR currency')},{value:"IQD",label:e._('IQD - Iraq Dinar', '[catalogs] name of IQD currency', '[catalogs] name of IQD currency')},{value:"IRR",label:e._('IRR - Iran Rial', '[catalogs] name of IRR currency', '[catalogs] name of IRR currency')},{value:"ISK",label:e._('ISK - Iceland Krona', '[catalogs] name of ISK currency', '[catalogs] name of ISK currency')},{value:"JEP",label:e._('JEP - Jersey Pound', '[catalogs] name of JEP currency', '[catalogs] name of JEP currency')},{value:"JMD",label:e._('JMD - Jamaica Dollar', '[catalogs] name of JMD currency', '[catalogs] name of JMD currency')},{value:"JOD",label:e._('JOD - Jordan Dinar', '[catalogs] name of JOD currency', '[catalogs] name of JOD currency')},{value:"JPY",label:e._('JPY - Japan Yen', '[catalogs] name of JPY currency', '[catalogs] name of JPY currency')},{value:"KES",label:e._('KES - Kenya Shilling', '[catalogs] name of KES currency', '[catalogs] name of KES currency')},{value:"KGS",label:e._('KGS - Kyrgyzstan Som', '[catalogs] name of KGS currency', '[catalogs] name of KGS currency')},{value:"KHR",label:e._('KHR - Cambodia Riel', '[catalogs] name of KHR currency', '[catalogs] name of KHR currency')},{value:"KMF",label:e._('KMF - Comoros Franc', '[catalogs] name of KMF currency', '[catalogs] name of KMF currency')},{value:"KPW",label:e._('KPW - Korea (North) Won', '[catalogs] name of KPW currency', '[catalogs] name of KPW currency')},{value:"KRW",label:e._('KRW - Korea (South) Won', '[catalogs] name of KRW currency', '[catalogs] name of KRW currency')},{value:"KWD",label:e._('KWD - Kuwait Dinar', '[catalogs] name of KWD currency', '[catalogs] name of KWD currency')},{value:"KYD",label:e._('KYD - Cayman Islands Dollar', '[catalogs] name of KYD currency', '[catalogs] name of KYD currency')},{value:"KZT",label:e._('KZT - Kazakhstan Tenge', '[catalogs] name of KZT currency', '[catalogs] name of KZT currency')},{value:"LAK",label:e._('LAK - Laos Kip', '[catalogs] name of LAK currency', '[catalogs] name of LAK currency')},{value:"LBP",label:e._('LBP - Lebanon Pound', '[catalogs] name of LBP currency', '[catalogs] name of LBP currency')},{value:"LKR",label:e._('LKR - Sri Lanka Rupee', '[catalogs] name of LKR currency', '[catalogs] name of LKR currency')},{value:"LRD",label:e._('LRD - Liberia Dollar', '[catalogs] name of LRD currency', '[catalogs] name of LRD currency')},{value:"LSL",label:e._('LSL - Lesotho Loti', '[catalogs] name of LSL currency', '[catalogs] name of LSL currency')},{value:"LYD",label:e._('LYD - Libya Dinar', '[catalogs] name of LYD currency', '[catalogs] name of LYD currency')},{value:"MAD",label:e._('MAD - Morocco Dirham', '[catalogs] name of MAD currency', '[catalogs] name of MAD currency')},{value:"MDL",label:e._('MDL - Moldova Leu', '[catalogs] name of MDL currency', '[catalogs] name of MDL currency')},{value:"MGA",label:e._('MGA - Madagascar Ariary', '[catalogs] name of MGA currency', '[catalogs] name of MGA currency')},{value:"MKD",label:e._('MKD - Macedonia Denar', '[catalogs] name of MKD currency', '[catalogs] name of MKD currency')},{value:"MMK",label:e._('MMK - Myanmar (Burma) Kyat', '[catalogs] name of MMK currency', '[catalogs] name of MMK currency')},{value:"MNT",label:e._('MNT - Mongolia Tughrik', '[catalogs] name of MNT currency', '[catalogs] name of MNT currency')},{value:"MOP",label:e._('MOP - Macau Pataca', '[catalogs] name of MOP currency', '[catalogs] name of MOP currency')},{value:"MRO",label:e._('MRO - Mauritania Ouguiya', '[catalogs] name of MRO currency', '[catalogs] name of MRO currency')},{value:"MUR",label:e._('MUR - Mauritius Rupee', '[catalogs] name of MUR currency', '[catalogs] name of MUR currency')},{value:"MVR",label:e._('MVR - Maldives (Maldive Islands) Rufiyaa', '[catalogs] name of MVR currency', '[catalogs] name of MVR currency')},{value:"MWK",label:e._('MWK - Malawi Kwacha', '[catalogs] name of MWK currency', '[catalogs] name of MWK currency')},{value:"MXN",label:e._('MXN - Mexico Peso', '[catalogs] name of MXN currency', '[catalogs] name of MXN currency')},{value:"MYR",label:e._('MYR - Malaysia Ringgit', '[catalogs] name of MYR currency', '[catalogs] name of MYR currency')},{value:"MZN",label:e._('MZN - Mozambique Metical', '[catalogs] name of MZN currency', '[catalogs] name of MZN currency')},{value:"NAD",label:e._('NAD - Namibia Dollar', '[catalogs] name of NAD currency', '[catalogs] name of NAD currency')},{value:"NGN",label:e._('NGN - Nigeria Naira', '[catalogs] name of NGN currency', '[catalogs] name of NGN currency')},{value:"NIO",label:e._('NIO - Nicaragua Cordoba', '[catalogs] name of NIO currency', '[catalogs] name of NIO currency')},{value:"NOK",label:e._('NOK - Norway Krone', '[catalogs] name of NOK currency', '[catalogs] name of NOK currency')},{value:"NPR",label:e._('NPR - Nepal Rupee', '[catalogs] name of NPR currency', '[catalogs] name of NPR currency')},{value:"NZD",label:e._('NZD - New Zealand Dollar', '[catalogs] name of NZD currency', '[catalogs] name of NZD currency')},{value:"OMR",label:e._('OMR - Oman Rial', '[catalogs] name of OMR currency', '[catalogs] name of OMR currency')},{value:"PAB",label:e._('PAB - Panama Balboa', '[catalogs] name of PAB currency', '[catalogs] name of PAB currency')},{value:"PEN",label:e._('PEN - Peru Nuevo Sol', '[catalogs] name of PEN currency', '[catalogs] name of PEN currency')},{value:"PGK",label:e._('PGK - Papua New Guinea Kina', '[catalogs] name of PGK currency', '[catalogs] name of PGK currency')},{value:"PHP",label:e._('PHP - Philippines Peso', '[catalogs] name of PHP currency', '[catalogs] name of PHP currency')},{value:"PKR",label:e._('PKR - Pakistan Rupee', '[catalogs] name of PKR currency', '[catalogs] name of PKR currency')},{value:"PLN",label:e._('PLN - Poland Zloty', '[catalogs] name of PLN currency', '[catalogs] name of PLN currency')},{value:"PYG",label:e._('PYG - Paraguay Guarani', '[catalogs] name of PYG currency', '[catalogs] name of PYG currency')},{value:"QAR",label:e._('QAR - Qatar Riyal', '[catalogs] name of QAR currency', '[catalogs] name of QAR currency')},{value:"RON",label:e._('RON - Romania New Leu', '[catalogs] name of RON currency', '[catalogs] name of RON currency')},{value:"RSD",label:e._('RSD - Serbia Dinar', '[catalogs] name of RSD currency', '[catalogs] name of RSD currency')},{value:"RUB",label:e._('RUB - Russia Ruble', '[catalogs] name of RUB currency', '[catalogs] name of RUB currency')},{value:"RWF",label:e._('RWF - Rwanda Franc', '[catalogs] name of RWF currency', '[catalogs] name of RWF currency')},{value:"SAR",label:e._('SAR - Saudi Arabia Riyal', '[catalogs] name of SAR currency', '[catalogs] name of SAR currency')},{value:"SBD",label:e._('SBD - Solomon Islands Dollar', '[catalogs] name of SBD currency', '[catalogs] name of SBD currency')},{value:"SCR",label:e._('SCR - Seychelles Rupee', '[catalogs] name of SCR currency', '[catalogs] name of SCR currency')},{value:"SDG",label:e._('SDG - Sudan Pound', '[catalogs] name of SDG currency', '[catalogs] name of SDG currency')},{value:"SEK",label:e._('SEK - Sweden Krona', '[catalogs] name of SEK currency', '[catalogs] name of SEK currency')},{value:"SGD",label:e._('SGD - Singapore Dollar', '[catalogs] name of SGD currency', '[catalogs] name of SGD currency')},{value:"SHP",label:e._('SHP - Saint Helena Pound', '[catalogs] name of SHP currency', '[catalogs] name of SHP currency')},{value:"SLL",label:e._('SLL - Sierra Leone Leone', '[catalogs] name of SLL currency', '[catalogs] name of SLL currency')},{value:"SOS",label:e._('SOS - Somalia Shilling', '[catalogs] name of SOS currency', '[catalogs] name of SOS currency')},{value:"SPL",label:e._('SPL - Seborga Luigino', '[catalogs] name of SPL currency', '[catalogs] name of SPL currency')},{value:"SRD",label:e._('SRD - Suriname Dollar', '[catalogs] name of SRD currency', '[catalogs] name of SRD currency')},{value:"STD",label:e._('STD - So Tom and Prncipe Dobra', '[catalogs] name of STD currency', '[catalogs] name of STD currency')},{value:"SVC",label:e._('SVC - El Salvador Colon', '[catalogs] name of SVC currency', '[catalogs] name of SVC currency')},{value:"SYP",label:e._('SYP - Syria Pound', '[catalogs] name of SYP currency', '[catalogs] name of SYP currency')},{value:"SZL",label:e._('SZL - Swaziland Lilangeni', '[catalogs] name of SZL currency', '[catalogs] name of SZL currency')},{value:"THB",label:e._('THB - Thailand Baht', '[catalogs] name of THB currency', '[catalogs] name of THB currency')},{value:"TJS",label:e._('TJS - Tajikistan Somoni', '[catalogs] name of TJS currency', '[catalogs] name of TJS currency')},{value:"TMT",label:e._('TMT - Turkmenistan Manat', '[catalogs] name of TMT currency', '[catalogs] name of TMT currency')},{value:"TND",label:e._('TND - Tunisia Dinar', '[catalogs] name of TND currency', '[catalogs] name of TND currency')},{value:"TOP",label:e._('TOP - Tonga Pa\'anga', '[catalogs] name of TOP currency', '[catalogs] name of TOP currency')},{value:"TRY",label:e._('TRY - Turkey Lira', '[catalogs] name of TRY currency', '[catalogs] name of TRY currency')},{value:"TTD",label:e._('TTD - Trinidad and Tobago Dollar', '[catalogs] name of TTD currency', '[catalogs] name of TTD currency')},{value:"TVD",label:e._('TVD - Tuvalu Dollar', '[catalogs] name of TVD currency', '[catalogs] name of TVD currency')},{value:"TWD",label:e._('TWD - Taiwan New Dollar', '[catalogs] name of TWD currency', '[catalogs] name of TWD currency')},{value:"TZS",label:e._('TZS - Tanzania Shilling', '[catalogs] name of TZS currency', '[catalogs] name of TZS currency')},{value:"UAH",label:e._('UAH - Ukraine Hryvnia', '[catalogs] name of UAH currency', '[catalogs] name of UAH currency')},{value:"UGX",label:e._('UGX - Uganda Shilling', '[catalogs] name of UGX currency', '[catalogs] name of UGX currency')},{value:"USD",label:e._('USD - United States Dollar', '[catalogs] name of USD currency', '[catalogs] name of USD currency')},{value:"UYU",label:e._('UYU - Uruguay Peso', '[catalogs] name of UYU currency', '[catalogs] name of UYU currency')},{value:"UZS",label:e._('UZS - Uzbekistan Som', '[catalogs] name of UZS currency', '[catalogs] name of UZS currency')},{value:"VEF",label:e._('VEF - Venezuela Bolivar', '[catalogs] name of VEF currency', '[catalogs] name of VEF currency')},{value:"VND",label:e._('VND - Viet Nam Dong', '[catalogs] name of VND currency', '[catalogs] name of VND currency')},{value:"VUV",label:e._('VUV - Vanuatu Vatu', '[catalogs] name of VUV currency', '[catalogs] name of VUV currency')},{value:"WST",label:e._('WST - Samoa Tala', '[catalogs] name of WST currency', '[catalogs] name of WST currency')},{value:"XAF",label:e._('XAF - Communaut Financire Africaine (BEAC) CFA Franc BEAC', '[catalogs] name of XAF currency', '[catalogs] name of XAF currency')},{value:"XCD",label:e._('XCD - East Caribbean Dollar', '[catalogs] name of XCD currency', '[catalogs] name of XCD currency')},{value:"XDR",label:e._('XDR - International Monetary Fund (IMF) Special Drawing Rights', '[catalogs] name of XDR currency', '[catalogs] name of XDR currency')},{value:"XOF",label:e._('XOF - Communaut Financire Africaine (BCEAO) Franc', '[catalogs] name of XOF currency', '[catalogs] name of XOF currency')},{value:"XPF",label:e._('XPF - Comptoirs Franais du Pacifique (CFP) Franc', '[catalogs] name of XPF currency', '[catalogs] name of XPF currency')},{value:"YER",label:e._('YER - Yemen Rial', '[catalogs] name of YER currency', '[catalogs] name of YER currency')},{value:"ZAR",label:e._('ZAR - South Africa Rand', '[catalogs] name of ZAR currency', '[catalogs] name of ZAR currency')},{value:"ZMW",label:e._('ZMW - Zambia Kwacha', '[catalogs] name of ZMW currency', '[catalogs] name of ZMW currency')},{value:"ZWD",label:e._('ZWD - Zimbabwe Dollar', '[catalogs] name of ZWD currency', '[catalogs] name of ZWD currency')}]},P=["Africa/Abidjan","Africa/Accra","Africa/Algiers","Africa/Bissau","Africa/Cairo","Africa/Casablanca","Africa/Ceuta","Africa/El_Aaiun","Africa/Johannesburg","Africa/Juba","Africa/Khartoum","Africa/Lagos","Africa/Maputo","Africa/Monrovia","Africa/Nairobi","Africa/Ndjamena","Africa/Sao_Tome","Africa/Tripoli","Africa/Tunis","Africa/Windhoek","America/Adak","America/Anchorage","America/Araguaina","America/Argentina/Buenos_Aires","America/Argentina/Catamarca","America/Argentina/Cordoba","America/Argentina/Jujuy","America/Argentina/La_Rioja","America/Argentina/Mendoza","America/Argentina/Rio_Gallegos","America/Argentina/Salta","America/Argentina/San_Juan","America/Argentina/San_Luis","America/Argentina/Tucuman","America/Argentina/Ushuaia","America/Asuncion","America/Atikokan","America/Bahia","America/Bahia_Banderas","America/Barbados","America/Belem","America/Belize","America/Blanc-Sablon","America/Boa_Vista","America/Bogota","America/Boise","America/Cambridge_Bay","America/Campo_Grande","America/Cancun","America/Caracas","America/Cayenne","America/Chicago","America/Chihuahua","America/Costa_Rica","America/Creston","America/Cuiaba","America/Curacao","America/Danmarkshavn","America/Dawson","America/Dawson_Creek","America/Denver","America/Detroit","America/Edmonton","America/Eirunepe","America/El_Salvador","America/Fort_Nelson","America/Fortaleza","America/Glace_Bay","America/Goose_Bay","America/Grand_Turk","America/Guatemala","America/Guayaquil","America/Guyana","America/Halifax","America/Havana","America/Hermosillo","America/Indiana/Indianapolis","America/Indiana/Knox","America/Indiana/Marengo","America/Indiana/Petersburg","America/Indiana/Tell_City","America/Indiana/Vevay","America/Indiana/Vincennes","America/Indiana/Winamac","America/Inuvik","America/Iqaluit","America/Jamaica","America/Juneau","America/Kentucky/Louisville","America/Kentucky/Monticello","America/La_Paz","America/Lima","America/Los_Angeles","America/Maceio","America/Managua","America/Manaus","America/Martinique","America/Matamoros","America/Mazatlan","America/Menominee","America/Merida","America/Metlakatla","America/Mexico_City","America/Miquelon","America/Moncton","America/Monterrey","America/Montevideo","America/Nassau","America/New_York","America/Nipigon","America/Nome","America/Noronha","America/North_Dakota/Beulah","America/North_Dakota/Center","America/North_Dakota/New_Salem","America/Nuuk","America/Ojinaga","America/Panama","America/Pangnirtung","America/Paramaribo","America/Phoenix","America/Port-au-Prince","America/Port_of_Spain","America/Porto_Velho","America/Puerto_Rico","America/Punta_Arenas","America/Rainy_River","America/Rankin_Inlet","America/Recife","America/Regina","America/Resolute","America/Rio_Branco","America/Santarem","America/Santiago","America/Santo_Domingo","America/Sao_Paulo","America/Scoresbysund","America/Sitka","America/St_Johns","America/Swift_Current","America/Tegucigalpa","America/Thule","America/Thunder_Bay","America/Tijuana","America/Toronto","America/Vancouver","America/Whitehorse","America/Winnipeg","America/Yakutat","America/Yellowknife","Antarctica/Casey","Antarctica/Davis","Antarctica/DumontDUrville","Antarctica/Macquarie","Antarctica/Mawson","Antarctica/Palmer","Antarctica/Rothera","Antarctica/Syowa","Antarctica/Troll","Antarctica/Vostok","Asia/Almaty","Asia/Amman","Asia/Anadyr","Asia/Aqtau","Asia/Aqtobe","Asia/Ashgabat","Asia/Atyrau","Asia/Baghdad","Asia/Baku","Asia/Bangkok","Asia/Barnaul","Asia/Beirut","Asia/Bishkek","Asia/Brunei","Asia/Chita","Asia/Choibalsan","Asia/Colombo","Asia/Damascus","Asia/Dhaka","Asia/Dili","Asia/Dubai","Asia/Dushanbe","Asia/Famagusta","Asia/Gaza","Asia/Hebron","Asia/Ho_Chi_Minh","Asia/Hong_Kong","Asia/Hovd","Asia/Irkutsk","Asia/Jakarta","Asia/Jayapura","Asia/Jerusalem","Asia/Kabul","Asia/Kamchatka","Asia/Karachi","Asia/Kathmandu","Asia/Khandyga","Asia/Kolkata","Asia/Krasnoyarsk","Asia/Kuala_Lumpur","Asia/Kuching","Asia/Macau","Asia/Magadan","Asia/Makassar","Asia/Manila","Asia/Nicosia","Asia/Novokuznetsk","Asia/Novosibirsk","Asia/Omsk","Asia/Oral","Asia/Pontianak","Asia/Pyongyang","Asia/Qatar","Asia/Qostanay","Asia/Qyzylorda","Asia/Riyadh","Asia/Sakhalin","Asia/Samarkand","Asia/Seoul","Asia/Shanghai","Asia/Singapore","Asia/Srednekolymsk","Asia/Taipei","Asia/Tashkent","Asia/Tbilisi","Asia/Tehran","Asia/Thimphu","Asia/Tokyo","Asia/Tomsk","Asia/Ulaanbaatar","Asia/Urumqi","Asia/Ust-Nera","Asia/Vladivostok","Asia/Yakutsk","Asia/Yangon","Asia/Yekaterinburg","Asia/Yerevan","Atlantic/Azores","Atlantic/Bermuda","Atlantic/Canary","Atlantic/Cape_Verde","Atlantic/Faroe","Atlantic/Madeira","Atlantic/Reykjavik","Atlantic/South_Georgia","Atlantic/Stanley","Australia/Adelaide","Australia/Brisbane","Australia/Broken_Hill","Australia/Currie","Australia/Darwin","Australia/Eucla","Australia/Hobart","Australia/Lindeman","Australia/Lord_Howe","Australia/Melbourne","Australia/Perth","Australia/Sydney","CET","CST6CDT","EET","EST","EST5EDT","Etc/GMT","Etc/GMT+1","Etc/GMT+10","Etc/GMT+11","Etc/GMT+12","Etc/GMT+2","Etc/GMT+3","Etc/GMT+4","Etc/GMT+5","Etc/GMT+6","Etc/GMT+7","Etc/GMT+8","Etc/GMT+9","Etc/GMT-1","Etc/GMT-10","Etc/GMT-11","Etc/GMT-12","Etc/GMT-13","Etc/GMT-14","Etc/GMT-2","Etc/GMT-3","Etc/GMT-4","Etc/GMT-5","Etc/GMT-6","Etc/GMT-7","Etc/GMT-8","Etc/GMT-9","Etc/UTC","Europe/Amsterdam","Europe/Andorra","Europe/Astrakhan","Europe/Athens","Europe/Belgrade","Europe/Berlin","Europe/Brussels","Europe/Bucharest","Europe/Budapest","Europe/Chisinau","Europe/Copenhagen","Europe/Dublin","Europe/Gibraltar","Europe/Helsinki","Europe/Istanbul","Europe/Kaliningrad","Europe/Kiev","Europe/Kirov","Europe/Lisbon","Europe/London","Europe/Luxembourg","Europe/Madrid","Europe/Malta","Europe/Minsk","Europe/Monaco","Europe/Moscow","Europe/Oslo","Europe/Paris","Europe/Prague","Europe/Riga","Europe/Rome","Europe/Samara","Europe/Saratov","Europe/Simferopol","Europe/Sofia","Europe/Stockholm","Europe/Tallinn","Europe/Tirane","Europe/Ulyanovsk","Europe/Uzhgorod","Europe/Vienna","Europe/Vilnius","Europe/Volgograd","Europe/Warsaw","Europe/Zaporozhye","Europe/Zurich","HST","Indian/Chagos","Indian/Christmas","Indian/Cocos","Indian/Kerguelen","Indian/Mahe","Indian/Maldives","Indian/Mauritius","Indian/Reunion","MET","MST","MST7MDT","PST8PDT","Pacific/Apia","Pacific/Auckland","Pacific/Bougainville","Pacific/Chatham","Pacific/Chuuk","Pacific/Easter","Pacific/Efate","Pacific/Enderbury","Pacific/Fakaofo","Pacific/Fiji","Pacific/Funafuti","Pacific/Galapagos","Pacific/Gambier","Pacific/Guadalcanal","Pacific/Guam","Pacific/Honolulu","Pacific/Kiritimati","Pacific/Kosrae","Pacific/Kwajalein","Pacific/Majuro","Pacific/Marquesas","Pacific/Nauru","Pacific/Niue","Pacific/Norfolk","Pacific/Noumea","Pacific/Pago_Pago","Pacific/Palau","Pacific/Pitcairn","Pacific/Pohnpei","Pacific/Port_Moresby","Pacific/Rarotonga","Pacific/Tahiti","Pacific/Tarawa","Pacific/Tongatapu","Pacific/Wake","Pacific/Wallis","WET"],w=[{label:"English (Canada)",value:"en-CA"},{label:"Franais (Canadien)",value:"fr-CA"}],S=20,x="-"},497020:function(e,t,n){"use strict";n.d(t,{Bc:function(){return O},Di:function(){return T},Dy:function(){return b},Hc:function(){return S},I5:function(){return D},Qv:function(){return _},Sx:function(){return k},Vn:function(){return E},Yy:function(){return v},bD:function(){return A},bQ:function(){return f},d9:function(){return I},do:function(){return z},f7:function(){return h},gP:function(){return C},h$:function(){return x},hW:function(){return m},p6:function(){return g},qH:function(){return w},s3:function(){return N},v6:function(){return P}});var r=n(66699),o=n(183051),i=(n(908390),n(451820)),a=n(800751),l=n(488177);function c(e){return function(e){if(Array.isArray(e))return s(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return s(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return s(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach((function(t){p(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function p(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var f=function(e){var t=e.feedProfile,n=e.workflows;if(n.length){var r,o=n[0].workflowStatus,i=l.EF.includes(o);return o===l.qN.DISAPPROVED?l.yn.DISABLED:(null==t?void 0:t.feedStatus)===l.Hm.INACTIVE?l.yn.PAUSED:o===l.qN.UNDER_REVIEW||o===l.qN.UNDER_APPEAL||i&&(null==t||null===(r=t.lastSuccessfulIngestion)||void 0===r?void 0:r.workflowStatus)!==l.qN.COMPLETED?l.yn.PENDING:null!=t&&t.lastSuccessfulIngestion?l.yn.ACTIVE:l.yn.INACTIVE}return null},_=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return 0===e&&(t===a.$o.PENDING||t===a.$o.APPEAL_PENDING)},h=function(e){var t;return p(t={},l.yn.PENDING,{color:"subtle",icon:"workflow-status-unstarted",text:e._('Pending', 'catalogs.dataSource.UnderReviewStatus', '[Catalogs] The data source is under review')}),p(t,l.yn.ACTIVE,{color:"success",icon:"workflow-status-in-progress",text:e._('Active', 'catalogs.dataSource.ActiveStatus', '[Catalogs] The feed has ingested successfully.')}),p(t,l.yn.PAUSED,{color:"subtle",icon:"workflow-status-halted",text:e._('Paused', 'catalogs.dataSource.PausedStatus', '[Catalogs] The daily feed ingestion processes are paused and will not refresh')}),p(t,l.yn.DISABLED,{color:"error",icon:"workflow-status-problem",text:e._('Disabled', 'catalogs.dataSource.DisabledStatus', '[Catalogs] The feed has been disapproved by our review team.')}),p(t,l.yn.INACTIVE,{color:"error",icon:"workflow-status-problem",text:e._('Inactive', 'catalogs.dataSource.InactiveStatus', '[Catalogs] The feed has not completed ingestion successfully and needs to be corrected')}),t},y={SHOPIFY:"Shopify",WOOCOMMERCE:"WooCommerce"},m=function(e,t,n){if(n&&n in y)return y[n];if(!t)return e._('-', 'catalogs.dataSource.noFileName', '[Catalogs] no data source file name');var r=t.split("/");if(1===r.length)return t;var o=r.pop();return o.length>15?"../"+o.slice(o.length-15):"../"+o},v=function(e,t,n,o,i){var a=(0,r.Z)(o.ngettext('{{ count }} error', '{{ count }} errors', t, ' - ', ' -- '),{count:i(e,t)}),l=(0,r.Z)(o.ngettext('{{ count }} alert', '{{ count }} alerts', n, ' - ', ' -- '),{count:i(e,n)});return"".concat(a," | ").concat(l)},g=function(e,t,n,r){return n.toDateString()===t.toDateString()?r._('Today', 'catalogs.dataSources.dateAttribute', 'Date represents today in local timezone'):(0,i.Z)(e,t,i.k.NUMERIC)},b=function(e,t){if(!e)return"-";var n=t[e]||e;return n.length>17?n.substring(0,14)+"...":n},P=function(e){return d(d({},e.validationStatsWarnings),e.ingestionStatsWarnings)},w=function(e){return d(d({},e.validationStatsErrors),e.ingestionStatsErrors)},S=function(e){return{warningStats:P(e),errorStats:w(e),downloadUrl:e.s3ValidationUrl,s3SourceUrl:e.s3SourceUrl,successCount:e.productCount,workflowStatus:e.workflowStatus,disapprovalReasons:e.disapprovalReasons||[]}},x=function(e,t){return Object.keys(e).length>0||Object.keys(t).length>0},O=function(e){return{id:e.id,url:e.url,format:e.format,defaultCurrency:e.defaultCurrency,defaultAvailability:"None"===e.defaultAvailability?null:e.defaultAvailability,credential:e.credential,feedStatus:e.feedStatus,feedPreferredScheduleTime:e.feedPreferredScheduleTime,feedPreferredScheduleTimezone:e.feedPreferredScheduleTimezone,locale:e.locale,country:e.country,feedProfileName:e.feedProfileName}};function A(e){return e.filter((function(e){var t=e.workflowStatus;return t===l.qN.COMPLETED||t===l.qN.COMPLETED_EARLY})).some((function(e){return Object.values(l.N7).some((function(t){return e[t]&&0!==e[t]}))}))}function j(e){var t="".concat(128),n="".concat(1008);return Object.keys(e).every((function(e){return[t,n].includes(e)}))}function E(e,t){return j(t)&&0===Object.keys(e).length||j(t)&&!function(e){return Object.keys(e).some((function(e){return(0,o.C)().includes(e)}))}(e)}function T(e){var t,n=e||{},r=n.feed_format,o=n.feed_default_currency,i=n.default_availability_type,a=n.id,l=n.location_config,c=n.feed_username,s=n.feed_has_password,u=n.feed_status,d=n.preferred_schedule,p=n.locale,f=n.country,_=n.display_name,h=n.last_successful_ingestion,y=n.all_products_pg_item_count,m=n.integration_platform_type,v=n.created_at,g=n.domain,b=n.eligible_for_on_demand_kickoff,P=n.priority_lane;return{id:a,url:l?l.full_feed_fetch_location:"",format:r,defaultCurrency:o,defaultAvailability:i,feedStatus:u,feedPreferredScheduleTime:d?d.time:void 0,feedPreferredScheduleTimezone:d?d.timezone:void 0,feedProfileName:_,integrationPlatformType:m,locale:p,country:f,credential:{username:c,hasPassword:s},lastSuccessfulIngestion:(t=h,t?{workflowStatus:t.workflow_status,workflowId:t.feed_fetch_workflow_id,productCount:t.product_count,inStockProductCount:t.in_stock_product_count,outOfStockProductCount:t.out_of_stock_product_count,preorderProductCount:t.preorder_product_count,originalProductCount:t.original_product_count,dateModified:t.created_at,originalUrl:t.original_url,s3SourceUrl:t.s3_source_url,s3ValidationUrl:t.s3_validation_url,validationStatsWarnings:t.validation_stats_warnings||{},validationStatsErrors:t.validation_stats_errors||{},ingestionStatsWarnings:t.ingestion_stats_warnings||{},ingestionStatsErrors:t.ingestion_stats_errors||{},ingestionStatsInfo:t.ingestion_stats_info||{},lastSuccessfulWorkflowId:t.last_successful_workflow_id}:null),allProductsPGItemCount:y,createdAt:v,domain:g,eligibleForOnDemandKickoff:b,priorityLane:P}}function I(e){return(e||[]).map((function(e){return T(e)}))}function C(e,t){return!!(e.id&&t.id?e.id===t.id:e.feedProfileName&&t.feedProfileName&&e.feedProfileName===t.feedProfileName)}function D(e,t){return e.find((function(e){return C(t,e)}))}var R=function(e,t){var n;return(n={},p(n,l.ul.IN_STOCK,t._('in stock', 'Catalogs.DataSource.feedProfileAvailabilyType.inStock', 'Feed profile in stock availability type')),p(n,l.ul.OUT_OF_STOCK,t._('out of stock', 'Catalogs.DataSource.feedProfileAvailabilyType.outOfStock', 'Feed profile out of stock availability type')),p(n,l.ul.PREORDER,t._('preorder', 'Catalogs.DataSource.feedProfileAvailabilyType.preorder', 'Feed profile preorder availability type')),n)[e]},k=function(e){return[{value:"UNAVAILABLE",label:e._('NONE', 'Catalogs.DataSource.feedProfileAvailabilyType.none', 'Feed profile no availability type')}].concat(c(Object.keys(l.ul).map((function(t){var n;return{value:t,label:(null!==(n=R(l.ul[t],e))&&void 0!==n?n:e._('Unknown Type', 'Catalogs.DataSource.feedProfileAvailabilyType.Unknown', 'Unknown availability type.')).toUpperCase()}}))))},z=function(e){var t,n=null!==(t=e.data)&&void 0!==t?t:{},r=n.product_pin_approval_status,o=void 0===r?"":r,i=n.product_pin_approval_status_reasons,a=n.format,l=n.id;return d(d({},e),{},{data:{product_pin_approval_status:o,product_pin_approval_status_reasons:i,format:a,id:l}})},N=function(){return["merchant.id","merchant.product_pin_feed_profile","merchant.product_pin_approval_status","merchant.product_pin_approval_status_reasons","merchant.display_name","merchant.has_active_product_groups"]}},306732:function(e,t,n){"use strict";var r,o,i,a,l,c,s,u;function d(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,{Be:function(){return h},CN:function(){return te},DD:function(){return C},EK:function(){return y},Eo:function(){return w},F$:function(){return ne},HK:function(){return ce},KO:function(){return B},MD:function(){return U},MU:function(){return G},PD:function(){return H},QE:function(){return R},R0:function(){return ie},Tj:function(){return O},V0:function(){return x},Vw:function(){return ee},WH:function(){return M},XT:function(){return E},Y3:function(){return v},aF:function(){return K},bS:function(){return S},cU:function(){return D},cm:function(){return X},d0:function(){return I},eu:function(){return P},g2:function(){return k},gd:function(){return z},gw:function(){return Q},h8:function(){return f},hL:function(){return N},hh:function(){return T},iu:function(){return ae},j1:function(){return W},k7:function(){return le},kc:function(){return b},kl:function(){return g},kq:function(){return Y},l5:function(){return A},pF:function(){return V},pM:function(){return Z},pV:function(){return j},ps:function(){return _},q9:function(){return m},qB:function(){return $},qf:function(){return pe},r2:function(){return re},rC:function(){return F},rD:function(){return de},ss:function(){return fe},t7:function(){return ue},ul:function(){return p},vr:function(){return se},wZ:function(){return J},yA:function(){return q},yq:function(){return L},zq:function(){return oe}});var p={IN_STOCK:"in stock",OUT_OF_STOCK:"out of stock",PREORDER:"preorder"},f={NEW:"new",USED:"used",REFURBISHED:"refurbished"},_={MALE:"male",FEMALE:"female",UNISEX:"unisex"},h=(d(r={},1,"All Products"),d(r,2,"Best Deals"),d(r,3,"Most Popular"),d(r,4,"Top Sellers"),d(r,5,"Back In Stock"),d(r,6,"New Arrivals"),r),y={FEATURED:"FEATURED",CAN_FEATURE:"CAN_FEATURE",FEATURING:"FEATURING",NO_FILTERS:"NO_FILTERS",TOO_FEW_PRODUCTS:"TOO_FEW_PRODUCTS",TOO_FEW_UNIQUE_PRODUCTS:"TOO_FEW_UNIQUE_PRODUCTS",TOO_MANY_PRODUCTS:"TOO_MANY_PRODUCTS",MAX_GROUPS_FEATURED:"MAX_GROUPS_FEATURED",UNFEATUREABLE:"UNFEATUREABLE"},m=[1,2,3,4,5,6,7,8],v=[1,2,3,4,5,6,8],g=[1,2,3,4,5,6,7,0,8],b=90,P=350,w=72,S=450,x=200,O=12,A=114,j={MERCHANT_CREATED:"MERCHANT_CREATED",ALL_PRODUCTS:"ALL_PRODUCTS"},E={FEATUREABLE:1,UNFEATUREABLE_NOT_ENOUGH_PINS:2,UNFEATUREABLE_NOT_ENOUGH_UNIQUE_PINS:3,UNFEATUREABLE_EXCEEDED_PINS_LIMIT:4},T={ITEM_ID:"Item ID",PRODUCT_CATEGORY:"Category",PRODUCT_TYPE:"Product type",BRANDS:"Brands",COST:"Cost",CUSTOM_LABEL:"Custom",CUSTOM_LABEL_0:"Custom label 0",CUSTOM_LABEL_1:"Custom label 1",CUSTOM_LABEL_2:"Custom label 2",CUSTOM_LABEL_3:"Custom label 3",CUSTOM_LABEL_4:"Custom label 4",AVAILABILITY:"Availability",PRICE:"Price",GENDER:"Gender",CONDITION:"Condition",CURRENCY:"Currency",ITEM_GROUP_ID:"Item group ID"},I=[T.PRODUCT_CATEGORY,T.PRODUCT_TYPE,T.BRANDS,T.CUSTOM_LABEL_0,T.CUSTOM_LABEL_1,T.CUSTOM_LABEL_2,T.CUSTOM_LABEL_3,T.CUSTOM_LABEL_4],C=(d(o={},T.ITEM_ID,["ITEM_ID"]),d(o,T.ITEM_GROUP_ID,["ITEM_GROUP_ID"]),d(o,T.PRODUCT_CATEGORY,["GOOGLE_PRODUCT_CATEGORY_0"]),d(o,T.PRODUCT_TYPE,["PRODUCT_TYPE_0"]),d(o,T.COST,["MIN_PRICE","MAX_PRICE"]),d(o,T.BRANDS,["BRAND"]),d(o,T.CUSTOM_LABEL,["CUSTOM_LABEL_0","CUSTOM_LABEL_1","CUSTOM_LABEL_2","CUSTOM_LABEL_3","CUSTOM_LABEL_4"]),d(o,T.AVAILABILITY,["AVAILABILITY"]),d(o,T.CONDITION,["CONDITION"]),d(o,T.GENDER,["GENDER"]),o),D=[T.CUSTOM_LABEL,T.COST,T.CURRENCY],R=(d(i={},1,p.IN_STOCK),d(i,2,p.OUT_OF_STOCK),d(i,3,p.PREORDER),i),k=(d(a={},1,f.NEW),d(a,2,f.USED),d(a,3,f.REFURBISHED),a),z=(d(l={},1,_.MALE),d(l,2,_.FEMALE),d(l,3,_.UNISEX),l),N=(d(c={},1,T.ITEM_ID),d(c,5,T.PRODUCT_CATEGORY),d(c,12,T.PRODUCT_TYPE),d(c,3,T.BRANDS),d(c,2,T.AVAILABILITY),d(c,17,T.CUSTOM_LABEL_0),d(c,18,T.CUSTOM_LABEL_1),d(c,19,T.CUSTOM_LABEL_2),d(c,20,T.CUSTOM_LABEL_3),d(c,21,T.CUSTOM_LABEL_4),d(c,4,T.CONDITION),d(c,25,T.GENDER),d(c,22,T.PRICE),d(c,23,T.PRICE),d(c,26,T.CURRENCY),d(c,24,T.ITEM_GROUP_ID),c),L=(d(s={},T.ITEM_ID,1),d(s,T.PRODUCT_CATEGORY,5),d(s,T.PRODUCT_TYPE,12),d(s,T.BRANDS,3),d(s,T.AVAILABILITY,2),d(s,T.CUSTOM_LABEL_0,17),d(s,T.CUSTOM_LABEL_1,18),d(s,T.CUSTOM_LABEL_2,19),d(s,T.CUSTOM_LABEL_3,20),d(s,T.CUSTOM_LABEL_4,21),d(s,T.CONDITION,4),d(s,T.GENDER,25),d(s,T.PRICE,23),d(s,T.CURRENCY,26),d(s,T.ITEM_GROUP_ID,24),s),M={GREATER_INCLUSION:"0",GREATER_EXCLUSION:"1",LESS_INCLUSION:"2",LESS_EXCLUSION:"3"},B=(d(u={},M.GREATER_EXCLUSION,{filterType:22,filterOperator:{negated:!1,inclusion:!1}}),d(u,M.GREATER_INCLUSION,{filterType:22,filterOperator:{negated:!1,inclusion:!0}}),d(u,M.LESS_EXCLUSION,{filterType:23,filterOperator:{negated:!1,inclusion:!1}}),d(u,M.LESS_INCLUSION,{filterType:23,filterOperator:{negated:!1,inclusion:!0}}),u),Z="newlyCreatedPGId",F="storefront",U={campaignId:"createNewCampaign",objectiveType:"CATALOG_SALES",absolutify:!0},G=163,V=350,H={LIST:"LIST",GRID:"GRID"},W="236x",K=50,Y="calc(100vh - ".concat(277,"px)"),X="calc(100vh - ".concat(175,"px)"),q=75,J=200,$=40,Q=127,ee=", ",te=/[\t\n,]+/,ne=/[^\t\n,]+/gi,re=/^[\s]+$/,oe=/[^\S\t\n]+/,ie={PRODUCT_GROUP_NAME:"PRODUCT_GROUP_NAME",PRODUCT_COUNT:"PRODUCT_COUNT",PRODUCT_AVAILABILITY:"PRODUCT_AVAILABILITY",LAST_UPDATE:"LAST_UPDATE",PRODUCT_GROUP_PROMOTED:"PRODUCT_GROUP_PROMOTED",PRODUCT_GROUP_FEATURED:"PRODUCT_GROUP_FEATURED",PRODUCT_GROUP_ACTIONS:"PRODUCT_GROUP_ACTIONS",PG_METRIC:"PG_METRIC",PRODUCT_GROUP_COUNTRY:"PRODUCT_GROUP_COUNTRY"},ae=500,le=20,ce=40,se=100,ue=4,de={DELETE_FAILED:"DELETE_FAILED",DELETE_SUCCESSFULLY:"DELETE_SUCCESSFULLY",REMOVE_SUCCESSFULLY:"REMOVE_SUCCESSFULLY"},pe={ALL:"ALL",MIXED:"MIXED",FEED_PROFILE:"FEED_PROFILE"},fe="US"},400264:function(e,t,n){"use strict";n.d(t,{G7:function(){return _},Lp:function(){return v},Ib:function(){return u}});var r=n(76911),o=n(898781),i=n(784590),a=n(306732);function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){s(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function u(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],l=(0,o.ZP)(),s=(0,i.Z)(t?null:{name:"ProductGroupsResource",options:e,enabledRouteRefresh:!0,noCache:n}),u=(0,r.useMemo)((function(){return s.data&&s.isLoaded?s.data.map((function(e){return e.name===a.Be[Number(e.type)]&&(1===Number(e.type)?e.name=l._('All Products', 'catalogs.productGroup.name.allProducts', 'Product group name All Products'):2===Number(e.type)?e.name=l._('Best Deals', 'catalogs.productGroup.name.bestDeals', 'Product group name Best Deals'):3===Number(e.type)?e.name=l._('Most Popular', 'catalogs.productGroup.name.mostPopular', 'Product group name Most Popular'):4===Number(e.type)?e.name=l._('Top Sellers', 'catalogs.productGroup.name.topSellers', 'Product group name Top Sellers'):5===Number(e.type)?e.name=l._('Back In Stock', 'catalogs.productGroup.name.inStock', 'Product group name In Stock'):6===Number(e.type)&&(e.name=l._('New Arrivals', 'catalogs.productGroup.name.newArrivals', 'Product group name New Arrivals'))),e})):[]}),[l,s.data,s.isLoaded]);return c(c({},s),{},{data:u})}function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function p(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(Object(n),!0).forEach((function(t){f(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function f(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=(0,i.Z)(t?null:{name:"FeaturedProductGroupsResource",enabledRouteRefresh:!0,options:e});return(0,r.useEffect)((function(){n.isAtEnd||n.fetchMore()}),[n.nextBookmark]),p(p({},n),{},{data:n&&n.data||[]})}function h(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function y(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?h(Object(n),!0).forEach((function(t){m(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):h(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function m(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function v(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=(0,i.Z)({name:"ProductGroupFilterResource",options:e,enabledRouteRefresh:!0});return y(y({},t),{},{data:t&&t.data||{}})}},869899:function(e,t,n){"use strict";n.r(t),n.d(t,{RoleBasedAccessControlProvider:function(){return C},useRoleBasedAccessControlContext:function(){return I}});var r=n(76911),o=n(389643),i=n(784590),a=n(19121),l=n(773285),c=n(425288),s=n(70061);function u(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return d(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return d(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,l=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){l=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(l)throw i}}}}function d(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function p(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function f(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?p(Object(n),!0).forEach((function(t){_(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function _(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function h(e){return(h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var y=function e(t){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&("object"!==h(t[r])||null===t[r]||Array.isArray(t[r])?n[(0,s.Z)(r)]=t[r]:n[(0,s.Z)(r)]=e(t[r]));return n},m=function(e,t){var n=[];for(var r in e)r!==t&&n.push(f({id:r},y(e[r])));var o,i=n.sort((function(e,t){var n=e.user.businessName,r=t.user.businessName;return n.localeCompare(r)})),a=new Map,l=u(i);try{for(l.s();!(o=l.n()).done;){var c=o.value;a.set(c.id,c)}}catch(s){l.e(s)}finally{l.f()}return a},v=n(622096);function g(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,i=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(c){l=!0,o=c}finally{try{a||null==n.return||n.return()}finally{if(l)throw o}}return i}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return b(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return b(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function b(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function P(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function w(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?P(Object(n),!0).forEach((function(t){S(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):P(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function S(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var x={profiles:new Map,headerVisible:!1,orbacVisibility:!1,activeProfile:void 0,disableProfileChanger:!1},O=function(e,t){switch(t.type){case"LOAD_PROFILES":return w(w({},e),{},{profiles:t.payload});case"SET_ACTIVE_PROFILE":return w(w({},e),{},{activeProfile:t.payload});case"TOGGLE_HEADER_VISIBILITY":return w(w({},e),{},{headerVisible:t.payload});case"TOGGLE_ORBAC_VISIBILITY":return w(w({},e),{},{orbacVisibility:t.payload});case"TOGGLE_DISABLE_PROFILE_CHANGER":return w(w({},e),{},{disableProfileChanger:t.payload});default:return e}},A=function(e){var t=g((0,r.useReducer)(O,x),2),n=t[0],o=t[1],i=function(e){var t=e.dispatch,n=e.isEnabled,o=e.state,i=o.orbacVisibility,a=o.disableProfileChanger,l=o.headerVisible;return{changeProfile:(0,r.useCallback)((function(e){n&&t({type:"SET_ACTIVE_PROFILE",payload:e})}),[n,t]),toggleORBACVisibility:(0,r.useCallback)((function(e){n&&t({type:"TOGGLE_ORBAC_VISIBILITY",payload:null!=e?e:!i})}),[n,t,i]),toggleDisableProfileChanger:(0,r.useCallback)((function(e){n&&t({type:"TOGGLE_DISABLE_PROFILE_CHANGER",payload:null!=e?e:!a})}),[n,t,a]),toggleHeaderVisibility:(0,r.useCallback)((function(e){n&&t({type:"TOGGLE_HEADER_VISIBILITY",payload:null!=e?e:!l})}),[n,t,l])}}({dispatch:o,isEnabled:e,state:n}),a=n.activeProfile,l=n.orbacVisibility;return(0,r.useEffect)((function(){var e=(0,v.qn)("orbacActiveProfile",!1);e&&o({type:"SET_ACTIVE_PROFILE",payload:e})}),[]),(0,r.useEffect)((function(){var e=(0,v.qn)("orbacVisibilty",!1);e&&o({type:"TOGGLE_ORBAC_VISIBILITY",payload:e})}),[]),(0,r.useEffect)((function(){(0,v.Nh)("orbacVisibility",l)}),[l]),(0,r.useEffect)((function(){(0,v.Nh)("orbacActiveProfile",a)}),[a]),{state:n,actions:i,receiveProfiles:(0,r.useCallback)((function(e,t){o({type:"LOAD_PROFILES",payload:m(e,t)})}),[o])}},j=n(515198),E=(0,c.Z)("RoleBasedAccessControlContext"),T=E.Provider,I=E.useMaybeHook,C=function(e){var t=e.children,n=(0,l.F)().checkExperiment,c=(0,a.Z)(),s=Boolean(c.isAuth&&c.isPartner&&n("web_m10n_business_access_orbac_www").anyEnabled),u=A(s),d=u.state,p=u.actions,f=u.receiveProfiles,_=d.activeProfile,h=d.headerVisible,y=d.profiles,m=void 0===y?[]:y,v=m?Array.from(m.values()):[],g=(0,o.Z)(v),b=!!(c.isAuth&&v.length>0)&&g,P=c.isAuth?c.id:"",w=c.isAuth?c.username:"",S=p.changeProfile,x=p.toggleORBACVisibility,O=p.toggleDisableProfileChanger,E=p.toggleHeaderVisibility;(0,r.useEffect)((function(){s&&("string"!=typeof g?_||S(P):S(g))}),[g,P,s,S,_]),(0,r.useEffect)((function(){s&&(b&&!h&&E(!0),!b&&h&&E(!1))}),[E,b,s,h,m]);var I,C=(0,i.Z)(s?{name:"ApiResource",options:{url:"/vx/business_access/profiles/",disable_auth_failure_redirect:!0}}:null).data,D=null==C?void 0:C.profiles;c&&c.isAuth&&d.activeProfile===c.id?I={id:c.id,permissions:["OWNER"],user:{username:w,businessName:c.fullName,imgUrl:c.imageSmallUrl}}:_&&d.profiles&&(I=d.profiles.get(_)),(0,r.useEffect)((function(){D&&f(D,P)}),[f,D,P]);var R=d.profiles?Array.from(d.profiles.values()):[];return(0,j.jsx)(T,{value:{profiles:R,headerVisible:d.headerVisible,activeProfile:I,changeProfile:S,toggleORBACVisibility:x,toggleDisableProfileChanger:O,toggleHeaderVisibility:E},children:t})}},717615:function(e,t,n){"use strict";var r=n(389643),o=n(773285),i=n(869899);t.Z=function(){var e=(0,o.F)().checkExperiment,t=(0,i.useRoleBasedAccessControlContext)(),n=(t||{}).activeProfile,a=e("web_m10n_business_access_orbac_www").anyEnabled,l=(0,r.Z)((null==t?void 0:t.profiles)||[]),c=e("useorbacroutematcher_in_useorbacactingas").anyEnabled;return a?c&&!l?Object.freeze({}):n&&(n.viewerMeetsMfaRequirement||(n.permissions||[]).includes("OWNER"))?n:Object.freeze({}):Object.freeze({})}},389643:function(e,t,n){"use strict";var r=n(506979),o=n(19121),i=n(773285),a=n(53987),l=n(609500);t.Z=function(e){var t,n=(0,l.useLocation)(),c=(0,o.Z)(),s=(0,i.F)().checkExperiment("web_m10n_business_access_orbac_www").anyEnabled,u=(0,l.useRouteMatch)("/:username"),d=null==u||null===(t=u.params)||void 0===t?void 0:t.username,p=(0,l.useRouteMatch)("/pin/:id"),f=(0,r.useSelector)((function(e){var t,n,r,o;return!(null==p||null===(t=p.params)||void 0===t||!t.id)&&(null==e||null===(n=e.pins)||void 0===n||null===(r=n[p.params.id])||void 0===r||null===(o=r.pinner)||void 0===o?void 0:o.id)}));if((0,a.ej)(n))return!1;if((0,a.RU)(n))return!0;if((0,a.mY)(n))return s;var _=e.concat(c.isAuth?{user:{username:c.username},id:c.id}:{}).find((function(e){var t=e||{},n=t.user,r=void 0===n?{}:n,o=t.id,i=r.username;return!!(i&&d||f&&o)&&(i===d||f===o)}));return!!_&&_.id}},231947:function(e,t,n){"use strict";n.d(t,{D3:function(){return s},DX:function(){return l},KY:function(){return u},Ms:function(){return r},N1:function(){return d},_P:function(){return a},lJ:function(){return i},nl:function(){return o},q6:function(){return c}});var r=function(e,t){var n=e&&e.isAuth?e.username:"";return e&&t&&t.user&&t.user.username&&(n=t.user.username),n},o=function(e,t){return Boolean(t&&t.user&&e&&e.isAuth&&t.id!==e.id?t.user.eligibleForStlTool:e&&e.isAuth&&e.eligibleForStlTool)},i=function(e,t){return e&&e.isAuth&&t&&t.id&&t.id!==e.id?t.id:""},a=function(e,t,n){var r;return n&&n.user&&t&&t.isAuth&&n.id!==t.id?n.user.merchantId:null===(r=e.advertiser)||void 0===r?void 0:r.merchant_id},l=function(e,t,n){return n&&n.user&&e.isAuth&&n.id!==e.id?n.user.scheduledPinCount||0:e.isAuth&&t&&t.scheduled_pin_count||0},c=function(e,t,n){var r=e&&e.isAuth&&n&&n.id&&n.id!==e.id&&n.id===t;return!!r},s=function(e,t,n){var r=c(e,t,n)||e&&e.isAuth&&t===e.id;return!!r},u=function(e,t,n){var r=t&&t.owner&&t.owner.id||"";return s(e,r,n)};function d(e,t,n){var r=t?t.id:"";return s(e,r,n)}},40706:function(e,t,n){"use strict";n.d(t,{Z:function(){return l}});var r=n(62700),o=n(908390),i=n(515198),a={chip:{marginRight:1,flex:"1 1 0"},chipInner:{paddingBottom:"100%"},chipContainer:{marginRight:-1}};function l(e){var t=e.pin,n=e.enableCloseupLink,l=(t.aggregated_pin_data||{}).pin_tags_chips,c=l&&l.length>=3?l.slice(0,3):[];return(0,i.jsx)(o.xu,{display:"flex",dangerouslySetInlineStyle:{__style:a.chipContainer},children:c.map((function(e){var l,c,s,u,d=(null===(l=e.images)||void 0===l?void 0:l["750x"])||{},p=(0,i.jsx)(o.Ee,{alt:"",fit:"cover",naturalHeight:null!==(c=d.height)&&void 0!==c?c:1,naturalWidth:null!==(s=d.width)&&void 0!==s?s:1,role:"presentation",src:null!==(u=d.url)&&void 0!==u?u:""});return(0,i.jsx)(o.xu,{dangerouslySetInlineStyle:{__style:a.chip},"data-test-id":"collageChip",children:(0,i.jsx)(o.xu,{dangerouslySetInlineStyle:{__style:a.chipInner},position:"relative",children:(0,i.jsx)(o.xu,{position:"absolute",top:!0,left:!0,right:!0,bottom:!0,children:(0,i.jsx)(o.zd,{height:"100%",wash:!0,width:"100%",children:n?(0,i.jsx)(r.Z,{sizing:"fullSize",collageChipId:e.id,pin:t,children:p}):p})})})},e.id)}))})}},199387:function(e,t,n){"use strict";n.d(t,{Z:function(){return d}});var r=n(76911),o=n(407043),i=n(576440),a=["aux_data","view_type","view_parameter","component","clientTrackingParams"];function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){s(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function u(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function d(e,t){var n=(0,o.v)().logContextEvent,l=(0,i.E)(),s=l.componentType,d=l.contextLogData,p=l.viewParameter,f=l.viewType,_=null!=t?t:{},h=_.aux_data,y=_.view_type,m=_.view_parameter,v=_.component,g=_.clientTrackingParams,b=u(_,a);return(0,r.useCallback)((function(){n(c(c({event_type:e,view_type:y||f,view_parameter:m||p,component:v||s,clientTrackingParams:g},b),{},{aux_data:c(c({},h),d)}))}),[n,h,g,b,m,y,v,s,d,e,p,f])}},225692:function(e,t,n){"use strict";n.d(t,{X:function(){return a},Z:function(){return l}});var r=n(76911);function o(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,i=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(c){l=!0,o=c}finally{try{a||null==n.return||n.return()}finally{if(l)throw o}}return i}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return i(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return i(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var a=120;function l(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:a,i=(0,r.useState)(e?"active":"inactive"),l=o(i,2),c=l[0],s=l[1];return(0,r.useEffect)((function(){if(!e){var r=setTimeout((function(){return s("inactive")}),n);return function(){clearTimeout(r)}}if(t){var o=setTimeout((function(){return s("active")}),t);return function(){clearTimeout(o)}}s("active")}),[e]),c}},350445:function(e,t,n){"use strict";n.d(t,{Z:function(){return s}});var r=n(898781),o=n(908390),i=n(515198),a={__path:"M12 18.5A6.508 6.508 0 0 1 5.5 12c0-1.706.689-3.307 1.835-4.5H6.5a1 1 0 1 1 0-2h4.185v4.474a1 1 0 0 1-2 0V8.972A4.505 4.505 0 0 0 7.5 12c0 2.481 2.019 4.5 4.5 4.5s4.5-2.019 4.5-4.5a4.49 4.49 0 0 0-3.112-4.283 1 1 0 1 1 .615-1.902A6.482 6.482 0 0 1 18.5 12c0 3.584-2.916 6.5-6.5 6.5M12 0C5.373 0 0 5.373 0 12s5.373 12 12 12 12-5.373 12-12S18.627 0 12 0"},l={__path:"M17.496 14.572a1 1 0 0 1-1 1h-.001a1.001 1.001 0 0 1-.999-1.001l.002-4.652-7.29 7.288a.995.995 0 0 1-.707.293.999.999 0 0 1-.707-1.707l7.293-7.29L9.428 8.5a1 1 0 0 1 .001-2h.001l8.071.005-.005 8.067zM12 0C5.373 0 0 5.373 0 12c0 6.628 5.373 12 12 12 6.628 0 12-5.372 12-12 0-6.627-5.372-12-12-12z"},c={overlay:{__style:{backgroundColor:"#000"}}};function s(e){var t=e.backgroundImage,n=e.naturalHeight,s=e.naturalWidth,u=e.onRestartVideo,d=e.pinTitle,p=e.pin,f=(0,r.ZP)(),_=p.id;return(0,i.jsxs)(o.Ee,{alt:d||f._('pin image', 'image of a pin', 'image of a pin'),naturalHeight:n,naturalWidth:s,src:t,children:[(0,i.jsx)(o.xu,{position:"absolute",top:!0,bottom:!0,left:!0,right:!0,opacity:.8,dangerouslySetInlineStyle:c.overlay}),(0,i.jsxs)(o.xu,{justifyContent:"center",direction:"column",display:"flex",position:"absolute",height:"100%",width:"100%","data-test-id":"video-end-card-".concat(_),children:[(0,i.jsx)(o.iP,{rounding:2,children:(0,i.jsxs)(o.xu,{display:"flex",justifyContent:"center",padding:2,children:[(0,i.jsx)(o.JO,{accessibilityLabel:f._('Visit site', 'Button when pressed goes to pin\'s website', 'Button when pressed goes to pin\'s website'),color:"light",dangerouslySetSvgPath:l,size:25}),(0,i.jsx)(o.xu,{margin:1}),(0,i.jsx)(o.xv,{color:"light",lineClamp:1,weight:"bold",children:f._('Visit site', 'Button when pressed goes to pin\'s website', 'Button when pressed goes to pin\'s website')})]})}),(0,i.jsx)(o.xu,{margin:3}),(0,i.jsx)(o.iP,{onTap:u,rounding:2,children:(0,i.jsxs)(o.xu,{display:"flex",justifyContent:"center",padding:2,children:[(0,i.jsx)(o.JO,{accessibilityLabel:f._('Watch again', 'Button when pressed restarts the video', 'Button when pressed restarts the video'),color:"light",dangerouslySetSvgPath:a,size:25}),(0,i.jsx)(o.xu,{margin:1}),(0,i.jsx)(o.xv,{color:"light",lineClamp:1,weight:"bold",children:f._('Watch again', 'Button when pressed restarts the video', 'Button when pressed restarts the video')})]})})]})]})}},697247:function(e,t,n){"use strict";n.d(t,{$:function(){return i},B:function(){return o}});var r=(0,n(425288).Z)("SurfaceContext",{surface:"Unknown"}),o=r.Provider,i=r.useHook},576440:function(e,t,n){"use strict";n.d(t,{B:function(){return o},E:function(){return i}});var r=(0,n(425288).Z)("trackingParametersContext"),o=r.Provider,i=r.useHook},62700:function(e,t,n){"use strict";n.d(t,{Z:function(){return y}});var r=n(605028),o=n(66699),i=n(898781),a=n(287072),l=n(35495),c=n(908390),s=n(407043),u=n(243943),d=n(576440),p=n(515198);function f(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function _(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?f(Object(n),!0).forEach((function(t){h(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function h(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function y(e){var t,n=e.sizing,f=void 0===n?"default":n,h=e.children,y=e.collageChipId,m=e.componentType,v=e.contextLogData,g=e.elementType,b=e.pin,P=e.viewParameter,w=e.viewType,S=(0,i.ZP)(),x=(0,s.v)().logContextEvent,O=(0,d.E)(),A=b.carousel_data,j=b.id,E=(0,r.Z)(b).isLeadPin,T="/pin/".concat(y||j,"/"),I=(0,u.Xx)();if(null!=I&&I.variantUrl&&(T="/pin/".concat(I.variantUrl,"/")),A){var C=A.carousel_slots,D=void 0===C?[]:C,R=A.id,k=A.index,z=void 0===k?0:k;T="/pin/".concat(j,"/"),t={carousel_slot_id:D[z]&&D[z].id,carousel_data_id:R,carousel_slot_index:z}}t=_(_({},t||{}),(0,l.Kl)(b,v)||{});var N=(0,a.Z)({href:T,externalData:{auxData:t,pin:b}});return(0,p.jsx)(c.iP,{accessibilityLabel:(0,o.Z)(S._('{{ pinTitle }} pin page', 'pinRep.closeupLink.tapArea.accessibilityLabel', 'Accessibility label with pin title on individual links'),{pinTitle:b.grid_title||b.title||b.description||""}),mouseCursor:"zoomIn",rounding:2,onTap:function(e){var t,n,r=e.event;(0,e.dangerouslyDisableOnNavigation)(),E?(x({event_type:8948,view_type:w||O.viewType,view_parameter:P||O.viewParameter,component:null,aux_data:{closeup_navigation_type:"click",lead_form_id:null===(t=b.promoted_lead_form)||void 0===t?void 0:t.lead_id}}),x({event_type:12,view_type:w||O.viewType,view_parameter:P||O.viewParameter,component:null,aux_data:_({lead_form_id:null===(n=b.promoted_lead_form)||void 0===n?void 0:n.lead_id},(0,l.Kl)(b,{})||{})})):(x({event_type:101,component:m||O.componentType,element:g,object_id_str:j,view_type:w||O.viewType,view_parameter:P||O.viewParameter,aux_data:_(_({},v),(0,l.Kl)(b,v)||{})}),x({event_type:8948,view_type:w||O.viewType,view_parameter:P||O.viewParameter,component:m||O.componentType,element:g,object_id_str:j,aux_data:_(_({closeup_navigation_type:"click"},v),(0,l.Kl)(b,v)||{})})),N({event:r})},fullWidth:"fullSize"===f,fullHeight:"fullSize"===f,href:T,role:"link",children:h})}},841509:function(e,t,n){"use strict";n.d(t,{Z:function(){return c}});var r=n(908390),o=n(515198);function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){l(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function c(e){var t=e.children,n=e.additionalStyles,i=void 0===n?{}:n;return(0,o.jsx)(r.xu,{position:"absolute",top:!0,left:!0,right:!0,bottom:!0,dangerouslySetInlineStyle:{__style:a({pointerEvents:"none"},i)},"data-test-id":"contentLayer",children:t})}},337986:function(e,t,n){"use strict";n.d(t,{Z:function(){return E}});var r=n(76911),o=n(499128),i=n(898781),a=n(908390),l=n(515198);function c(e){var t=(0,i.ZP)(),n=e.onHide,r=(0,l.jsx)(a.xv,{children:t._('Thank you for helping improve signal detection on Pinterest!', 'pinRep.actionBar.signalDetector.toast', 'Toast text displayed when a user submits a signal for review')});return(0,l.jsx)(o.ZP,{onHide:n,text:r})}var s=n(6637),u=n(19121),d=n(343341);function p(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,i=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(c){l=!0,o=c}finally{try{a||null==n.return||n.return()}finally{if(l)throw o}}return i}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return f(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return f(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function f(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var _=function(e){var t=e.anchor,n=e.onDismiss,o=e.pinId,f=e.signals,_=(0,i.ZP)(),h=p((0,r.useState)(0),2),y=h[0],m=h[1],v=(0,u.Z)(),g=(0,d.F9)().showOneToast;if(!v.isEmployee)return null;var b=f.map((function(e){var t=e.signal_message;return{href:"#",text:null!=t?t:""}})),P=f[y],w=P.background_color,S=P.icon_url,x=P.signal_id,O=P.signal_message;return(0,l.jsx)(a.mh,{children:(0,l.jsx)(a.J2,{anchor:t,idealDirection:"right",onDismiss:n,positionRelativeToAnchor:!1,size:"lg",children:(0,l.jsxs)(a.xu,{padding:4,width:"100%",children:[f.length>1&&(0,l.jsx)(a.xu,{overflow:"scrollX",padding:1,marginBottom:4,children:(0,l.jsx)(a.mQ,{activeTabIndex:y,onChange:function(e){var t=e.event,n=e.activeTabIndex;(0,e.dangerouslyDisableOnNavigation)(),function(e){var t=e.activeTabIndex;e.event.preventDefault(),m(t)}({activeTabIndex:n,event:t})},tabs:b})}),(0,l.jsx)(a.kC,{alignItems:"center",justifyContent:"start",children:(0,l.jsx)(a.X6,{size:"400",children:_._('Signal detected:', 'pinRep.actionBar.signalDetector.header', 'Header for signal detector flyout')})}),(0,l.jsx)(a.xu,{paddingY:3,children:(0,l.jsxs)(a.kC,{alignItems:"center",gap:{row:2,column:0},justifyContent:"center",children:[(0,l.jsx)(a.xu,{height:40,overflow:"hidden",rounding:"circle",width:40,children:S?(0,l.jsx)(a.Ee,{alt:_._('Signal display', 'pinRep.actionBar.signalDetector.signalAsset', 'Asset to represent the signal detected'),color:"white",naturalHeight:1,naturalWidth:1,src:S}):(0,l.jsx)(a.xu,{dangerouslySetInlineStyle:{__style:{backgroundColor:w}},height:40,width:40})}),(0,l.jsx)(a.xv,{size:"200",children:O})]})}),(0,l.jsx)(a.xu,{marginBottom:3,children:(0,l.jsx)(a.xv,{size:"200",children:_._('If you think this detection is inaccurate, please send this Pin for review. It will help improve Pinterest.', 'pinRep.actionBar.signalDetector.instructions', 'Instructions to the user for how to handle inaccurate detection')})}),(0,l.jsxs)(a.kC,{alignItems:"center",gap:{row:2,column:0},justifyContent:"start",children:[(0,l.jsx)(a.zx,{fullWidth:!0,color:"red",size:"md",text:_._('Send for review', 'pinRep.actionBar.signalDetector.button.review', 'Button label for users to send the pin for review'),onClick:function(){var e={pin_id:o,signal_id:x,user:v.id};s.Z.create("SignalReviewRequestResource",e).callCreate(),n(),g((function(e){var t=e.hideToast;return(0,l.jsx)(c,{onHide:t})}))}}),(0,l.jsx)(a.zx,{fullWidth:!0,color:"gray",size:"md",text:_._('Cancel', 'pinRep.actionBar.signalDetector.button.cancel', 'Button label for users to cancel'),onClick:n})]})]})})})},h=n(241244),y=n(319915),m=n(947599),v=n(215292);function g(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,i=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(c){l=!0,o=c}finally{try{a||null==n.return||n.return()}finally{if(l)throw o}}return i}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return b(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return b(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function b(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function P(e){var t=e.signals,n=e.pinId,o=t[0],i=o.background_color,c=o.icon_url,s=o.signal_message,u=g((0,r.useState)(!1),2),d=u[0],p=u[1],f=(0,r.useRef)();return(0,l.jsxs)(r.Fragment,{children:[(0,l.jsx)(y.Z,{name:"SafeSuspense_DebugSignal_FeedbackButton",children:(0,l.jsx)(m.Z,{children:(0,l.jsx)(a.xu,{"data-test-id":"debug-signals-feedback-button",children:(0,l.jsx)(h.Z,{children:(0,l.jsx)(v.q,{children:function(e){var t=e.hovered,n=e.onMouseEnter,r=e.onMouseLeave;return(0,l.jsx)(a.iP,{onTap:function(){return p((function(e){return!e}))},rounding:"pill",onMouseEnter:n,onMouseLeave:r,children:(0,l.jsxs)(a.xu,{color:t?"dark":"transparentDarkGray",rounding:"pill",display:"flex",alignItems:"center",padding:3,ref:f,children:[(0,l.jsx)(a.xu,{display:"flex",width:24,height:24,rounding:"circle",color:"default",marginEnd:1,justifyContent:"center",alignItems:"center",children:(0,l.jsx)(a.xu,{width:20,height:20,rounding:"circle",overflow:"hidden",children:(0,l.jsx)(a.Ee,{alt:"",color:i,src:null!=c?c:"",naturalHeight:1,naturalWidth:1})})}),(0,l.jsx)(a.xv,{color:"inverse",size:"200",weight:"bold",children:s})]})})}})})})})}),d&&f&&f.current&&(0,l.jsx)(_,{anchor:f.current,onDismiss:function(){return p(!1)},pinId:n,signals:t})]})}var w=function(e){var t,n=e.signal,r=e.anchor,o=e.setShowFlyout,i=e.setStore,c=(0,v.Z)(),s=c.hovered,u=c.onMouseEnter,d=c.onMouseLeave;return(0,l.jsx)(a.iP,{onTap:function(){return function(e){o((function(e){return!e})),i(e)}(n)},rounding:"pill",onMouseEnter:u,onMouseLeave:d,children:(0,l.jsxs)(a.xu,{color:s?"dark":"transparentDarkGray",rounding:"pill",display:"flex",alignItems:"center",padding:3,ref:r,children:[(0,l.jsx)(a.xu,{display:"flex",minWidth:24,height:24,rounding:"circle",marginEnd:1,color:"default",justifyContent:"center",alignItems:"center",children:(0,l.jsx)(a.xu,{width:20,height:20,rounding:"circle",overflow:"hidden",children:(0,l.jsx)(a.Ee,{alt:"",color:n.background_color,src:null!==(t=n.icon_url)&&void 0!==t?t:"",naturalHeight:1,naturalWidth:1})})}),(0,l.jsx)(a.xv,{color:"inverse",size:"200",weight:"bold",children:n.signal_message})]})})};var S=function(e){var t=e.anchor,n=e.onDismiss,r=e.pinId,o=e.signal,p=(0,i.ZP)(),f=(0,u.Z)(),_=(0,d.F9)().showOneToast;if(!f.isEmployee)return null;var h=o.background_color,y=o.icon_url,m=o.signal_id,v=o.signal_message;return(0,l.jsx)(a.mh,{children:(0,l.jsx)(a.J2,{anchor:t,idealDirection:"right",onDismiss:n,positionRelativeToAnchor:!1,size:"lg",children:(0,l.jsxs)(a.xu,{padding:4,width:"100%",children:[(0,l.jsx)(a.kC,{alignItems:"center",justifyContent:"start",children:(0,l.jsx)(a.X6,{size:"400",children:p._('Signal detected:', 'pinRep.actionBar.signalDetector.header', 'Header for signal detector flyout')})}),(0,l.jsx)(a.xu,{paddingY:3,children:(0,l.jsxs)(a.kC,{alignItems:"center",gap:2,justifyContent:"center",children:[(0,l.jsx)(a.xu,{height:40,overflow:"hidden",rounding:"circle",width:40,children:y?(0,l.jsx)(a.Ee,{alt:p._('Signal display', 'pinRep.actionBar.signalDetector.signalAsset', 'Asset to represent the signal detected'),color:"white",naturalHeight:1,naturalWidth:1,src:y}):(0,l.jsx)(a.xu,{dangerouslySetInlineStyle:{__style:{backgroundColor:h}},height:40,width:40})}),(0,l.jsx)(a.xv,{size:"200",children:v})]})}),(0,l.jsx)(a.xu,{marginBottom:3,children:(0,l.jsx)(a.xv,{size:"200",children:p._('If you think this detection is inaccurate, please send this Pin for review. It will help improve Pinterest.', 'pinRep.actionBar.signalDetector.instructions', 'Instructions to the user for how to handle inaccurate detection')})}),(0,l.jsxs)(a.kC,{alignItems:"center",gap:2,justifyContent:"start",children:[(0,l.jsx)(a.zx,{fullWidth:!0,color:"red",size:"md",text:p._('Send for review', 'pinRep.actionBar.signalDetector.button.review', 'Button label for users to send the pin for review'),onClick:function(){var e={pin_id:r,signal_id:m,user:f.id};s.Z.create("SignalReviewRequestResource",e).callCreate(),n(),_((function(e){var t=e.hideToast;return(0,l.jsx)(c,{onHide:t})}))}}),(0,l.jsx)(a.zx,{fullWidth:!0,color:"gray",size:"md",text:p._('Cancel', 'pinRep.actionBar.signalDetector.button.cancel', 'Button label for users to cancel'),onClick:n})]})]})})})};function x(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,i=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(c){l=!0,o=c}finally{try{a||null==n.return||n.return()}finally{if(l)throw o}}return i}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return O(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return O(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function O(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function A(e){var t=e.signals,n=e.pinId,o=x((0,r.useState)(!1),2),i=o[0],c=o[1],s=(0,r.useRef)(null),u=x((0,r.useState)(t[0]),2),d=u[0],p=u[1];return(0,l.jsxs)(r.Fragment,{children:[(0,l.jsx)(y.Z,{name:"SafeSuspense_DebugSignal_FeedbackButton",children:(0,l.jsx)(m.Z,{children:(0,l.jsx)(a.xu,{"data-test-id":"debug-signals-feedback-button",children:(0,l.jsx)(h.Z,{children:(0,l.jsx)(a.kC,{alignItems:"stretch",justifyContent:"start",children:t.map((function(e){return(0,l.jsx)(a.xu,{marginEnd:2,children:(0,l.jsx)(w,{signal:e,anchor:s,setShowFlyout:c,setStore:p})},e.signal_id)}))})})})})}),i&&(0,l.jsx)(S,{anchor:s.current,onDismiss:function(){return c(!1)},pinId:n,signal:d})]})}var j=n(609500);function E(e){var t=e.pin,n=(0,u.Z)(),o=(0,j.useLocation)().search,i=(0,r.useMemo)((function(){return new URLSearchParams(o)}),[o]);if(!n.isEmployee)return null;var a=t.id,c=t.deb_ads,s=t.deb_content_quality,d=t.deb_inclusive_product,p=t.deb_shopping,f=t.deb_trust_and_safety;if(c)return(0,l.jsx)(P,{pinId:a,signals:c});if(s)return(0,l.jsx)(P,{pinId:a,signals:s});if(d){if("skin_tone"===i.get("type")){var _=d.filter((function(e){return"visual_signals_hair_pattern_v1"!==e.signal_id}));return(0,l.jsx)(A,{pinId:a,signals:_})}var h=d.filter((function(e){return"visual_body_analyses_v2_0"!==e.signal_id}));return(0,l.jsx)(A,{pinId:a,signals:h})}return p?(0,l.jsx)(P,{pinId:a,signals:p}):f?(0,l.jsx)(P,{pinId:a,signals:f}):null}},525199:function(e,t,n){"use strict";n.d(t,{Z:function(){return l}});var r=n(908390),o=n(225692),i=n(515198);function a(e,t){return{hidden:{opacity:0,transition:t?"opacity ".concat(t,"ms ease"):void 0},visible:{opacity:1,transition:e?"opacity ".concat(e,"ms ease"):void 0}}}function l(e){var t=e.children,n=e.fadeInDuration,l=void 0===n?0:n,c=e.fadeOutDuration,s=void 0===c?o.X:c,u=e.visibility;return"none"!==u&&t?(0,i.jsx)(r.xu,{dangerouslySetInlineStyle:{__style:a(l,s)[u]},children:t}):null}},43671:function(e,t,n){"use strict";n.d(t,{ZP:function(){return g}});var r=n(76911),o=n(841509),i=n(898781),a=n(55275),l=n(310227),c=n(407043),s=n(908390),u=n(515198);function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function p(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(Object(n),!0).forEach((function(t){f(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function f(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,i=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(c){l=!0,o=c}finally{try{a||null==n.return||n.return()}finally{if(l)throw o}}return i}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return h(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return h(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function h(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var y={background:{base:{transition:"all 250ms",opacity:0},blurred:{backgroundPosition:"50% 50%",backgroundSize:"cover",borderRadius:l.Oc,filter:"blur(10px)",opacity:1}},backdrop:{base:{transition:"all 250ms"},blurred:{backgroundColor:"rgba(0,0,0,0.6)"}},feedbackOverlayContainer:{base:{opacity:0,transition:"all 250ms"},visible:{opacity:1}}},m=["followed","related","search"],v=["pfy","pfyBoard"];function g(e){var t,n=e.feedbackType,d=e.pin,f=e.hideContents,h=void 0!==f&&f,g=(0,c.v)().logContextEvent,b=(0,i.ZP)(),P=_((0,r.useState)(!1),2),w=P[0],S=P[1],x=_((0,r.useState)(!1),2),O=x[0],A=x[1];(0,r.useEffect)((function(){return S(!0)}),[]);var j=function(){return A(!0)},E=d.feedbackText,T=d.images,I=d.showFeedbackOverlay,C=d.undoAction,D=T&&(null===(t=T["236x"])||void 0===t?void 0:t.url),R=null!=E?E:{},k=R.image,z=R.subTitle,N=R.title,L=R.unfollow,M=!m.includes(n),B=v.includes(n),Z=function(){g({event_type:101,view_type:1,view_parameter:92,element:11347})};return(0,u.jsxs)(s.xu,{color:"transparent",dangerouslySetInlineStyle:{__style:{borderRadius:l.Oc}},"data-test-id":"obscured-overlay",overflow:"hidden",position:"absolute",top:!0,left:!0,bottom:!0,right:!0,children:[(0,u.jsxs)(s.xu,{dangerouslySetInlineStyle:{__style:{borderRadius:l.Oc}},margin:-4,overflow:"hidden",position:"absolute",top:!0,left:!0,bottom:!0,right:!0,children:[D&&(0,u.jsx)(o.Z,{additionalStyles:p(p(p({},y.background.base),w?y.background.blurred:{}),{},{backgroundImage:'url("'.concat(D,'")')})}),(0,u.jsx)(o.Z,{additionalStyles:p(p({},y.backdrop.base),y.backdrop.blurred)})]}),(0,u.jsx)(s.xu,{dangerouslySetInlineStyle:{__style:p(p({},y.feedbackOverlayContainer.base),!I&&w?y.feedbackOverlayContainer.visible:{})},height:"100%",padding:4,position:"relative",width:"100%",children:!h&&(0,u.jsx)(s.xu,{height:"100%",children:(0,u.jsxs)(s.xu,{"data-test-id":"PinFeedbackConfirmation",display:"flex",direction:"column",height:"100%",maxWidth:216,children:[(0,u.jsx)(s.xu,{marginBottom:2,children:(0,u.jsx)(s.X6,{color:"light",size:"400",children:N})}),(0,u.jsxs)(s.xu,{display:"flex",marginBottom:1,children:[k&&(0,u.jsx)(s.xu,{marginEnd:3,children:(0,u.jsx)(s.zd,{width:k.width,height:k.height,rounding:2,wash:!0,children:(0,u.jsx)(s.Ee,{alt:z||"",fit:"cover",naturalHeight:1,naturalWidth:1,src:k.url||""})})}),(0,u.jsx)(s.xv,{color:"light",overflow:"normal",children:z})]}),(0,u.jsxs)(r.Fragment,{children:[C&&(0,u.jsx)(s.xu,{children:(0,u.jsx)(s.iP,{onTap:C,children:(0,u.jsx)(s.xv,{color:"inverse",weight:"bold",overflow:"normal",children:b._('Undo', 'Text on the button to navigate to undo hiding a pin', 'Text on the button to navigate to undo hiding a pin')})})}),(0,u.jsxs)(s.xu,{marginTop:"auto",children:[!C&&!O&&L&&!B&&(0,u.jsx)(s.zx,{fullWidth:!0,color:"white",onClick:function(){return(0,a.t)(L.action,L.actionOptions,j)},text:b._('Unfollow', 'Text on the button to unfollow a specific board / user', 'Text on the button to unfollow a specific board / user')}),M&&(0,u.jsx)(s.zx,{role:"link",color:"white",fullWidth:!0,href:"/edit",onClick:Z,text:b._('Tune your feed', 'Text on the button to navigate to homefeed control', 'Text on the button to navigate to homefeed control')})]})]})]})})})]})}},379884:function(e,t,n){"use strict";n.d(t,{Z:function(){return p}});var r=n(852964),o=n(898781),i=n(55275),a=n(908390),l=n(814197),c=n(349700),s=n(407043),u=n(680046),d=n(515198);function p(e){var t=e.anchor,n=e.feedbackData,p=e.feedbackType,f=e.pinId,_=e.onDismiss,h=e.onHide,y=e.recommendationReason,m=e.viewParameter,v=e.viewType,g=(0,s.v)().logContextEvent,b=(0,o.ZP)(),P=(0,u.ZP)({i18n:b,interpolateNamedTemplate:c.nk}),w=function(e,t){var o=(0,r.Z)(y),a=y&&(0,u.yl)(y),l=y&&(0,u.XZ)(y),c=P.getHidePinAction({feedbackData:n,feedbackType:p,pinId:f,recommendationReasonId:o,throughId:a,throughProperties:l,complaintReason:e}),s=c.action,d=c.actionOptions;!function(e){g({event_type:101,view_type:v,view_parameter:m,element:e,component:(0,u.nb)(p)})}(t),(0,i.t)(s,d),h()},S="promoted"===p?[{text:b._('Not relevant to me', 'homefeed.hideReasons.reason.notRelevant', 'Feedback option for Pin that is not relevant'),reason:10,elementType:1296},{text:b._('Seen Pin too many times', 'homefeed.hideReasons.reason.seenTooMany', 'Feedback option for Pin that has been seen too many times'),reason:3,elementType:11172},{text:b._('Blurry or pixelated image', 'homefeed.hideReasons.reason.lowQualityPicture', 'Feedback option for Pin with low quality picture'),reason:13,elementType:10898}]:[{text:b._('Not relevant to me', 'homefeed.hideReasons.reason.notRelevant', 'Feedback option for Pin that is not relevant'),reason:10,elementType:1296},{text:b._('Not in a language I understand', 'homefeed.hideReasons.reason.languageDontUnderstand', 'Feedback option for Pin that is in a language I dont understand'),reason:15,elementType:11178},{text:b._('Seen Pin too many times', 'homefeed.hideReasons.reason.seenTooMany', 'Feedback option for Pin that has been seen too many times'),reason:3,elementType:295},{text:b._('Blurry or pixelated image', 'homefeed.hideReasons.reason.lowQualityPicture', 'Feedback option for Pin with low quality picture'),reason:13,elementType:10898},{text:b._('Other', 'homefeed.hideReasons.reason.other', 'Feedback option for Pin hidden for other reasons'),reason:8,elementType:11179}];return(0,d.jsx)(a.Lt,{anchor:t,idealDirection:"down",onDismiss:_,zIndex:l.lI,id:"pin-action-dropdown",children:(0,d.jsx)(a.Lt.Section,{label:b._('Got a moment? Tell us why.', 'homefeed.hideReasons.title', 'Title of follow up question after negative Pin feedback'),children:S.map((function(e){var t=e.text,n=e.reason,r=e.elementType;return(0,d.jsx)(a.Lt.Item,{onSelect:function(){return w(n,r)},option:{value:"hide-reason-".concat(t.split(" ").join("-")),label:t},dataTestId:"hide-reason-".concat(t.split(" ").join("-"))})}))})})}},685909:function(e,t,n){"use strict";var r=n(76911),o=n(206134),i=n.n(o),a=n(391254),l=n(149230),c=n(927104),s=n(898781),u=n(908390),d=n(515198);function p(e){return(p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function f(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function _(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?f(Object(n),!0).forEach((function(t){w(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function h(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function y(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function m(e,t){return(m=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function v(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=P(e);if(t){var o=P(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return g(this,n)}}function g(e,t){if(t&&("object"===p(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return b(e)}function b(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function P(e){return(P=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function w(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var S=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&m(e,t)}(p,e);var t,n,o,s=v(p);function p(){var e;h(this,p);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return w(b(e=s.call.apply(s,[this].concat(n))),"state",{showBoardName:!1}),e}return t=p,(n=[{key:"componentDidMount",value:function(){var e=this;this.timer=setTimeout((function(){e.setState({showBoardName:!0})}),950)}},{key:"componentWillUnmount",value:function(){clearTimeout(this.timer)}},{key:"render",value:function(){var e=this.state.showBoardName,t=this.props,n=t.isDenseView,o=t.isNewlySaved,s=t.name,p=t.shouldUseLegoStyles,f=t.type,_=t.url;if(p&&n)return null;var h,y,m="boardless"===f?this.props.i18n._('Saved to Profile', 'Saved.render.title', 'Text indicating saved to your profile'):s;if(!o||e||p){var v=p?(0,d.jsx)(u.xv,{color:"inverse",size:"300",weight:"bold",children:m.length<=20?m:(0,c.Z)(m,20)}):(0,d.jsx)(u.X6,{color:"inverse",size:"400",lineClamp:1,children:m}),g=(0,l.Z)({url:_})?"nofollow":"none";h=_?(0,d.jsx)(u.rU,{rel:g,href:_,children:v}):v}else h=(0,d.jsx)(u.xv,{color:"inverse",children:(0,d.jsx)("span",{className:"deprecatedTextSizeXL",children:this.props.i18n._('Saved!', 'Indication that a pin has been saved', 'Indication that a pin has been saved')})});return o&&(y=e?"board":"saved"),(0,d.jsxs)(r.Fragment,{children:[(0,d.jsx)(a.Z,{unsafeCSS:"\n.SavedAnimation {\n  &.saved {\n    animation: SavedAnimation--down-then-right 1s cubic-bezier(0, 0.33, 0.33, 1.1);\n  }\n\n  &.board {\n    animation: SavedAnimation--to-right 0.12s cubic-bezier(0, 0.33, 0.33, 1.1);\n  }\n}\n\n@keyframes SavedAnimation--down-then-right {\n  0% {\n    opacity: 0;\n    transform: translateY(-24px);\n  }\n\n  33% {\n    opacity: 1;\n    transform: translateY(0);\n  }\n\n  80% {\n    opacity: 1;\n    transform: translateY(0);\n  }\n\n  100% {\n    opacity: 0;\n    transform: translateX(24px);\n  }\n}\n\n@keyframes SavedAnimation--to-right {\n  from {\n    opacity: 0;\n    transform: translateX(-16px);\n  }\n\n  to {\n    opacity: 1;\n    transform: translateX(0);\n  }\n}\n"}),(0,d.jsx)("div",{"data-test-id":"savedInfo",className:!p&&i()("SavedAnimation",y),children:h})]})}}])&&y(t.prototype,n),o&&y(t,o),p}(r.Component);t.Z=function(e){var t=(0,s.ZP)();return(0,d.jsx)(S,_(_({},e),{},{i18n:t}))}},108529:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});var r=n(333155);function o(e){return r.zI.includes(e)}},485308:function(e,t,n){"use strict";n.d(t,{J:function(){return r}});var r=228},852964:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});var r={REPIN_BOARD:1,USER_ACTIVITY:4,CLICKTHROUGH:9,FRESH_REPIN_BOARD:47,FRESH_CLICKTHROUGH:48,FRESH_USER_ACTIVITY:49,LOCAL_REPIN_BOARD:13,LOCAL_CLICKTHROUGH:32,LOCAL_USER_ACTIVITY:33,P2P_CLICKTHROUGH:28,INSTANT_PFY_NON_MATERIALIZABLE:36,FOLLOWED_INTEREST:5,TOPIC_BEST_PINS:70,EMBEDDING_BASED_BEST_PINS:173,RECOMMENDED_TOPICS:65,RECOMMENDED_GEO_INTERESTS:192,USER_SEQUENCE_INTERESTS_PINS:193,GRAPHSAGE_USER_EMBEDDINGS_TO_ORGANIC_PINS:109,NAVBOOST_PFY:89,NAVBOOST_P2P:88,NOTIFICATION_NEWS_HUB:138,GEMINI_INTERESTS_FRESH:104,INTENTIONAL_DISTRIBUTION_USER_TO_CREATOR_STORY_PIN:100,INTENTIONAL_DISTRIBUTION_USER_TO_CREATOR_STORY_PIN_ENGAGEMENT:175,INTENTIONAL_DISTRIBUTION_USER_TO_CREATOR_VIDEO:95,INTENTIONAL_DISTRIBUTION_DOMAIN:86,INTENTIONAL_DISTRIBUTION_TOPICS_STORY_PINS:91,INTENTIONAL_DISTRIBUTION_TOPICS_VIDEO:98,GRAPHSAGE_MULTI_PINS_TO_CREATOR_PINS_REALTIME:135,GRAPHSAGE_MULTI_PINS_TO_VIDEO_PINS_REALTIME:139,GRAPHSAGE_MULTI_PINS_TO_STORY_PINS_REALTIME:140,INTENTIONAL_DISTRIBUTION_MANUAL_TAGGEED_INTERESTS_VIDEO:118,INTENTIONAL_DISTRIBUTION_MANUAL_TAGGED_INTERESTS_STORY_PIN:130,CREATOR_DIRECT_INJECT:148,USER_INTERESTS_TO_LONGTERM_CREATOR_PINS:141,GRAPHSAGE_PRODUCT_PINS:97,GRAPHSAGE_USER_EMBEDDINGS_TO_PINS:108,PROMOTED_PIN:15,UNKNOWN:0,RECOMMENDED_CATEGORY:2,COOKIE_MONSTER:3,REALTIME_P2B:6,REALTIME_P2B_CLOSEUP:22,RECOMMENDED_INTEREST:7,VISUALLY_SIMILAR:8,BOARD_FOLLOW:35,USER_FOLLOW:45,RECOMMENDED_COMMERCE:10,EVERYTHING_FEED:11,RECOMMENDED_LOCAL_PIN:12,SEARCH:46,P2P_USER_COMMERCE:16,COMMERCE_EDUCATION:17,LANDING_PAGE_PINS:18,FOLLOWING_FEED:19,POPULAR_FEED:20,P2P_DYNAMIC_GRID:23,LANDING_PAGE_INTEREST_PINS:24,FRESH_PIN_FROM_PIN:25,FRESH_PIN_FROM_INTEREST:26,FRESH_PIN_FROM_BOARD:27,SIFTER_VIDEO_FROM_INTEREST:39,SIFTER_PRODUCTS:57,SIFTER_DISTRIBUTION_A:50,SIFTER_DISTRIBUTION_B:51,SIFTER_DISTRIBUTION_C:52,SIFTER_DISTRIBUTION_D:53,SIFTER_DISTRIBUTION_E:54,SIFTER_ACTIVATION_EXPERIMENT:58,SIFTER_FRESHMAKER_PIN_FROM_INTEREST:40,P2P_CLOSEUP:29,P2P_LIKE:30,P2P_PIN_CREATE:31,INSTANT_PFY:34,DYNAMIC_INSERTION:37,DYNAMIC_INSERTION_BOARD_FOLLOW:38,HYPERLOCAL_INTEREST_BOARD:41,NUX_BOARD_FOLLOW_P2P:42,INDIRECT_DOMAIN_PIN:43,PIXIE_PINS_FOR_BOARD:44,SCREENSHOT_SAVE:55,TEXT_EMBEDDINGS:56,FRESH_TEXT_EMBEDDINGS:67,PREFETCH_LOAD:60,DIVERSE_TOPICS:62,QUIZ_RESULTS:63,INTENTIONAL_DISTRIBUTION_TOPICS:64,INTENTIONAL_DISTRIBUTION_TOPICS_THIRD_PARTY:90,INTENTIONAL_DISTRIBUTION_GEMINI:73,INTENTIONAL_DISTRIBUTION_GEMINI_V5:120,INTENTIONAL_DISTRIBUTION_SHOP_STYLE_STL:74,INTENTIONAL_DISTRIBUTION_GRAPHSAGE:78,INTENTIONAL_DISTRIBUTION_REPIN_BOARD:80,INTENTIONAL_DISTRIBUTION_CLICKTHROUGH:81,INTENTIONAL_DISTRIBUTION_USER_ACTIVITY:82,INTENTIONAL_DISTRIBUTION_CREATOR_BASELINE:92,INTENTIONAL_DISTRIBUTION_RECOMMENDED_TOPICS:102,INTENTIONAL_DISTRIBUTION_RECOMMENDED_TOPICS_STORY_PIN:103,INTENTIONAL_DISTRIBUTION_RECOMMENDED_TOPICS_DIVERSITY:105,PIXIE_RECENT_ACTION:66,NATIVE_CONTENT_TOPICS:68,BUBBLE_OPEN_TOPICS:69,TOPIC_BEST_PINS_V2:77,DAILY_BEST_PINS:79,TOPIC_BEST_PINS_V3:101,TOPIC_BEST_STORY_PINS:164,REC_SEQ_STORY_PIN_CLS:165,DARK_PROMOTED_PIN:71,POST_EXPLORE_TOPICS:72,GRAPHSAGE_EMBEDDINGS:75,DEMOGRAPHIC_PFY:76,SHOPPING_STL:83,UNAUTH_PIXIE_P2B:84,UNAUTH_PIXIE_P2P:85,VIDEO_EMBEDDINGS:87,VIDEO_EMBEDDINGS_GEMINI_V5:121,GEMINI_V5_EMBEDDINGS_STATIC:93,GEMINI_V5_EMBEDDINGS_FRESH:94,GEMINI_V5_EMBEDDINGS_REALTIME:106,GEMINI_V5_EMBEDDINGS_STORYPIN:107,CURATED_VIDEO_INTEREST:96,GRAPHSAGE_PRODUCT_PINS_LONGER_HISTORY:112,GRAPHSAGE_SHOPPABLE_INSPIRATION:126,GRAPHSAGE_PRODUCT_PINS_EXPERIMENTAL:134,NUX_GRAPHSAGE:99,GRAPHSAGE_USER_EMBEDDINGS_TO_PRODUCT_PINS:110,GRAPHSAGE_VIDEO_PINS:113,RECBOOST_REPIN_BOARD:114,RECBOOST_CLICKTHROUGH:115,RECBOOST_USER_ACTIVITY:116,RECBOOST_CREATOR_BOARDS:129,RECOMMENDED_BOARDS:117,RECOMMENDED_ANNOTATION_BOARDS:136,RECOMMENDED_GRAPHSAGE_BOARDS:153,INTENTIONAL_DISTRIBUTION_RECOMMENDED_GRAPHSAGE_BOARDS:191,RECOMMENDED_CREATOR_BOARDS:124,ANNOTATION_REC_CREATOR_BOARDS:127,INTENTIONAL_DISTRIBUTION_MANUAL_INTERESTS_VIDEO:119,INTENTIONAL_DISTRIBUTION_INTERESTS_VIDEO:143,INTENTIONAL_DISTRIBUTION_INTERESTS_STORY_PIN:144,REPIN_CREATOR_BOARD:122,GRAPHSAGE_USER_EMBEDDINGS_TO_CREATOR_PINS:123,GRAPHSAGE_USER_EMBEDDINGS_TO_CREATOR_PINS_REALTIME:131,FRESH_SIG_FROM_BOARD:125,RECENT_ENGAGED_CREATOR_BOARDS:128,RECENT_ENGAGED_BOARDS:132,SHOPPING_CREATOR_REALTIME:133,GRAPHSAGE_BASED_RECOMMENDED_CREATOR_BOARDS:137,PIXIE_P2P:142,NEW_USE_CASE_PINS:145,RECBOOST_NEW_USE_CASES:146,SEARCHSAGE_PFY:147,SEARCHSAGE_SHOPPING_PFY:155,INTEREST_EXPLORATION:149,INTEREST_EXPLORATION_TRENDY_QUERIES:150,INTEREST_EXPLORATION_RELATED_INTERESTS:151,RECBOOST_INTERESTS:152,HF_STORY_SHOPPING_RETARGETING:154,RECBOOST_STORY_PINS:156,RECBOOST_STORY_BOARDS:157,PINNABILITY_EMBEDDINGS:158,PINNABILITY_FRESH_STORY_EMBEDDINGS:159,PINNABILITY_STORY_EMBEDDINGS:160,EXPLORATION_STORY_PINS:161,EXPLORATION_STORY_PINS_BASELINE:162,EXPLOITATION_STORY_PINS:163,ANNOTATION_REC_CREATOR_STORY_PINS:166,GRAPHSAGE_MULTI_PINS_TO_STORY_PINS:167,IDEASTREAM_GRAPHSAGE_STORY_PINS:168,HF_EDUCATION_PIN_INSERTION:169,RP_EDUCATION_PIN_INSERTION:170,USER_TO_CREATOR_STORY_PINS:171,USER_TO_CREATOR_STORY_PINS_ENGAGEMENT:176,COENGAGEMENT_STORY_PINS:172,ANNOTATION_STORY_PINS:177,DISCOVER_STREAM_DEMOGRAPHIC_FALLBACK:178,DISCOVER_STREAM_CELEBRITY:179,GRAPHSAGE_SHOPIFY_VMP_PRODUCT_PINS:180,CREATOR_BEST_IDEA_PINS:181,INTEREST_BEST_IDEA_PINS:182,NAVBOOST_STORY_PINS:183,SHOPPING_DISTRIBUTION_PINS:185,WATCH_TAB_EHQ_STORIES:186,NOTIF_LEARNED_RETRIEVAL:187,LANDING_PAGE_PIN_RECOMMENDATIONS:188,PINNERSAGE_LEARNED_EMBEDDINGS:189,TOPIC_FEED:190,RTC_IMPROVEMENT_TEST_1:501,RTC_IMPROVEMENT_TEST_2:502,RTC_IMPROVEMENT_TEST_3:503,RTC_IMPROVEMENT_TEST_4:504,RTC_IMPROVEMENT_TEST_5:505,RTC_IMPROVEMENT_TEST_6:506,RTC_IMPROVEMENT_TEST_7:507,RTC_IMPROVEMENT_TEST_8:508,RTC_IMPROVEMENT_TEST_9:509,RTC_IMPROVEMENT_TEST_10:510,RTC_IMPROVEMENT_TEST_11:511,RTC_IMPROVEMENT_TEST_12:512,RTC_IMPROVEMENT_TEST_13:513,RTC_IMPROVEMENT_TEST_14:514,RTC_IMPROVEMENT_TEST_15:515,RTC_BLENDER_TEST:516,P2P_COMMERCE:21,P2P:14,LENS_CAMERA_VISUALLY_SIMILAR:111,RECENT_FOLLOWED_INTEREST:59,RECENT_FOLLOWED_BOARD:61,GRAPHSAGE_SHOPIFY_VMP_MERCHANT_ACTIVATION_PRODUCT_PINS:174,FOLLOWED_INTEREST_SEO_BESPIN_EXPORATION:184,XPIXIE_TO_PRODUCT_PINS:194};function o(e){return e&&e.reason&&r[e.reason]}},675725:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(680046),o=n(349700);function i(e,t){var n=e.feedbackOptions,i=e.pin,a=e.viewParameter,l=null!=i?i:{},c=l.board,s=l.pinner;return(0,(0,r.ZP)({i18n:t,interpolateNamedTemplate:o.nk}).getFeedbackType)({board:c,feedback:n,pin:i,pinner:s,viewParameter:a})}},920085:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var r=n(867820);function o(e,t,n,r,o,i,a){try{var l=e[i](a),c=l.value}catch(s){return void n(s)}l.done?t(c):Promise.resolve(c).then(r,o)}function i(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var a=e.apply(t,n);function l(e){o(a,r,i,l,c,"next",e)}function c(e){o(a,r,i,l,c,"throw",e)}l(void 0)}))}}function a(e,t){return l.apply(this,arguments)}function l(){return(l=i(regeneratorRuntime.mark((function e(t,n){var o,i,a,l,c,s,u,d;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o=t.filename,i=t.imgSrc,a=t.imageDownloadSuccessCallback,l=t.category,c=t.isUnauth,s=t.pinId,u=t.viewParameter,d=t.viewType,"undefined"!=typeof window){e.next=3;break}return e.abrupt("return",Promise.resolve());case 3:if((0,r.My)("web.".concat(c?"unauth":"auth",".download.click.").concat(l||"no_category")),n({event_type:82,object_id_str:s,view_type:d||3,view_parameter:u||139}),!i||!document){e.next=9;break}return e.abrupt("return",fetch(i,{headers:new Headers({Origin:window.location.origin}),mode:"cors"}).then((function(e){return e.blob()})).then((function(e){var t,n,r=document.createElement("a");r.href=window.URL.createObjectURL(e),r.setAttribute("download",o&&o.replace(".","_")),r.style.display="none",null===(t=document.body)||void 0===t||t.appendChild(r),r.click(),null===(n=document.body)||void 0===n||n.removeChild(r),null==a||a()})).catch((function(){throw new Error("Download image error")})));case 9:return e.abrupt("return",Promise.resolve());case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},616211:function(e,t,n){"use strict";n.d(t,{W:function(){return l},Z:function(){return c}});var r=n(898781),o=n(908390),i=n(515198),a={__path:"M10.52 3.11a2 2 0 013.59 0l2.06 4.17c.02.06.08.1.15.11l4.6.67a2 2 0 011.1 3.41l-3.32 3.25a.2.2 0 00-.06.17l.78 4.58a2 2 0 01-2.9 2.11l-4.11-2.16a.2.2 0 00-.19 0l-4.11 2.16a2 2 0 01-2.9-2.1l.78-4.59a.2.2 0 00-.06-.17l-3.32-3.25a2 2 0 011.1-3.41l4.6-.67a.2.2 0 00.15-.1zm3.9 5.15l-1.75-3.53a.4.4 0 00-.71 0L10.2 8.26a2 2 0 01-1.5 1.1l-3.9.56a.4.4 0 00-.23.69l2.83 2.75a2 2 0 01.57 1.77L7.31 19a.4.4 0 00.58.42l3.5-1.83a2 2 0 011.86 0l3.48 1.83a.4.4 0 00.59-.42l-.67-3.88a2 2 0 01.57-1.77l2.83-2.75a.4.4 0 00-.22-.69l-3.9-.56a2 2 0 01-1.51-1.1z"},l={__path:"M10.52 3.11a2 2 0 013.59 0l2.06 4.17c.02.06.08.1.15.11l4.6.67a2 2 0 011.1 3.41l-3.32 3.25a.2.2 0 00-.06.17l.78 4.58a2 2 0 01-2.9 2.11l-4.11-2.16a.2.2 0 00-.19 0l-4.11 2.16a2 2 0 01-2.9-2.1l.78-4.59a.2.2 0 00-.06-.17l-3.32-3.25a2 2 0 011.1-3.41l4.6-.67a.2.2 0 00.15-.1z"};function c(e){var t=e.isCloseupButton,n=e.isDisabled,c=e.isFavorited,s=e.onTap,u=e.size,d=(0,r.ZP)();return t?(0,i.jsx)(o.hU,{accessibilityLabel:d._('Favorite icon', 'pinRep.footer.favoriteIcon', 'Accessible label for favorite icon on Pin'),dangerouslySetSvgPath:c?l:a,disabled:n,iconColor:"darkGray",onClick:s,size:"lg"}):(0,i.jsx)(o.iP,{disabled:n,onTap:s,children:(0,i.jsx)(o.JO,{accessibilityLabel:d._('Favorite icon', 'pinRep.footer.favoriteIcon', 'Accessible label for favorite icon on Pin'),color:"default",dangerouslySetSvgPath:c?l:a,size:u})})}},676464:function(e,t,n){"use strict";function r(e){var t=e.split("/");return[t[2],t[1]]}function o(e,t){return!e||!e.some((function(e){return e.pin_type===t}))}n.d(t,{E:function(){return o},J:function(){return r}})},831539:function(e,t,n){"use strict";n.d(t,{Z:function(){return _}});var r=n(474236),o=n(941646),i=n(898781),a=n(892819),l=n(349700),c=n(780280),s=n(561195),u=n(908390),d=n(515198),p=function(e){var t=e.rating,n=e.textSize;if("single"===e.type){var r=parseFloat(t);return Number.isNaN(r)?null:(0,d.jsxs)(u.kC,{alignItems:"center",children:[(0,d.jsx)(s.A,{fill:"full",width:12}),(0,d.jsx)(u.xv,{size:n,children:r.toFixed(1)})]})}return(0,d.jsx)(s.Z,{rating:t,width:12})},f=function(e){var t=e.bracket,n=e.count,r=e.countFormat,s=e.countType,p=e.marginStart,f=e.textSize,_=e.underline,h=(0,c.B)().locale,y=(0,i.ZP)(),m=(0,a.Z)();if(null==n)return null;var v=m(h,n,{shortform:!0,shortform_maximum_fraction_digits:1});if("text"===r){var g="review"===s?y.ngettext('{{ count }} review', '{{ count }} reviews', n, 'webapp.app.www-unified.productStarRatings.RatingCountText', 'count: total reviews count'):y.ngettext('{{ count }} rating', '{{ count }} ratings', n, 'webapp.app.www-unified.productStarRatings.RatingCountText', 'count: total ratings count');v=(0,l.nk)(g,{count:n}).join("")}return t&&(v="(".concat(v,")")),(0,d.jsx)(u.xu,{dangerouslySetInlineStyle:{__style:{borderBottom:_?"1px solid gray":"none"}},marginStart:p,children:(0,d.jsx)(u.xv,{color:_?"subtle":"default",size:f,underline:_,children:(0,d.jsx)(o.Z,{id:"ratings-count-text",display:"inlineBlock",children:v})})})};function _(e){var t=e.count,n=e.countFormat,o=e.countType,i=e.rating,a=e.textSize,l=e.underline;return(0,r.Z)({count:t,rating:i})?(0,d.jsxs)(u.kC,{alignItems:"center",justifyContent:"start",children:[(0,d.jsx)(p,{rating:i,textSize:a,type:"multiple"}),(0,d.jsx)(f,{count:t,countFormat:n,countType:o,textSize:a,underline:l})]}):null}},474236:function(e,t,n){"use strict";function r(e){var t=e.count,n=e.rating;return Boolean(n&&"None"!==n&&Number.isFinite(t))}n.d(t,{Z:function(){return r}})},2396:function(e,t,n){"use strict";n.d(t,{Z:function(){return E}});var r=n(76911),o=n(482981),i=n(827021),a=n(121151),l=n(750869),c=n(946984),s=n(908390),u=n(515198);function d(e){return(d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function p(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function f(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?p(Object(n),!0).forEach((function(t){P(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function _(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function h(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function y(e,t){return(y=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function m(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=b(e);if(t){var o=b(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return v(this,n)}}function v(e,t){if(t&&("object"===d(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return g(e)}function g(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function b(e){return(b=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function P(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var w=new s.Ry(1),S=function(e){return(0,e.children)((0,c.Z)())},x=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&y(e,t)}(d,e);var t,n,r,c=m(d);function d(){var e;_(this,d);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return P(g(e=c.call.apply(c,[this].concat(n))),"handleDismiss",(function(){(0,e.props.onFlyoutDismiss)()})),P(g(e),"onHide",(function(){e.props.onClick(),e.handleDismiss()})),P(g(e),"flyoutProps",(function(){var t,n=e.props,r=n.gridDescription,a=n.idealDirection,c=n.imageSrc,s=n.pinId,d=n.userId,p=n.board,_=n.sendType,h=n.fullName,y=n.profileUrl,m=n.element,v=n.viewParameter,g=n.component,b=n.viewType,P=n.onExternalSend,w=n.showCaret,S=n.todayArticle,x=n.ownerId,O={description:r,id:s,imageUrl:c,name:"",type:l.d.PIN,url:"/pin/".concat(s,"/"),ownerId:x},A=l.d.PIN;switch(_){case"user":O={description:r,id:d,imageUrl:c,name:h,type:l.d.PINNER,url:y},A=l.d.USER;break;case"board":O=p&&{description:p.description,id:p.id,imageUrl:p.imageUrl,name:p.name,type:l.d.BOARD,url:p.url,ownerId:null===(t=p.owner)||void 0===t?void 0:t.id},A=l.d.BOARD;break;case"today_article":O=S&&{description:S.subtitle||"",id:S.id,imageUrl:c,name:S.title,type:l.d.TODAY_ARTICLE,url:(0,o.Z)(S)},A=l.d.TODAY_ARTICLE}var j={element:m,component:g,onHide:e.onHide,onExternalSend:P,sendType:A,sharedObject:O,viewParameter:v,viewType:b};return{anchor:e.flyoutAnchor,idealDirection:a,onDismiss:e.handleDismiss,showCaret:w,children:(0,u.jsx)(i.default,f({},j))}})),e}return t=d,(n=[{key:"toggle",value:function(){var e=this.props,t=e.isOwnProfile,n=e.onToggleFlyout,r=e.sendType,o=e.userId,i=e.logContextEvent;"user"===r&&i({event_type:101,component:13675,element:1079,object_id_str:o,view_type:4,view_parameter:t?3106:3107}),n()}},{key:"render",value:function(){var e=this,t=this.props,n=t.Subject,r=t.inModal,o=t.isFlyoutOpen,i=t.shownWithinMasonry,l=t.shownWithinProfileHeader,c=this.flyoutProps(),d=c.anchor,p=c.idealDirection,_=c.showCaret,h=c.children,y=(0,u.jsx)(s.xu,{children:(0,u.jsx)(S,{children:function(t){return(0,u.jsx)(n,f({handleSendShareFlyoutButtonClick:function(n){t?t():(null!=n&&n.stopPropagation&&n.stopPropagation(),e.toggle())}},e.props))}})}),m=o&&(i||l?(0,u.jsx)(s.mh,{zIndex:l?w:void 0,children:(0,u.jsx)(s.xu,{zIndex:r?a.b7:void 0,position:r?"absolute":void 0,top:!!r||void 0,children:(0,u.jsx)(s.J2,{anchor:d,idealDirection:p,onDismiss:function(){e.handleDismiss()},showCaret:_,size:"flexible",positionRelativeToAnchor:!1,children:h})})}):(0,u.jsx)(s.J2,{anchor:d,idealDirection:p,onDismiss:function(){e.handleDismiss()},showCaret:_,size:"flexible",children:h}));return(0,u.jsxs)(s.xu,{ref:function(t){t&&(e.flyoutAnchor=t)},dangerouslySetInlineStyle:{__style:{pointerEvents:"auto"}},children:[y," ",m]})}}])&&h(t.prototype,n),r&&h(t,r),d}(r.Component);P(x,"defaultProps",{idealDirection:"down",onClick:function(){}});var O=n(112690);function A(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function j(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function E(e){return function(t){var n=(0,O.Z)();return(0,u.jsx)(x,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?A(Object(n),!0).forEach((function(t){j(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):A(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({Subject:e,logContextEvent:n},t))}}},202870:function(e,t,n){"use strict";n.d(t,{Z:function(){return s},j:function(){return c}});var r=n(898781),o=n(349700),i=n(773285),a=n(908390),l=n(515198),c=[0,2,3];function s(e){var t,n=e.hasAffiliateProducts,s=e.href,u=e.isPromoted,d=e.onNavigateSponsorClick,p=e.sponsorName,f=e.sponsorUsername,_=e.sponsorshipStatus,h=e.textWeight,y=void 0===h?"bold":h,m=(0,r.ZP)(),v=(0,i.F)().checkExperiment("mweb_web_android_ios_clbc_eu_ad_string").anyEnabled,g=(0,i.F)().checkExperiment("web_remove_paid_partnership_in_rejected_state").anyEnabled,b=s||(f?"/".concat(f,"/"):null),P=b&&p?(0,l.jsx)(a.rU,{href:b,onClick:d,children:(0,l.jsx)(a.xv,{weight:y,size:"200",children:p})},p):void 0;u?t=(0,o.nk)(m._('Promoted by {{ name }}', 'sponsorship.sponsorshipText.promotedByBrand', 'indicating the username of the person who promoted the pin'),{name:P}):_||0===_?p&&!c.includes(_)?t=(0,o.nk)(m._('Paid partnership with {{ name }}', 'closeup.creator.sponsoredPinTitle', 'Subtext of closeup creator card when sponsored by a brand'),{name:P}):g&&2===_||(t=m._('Paid partnership', 'closeup.creator.sponsoredPinTitle', 'Subtext of closeup creator card when the pin is sponsored but the sponsorship status is rejected/requested/unaffiliated')):n&&(t=m._('Includes sponsored products', 'sponsorship.sponsorshipText.affiliatedProducts', 'Subtext of pincard attribution for a pin with affiliated products'));var w=v&&!u?"Ad  ":"";return(0,l.jsxs)(a.xv,{inline:!0,size:"200",lineClamp:2,children:[w,t]})}},800751:function(e,t,n){"use strict";n.d(t,{$I:function(){return b},$o:function(){return f},CC:function(){return m},Hr:function(){return a},Jo:function(){return d},Q8:function(){return A},Ux:function(){return h},VX:function(){return x},XZ:function(){return y},Zo:function(){return v},aD:function(){return g},b2:function(){return w},dJ:function(){return o},g2:function(){return S},g6:function(){return s},il:function(){return l},lM:function(){return c},qN:function(){return p},qX:function(){return i},s4:function(){return _},ym:function(){return P},zQ:function(){return O}});var r=n(966113),o=546,i={height:136,width:272},a={advertise:r.Rf+"/advertise",targeting:r.Rf+"/advertise/#targeting",how_to_make_pins:r.Rf+"/basics/how-to-make-pins/#best-practices",success_stories:r.Rf+"/success-stories/"},l={status_page_header_background:"https://i.pinimg.com/originals/76/52/b8/7652b80aac786dac958ce996d9692771.png",additional_resources_business_advertise:"https://i.pinimg.com/originals/58/4d/6f/584d6f9e21d7e95b723c04015a7f3333.png",additional_resources_business_audience:"https://i.pinimg.com/originals/44/3d/67/443d671687e418a4ec23bb56419c509c.png",additional_resources_business_how_to_make_pins:"https://i.pinimg.com/originals/79/f4/99/79f499fedffcfd50ee86ebaac4f34e9a.png",additional_resources_business_success_stories:"https://i.pinimg.com/originals/e0/55/12/e05512dbb012d7bd1861d901dc851b2e.png"},c=["US","GB","CA","AU","DE","FR"],s=["ES","IT","AT","CH","NL","BR","MX"],u=["FR"],d=c.concat(s).filter((function(e){return!u.includes(e)})),p={PROCESSING:"PROCESSING",FAILED:"FAILED",COMPLETED:"COMPLETED",DISAPPROVED:"DISAPPROVED",UNDER_REVIEW:"UNDER_REVIEW"},f={APPROVED:"approved",PENDING:"pending",DISAPPROVED:"declined",APPEAL_PENDING:"appeal_pending"},_=Object.freeze({APPLIED:"APPLIED",IN_REVIEW:"IN_REVIEW",ACCEPTED:"ACCEPTED",NON_COMPLIANT:"NON_COMPLIANT",SUSPENDED:"SUSPENDED",CANCELLED:"CANCELLED",OUTBOUND_LEAD:"OUTBOUND_LEAD"}),h=function(e,t){switch(e){case"IN_PROGRESS":return t._('In-progress', 'BizHubHeader.VMPEntryPointStatus.label', 'User is currently in progress of becoming a Verified Merchant');case"IN_REVIEW":return t._('In review', 'BizHubHeader.VMPEntryPointStatus.label', 'Users account is currently in review to become a Verified Merchant');case"ACTIVE":return t._('Active', 'BizHubHeader.VMPEntryPointStatus.label', 'Users account is currently an active Verified Merchant');case"NEEDS_ATTENTION":return t._('Needs attention', 'BizHubHeader.VMPEntryPointStatus.label', 'Users account has an issue that needs attention in order to keep their Verified Merchant Status');case"SUSPENDED":return t._('Suspended', 'BizHubHeader.VMPEntryPointStatus.label', 'Users account is currently a suspended Verified Merchant');default:return e}},y=[_.NON_COMPLIANT,_.SUSPENDED],m=Object.freeze({UNSUPPORTED_MARKET:"unsupported_market",TAG_ID_NOT_CREATED:"tag_id_not_created",NO_TAG_TRAFFIC:"no_tag_traffic",HEALTH_SCORE_NOT_AVAILABLE:"health_score_not_available",UNHEALTHY:"unhealthy",ACCEPTABLE:"acceptable",HEALTHY:"healthy"}),v=Object.freeze({UNSTARTED:"workflow-status-unstarted",IN_PROGRESS:"workflow-status-in-progress",ACCEPTED:"check-circle",ATTENTION:"alert",REJECTED:"clear",RECOMMENDED:"info-circle"}),g=Object.freeze({UNSTARTED:"subtle",IN_PROGRESS:"success",ACCEPTED:"success",ATTENTION:"warning",REJECTED:"error",RECOMMENDED:"subtle"}),b={status:"APPLIED",userId:"user_undefined",is_approved:!1,last_compliant_at:""},P="Verified merchant program not yet available in this country",w=2e3,S={can_appeal:!0,appeal_count:0,appeal_comment:"",shipping_policy_url:"",return_policy_url:"",review_status:2,review_reasons:[]},x=Object.freeze({ACCOUNT_AGE:"ACCOUNT_AGE",DOMAIN_AGE:"DOMAIN_AGE",PROFILE_IMAGE:"PROFILE_IMAGE",PROFILE_COVER_IMAGE:"PROFILE_COVER_IMAGE",BIO:"BIO",SHOP_TAB:"SHOP_TAB",PINNER_FEEDBACK:"PINNER_FEEDBACK"}),O=[x.ACCOUNT_AGE,x.DOMAIN_AGE,x.PROFILE_IMAGE,x.PROFILE_COVER_IMAGE,x.BIO,x.SHOP_TAB,x.PINNER_FEEDBACK],A=Object.freeze({PASS:"PASS",FAIL:"FAIL"})},966676:function(e,t,n){"use strict";n.d(t,{Nb:function(){return l},Of:function(){return c},YO:function(){return a},x4:function(){return u}});var r=n(76911),o=n(620707),i=n(92261),a=function(e){var t=e.showProductDetailPage,n=e.isLargerPane,r=e.showCloseupContentRight;return t&&n?r?i.Uj:i.zT:1},l=(0,o.qe)((function(e){return{paneWidth:e.paneWidth,pdpCarouselSlotToPaneRatio:e.pdpCarouselSlotToPaneRatio,showCloseupContentRight:e.showCloseupContentRight,showProductDetailPage:e.showProductDetailPage,updateCloseupBodyContainerHeight:e.updateCloseupBodyContainerHeight,viewportSize:e.viewportSize,maxWidth:e.maxWidth}})),c={showCloseupContentRight:!0,showProductDetailPage:!1,updateCloseupBodyContainerHeight:function(){},viewportSize:"lg",paneWidth:{pdp:i.CI,regular:i.Gg},pdpCarouselSlotToPaneRatio:1,maxWidth:{pdp:i.Kn,regular:i.u6}},s=(0,r.createContext)(c);function u(){var e=(0,r.useContext)(s);if(!e)throw new Error("useCloseupContext must be used within CloseupContextProvider");return e}t.ZP=s},92261:function(e,t,n){"use strict";n.d(t,{CI:function(){return i},Ch:function(){return l},Gb:function(){return c},Gg:function(){return r},Ie:function(){return p},JV:function(){return _},KP:function(){return f},Kn:function(){return a},Uj:function(){return s},bx:function(){return h},d2:function(){return d},g9:function(){return y},iB:function(){return m},u6:function(){return o},zT:function(){return u}});var r=508,o=2*r,i=488,a=992,l=672,c=1176,s=.6,u=.84,d=40,p=72,f=740,_=60,h=912,y=32,m={ARTICLE:"https://schema.org/Article",BRAND:"https://schema.org/Brand",PRODUCT:"https://schema.org/Product",RECIPE:"https://schema.org/Recipe",OFFER:"https://schema.org/Offer",OUT_OF_STOCK:"https://schema.org/OutOfStock",PERSON:"https://schema.org/Person"}},814197:function(e,t,n){"use strict";n.d(t,{Cq:function(){return f},Dk:function(){return h},Fk:function(){return i},bI:function(){return o},fS:function(){return p},gw:function(){return u},j1:function(){return d},km:function(){return _},lI:function(){return l},lJ:function(){return a},mS:function(){return s},qW:function(){return c},t5:function(){return y}});var r=n(908390),o=new r.Ry(0),i=new r.Ry(1),a=3,l=new r.Ry(a),c=2,s=new r.Ry(c),u=new r.Ry(3),d=new r.Ry(3),p=3,f=4,_=new r.Ry(5),h=new r.Ry(100),y=new r.Ry(c)},538232:function(e,t,n){"use strict";n.d(t,{R:function(){return i},q:function(){return o}});var r=(0,n(425288).Z)("CloseupPageContext"),o=r.Provider,i=r.useHook},95551:function(e,t,n){"use strict";var r=n(898781),o=n(908390),i=n(780280),a=n(515198);t.Z=function(e){var t=e.onSendButtonClick,n=e.trackShareTap,l=e.color,c=e.size,s=e.bgColor,u=(0,r.ZP)(),d="android"===(0,i.B)().userAgent.platform;return(0,a.jsx)(o.hU,{accessibilityLabel:u._('Send', 'Board.Pin.SendButton', 'Accessible label for button to send a pin or a board'),onClick:function(e){var r=e.event;t(r),n()},size:c||"lg",bgColor:s||"transparent",iconColor:l||"darkGray",icon:d?"android-share":"share"})}},435497:function(e,t,n){"use strict";n.d(t,{Z:function(){return d}});var r=n(76911),o=n(908390),i=n(455024),a=n(515198);function l(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,i=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(c){l=!0,o=c}finally{try{a||null==n.return||n.return()}finally{if(l)throw o}}return i}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return c(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return c(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function s(e){var t=e.index,n=e.length,r=e.showBadge?.8:0;return(0,a.jsx)(o.xu,{alignItems:"center",color:"selected",display:"flex",height:35,justifyContent:"center",marginEnd:5,marginTop:5,position:"absolute",right:!0,rounding:2,width:35,zIndex:new o.Ry(1),dangerouslySetInlineStyle:{__style:{opacity:r,transition:"opacity .3s"}},children:(0,a.jsx)(o.xv,{color:"inverse",children:"".concat((null!=t?t:0)+1,"/").concat(n)})})}var u=n(564194);function d(e){var t,n,c,d=e.children,p=e.componentType,f=e.containerRef,_=e.contextLogData,h=e.disableTransition,y=e.gap,m=void 0===y?0:y,v=e.height,g=e.id,b=e.impressionType,P=e.index,w=e.showCarouselBadge,S=e.slideWidth,x=e.view,O=e.viewParameter,A=e.widthRatio,j=void 0===A?1:A,E=function(e){var t=e.index,n=l((0,r.useState)(!0),2),o=n[0],i=n[1],a=(0,r.useRef)(),c=(0,r.useRef)();return(0,r.useEffect)((function(){return a.current=setTimeout((function(){i(!1)}),3e3),function(){clearTimeout(a.current)}}),[]),(0,r.useEffect)((function(){c.current?(clearTimeout(a.current),i(!0)):c.current=t}),[t]),{showBadge:o}}({index:P}).showBadge,T=(0,r.useRef)();if(j>1||j<0)throw new Error("widthRatio should be between 0 and 1 inclusive");var I=Math.floor(S*j),C=r.Children.toArray(d),D=C.length*I,R=(null===(t=f.current)||void 0===t?void 0:t.clientWidth)||D;return(0,a.jsxs)(o.xu,{display:"flex",justifyContent:R>D?"center":"start",alignItems:"center",overflow:"hidden","data-test-id":"carousel-pin",children:[w&&(0,a.jsx)(s,{length:C.length,index:P,showBadge:E}),"BoardMoreIdeasRep"!==b&&(0,a.jsx)(u.Z,{trackCarousel:!0,impressionType:"Pin",loggingId:g,slotIndex:P,viewParameter:72,viewType:1,children:(0,a.jsx)(o.xu,{height:null!==(n=null!=v?v:null===(c=T.current)||void 0===c?void 0:c.clientHeight)&&void 0!==n?n:1,overflow:"hidden",position:"absolute",width:S})},"carousel-impression-key-".concat(P)),(0,a.jsx)(o.xu,{dangerouslySetInlineStyle:{__style:{transition:h?"":"left .3s",left:(0,i.CU)({slotWidth:I,gap:m,numberOfSlides:C.length,index:P,containerWidth:R})}},left:!0,display:"flex",direction:"row",position:"relative",children:C.map((function(e,t){var n=t===C.length-1,r=(0,a.jsx)(o.xu,{dangerouslySetInlineStyle:{__style:{marginRight:n?0:m}},"data-test-id":"carousel-img-".concat(t),height:null!=v?v:void 0,ref:T,width:I,children:e},"carousel-slot-".concat(g,"-").concat(t));return"BoardMoreIdeasRep"===b?(0,a.jsx)(u.Z,{componentType:p,contextLogData:_,impressionType:null!=b?b:"Pin",loggingId:g,slotIndex:t,viewParameter:null!=O?O:72,viewType:null!=x?x:1,children:r},"carousel-slot-".concat(g,"-").concat(t)):r}))})]})}},356725:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return m}});var r=n(506979),o=n(834911),i=n(447948),a=n(35495),l=n(407043),c=n(350118),s=n(966676),u=n(908390),d=n(515198);function p(e){return function(e){if(Array.isArray(e))return f(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return f(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return f(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function f(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function _(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function h(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_(Object(n),!0).forEach((function(t){y(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function y(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function m(e){var t=e.carouselData,n=e.carouselIndex,f=e.componentType,_=e.contextLogData,y=e.handleCarouselSwipe,m=e.isCloseup,v=e.isEditMode,g=e.pinId,b=e.viewParameter,P=e.viewType,w=e.variant,S=(0,l.v)().logContextEvent,x=(0,c.S6)()(g),O=t||(0,o.Z)({carouselData:null==x?void 0:x.carousel_data,images:null==x?void 0:x.images,richMetadata:null==x?void 0:x.rich_metadata,richSummary:null==x?void 0:x.rich_summary}),A=(0,r.useDispatch)();if(!O)return null;var j=function(e,t,n){v||void 0===i.yR||(e.preventDefault(),e.stopPropagation(),A((0,i.yR)(String(g),n))),void 0!==y&&y(n),function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,o=arguments.length>4?arguments[4]:void 0,i=arguments.length>5?arguments[5]:void 0,l=arguments.length>6?arguments[6]:void 0,c=arguments.length>7?arguments[7]:void 0,s=arguments.length>8?arguments[8]:void 0,u=arguments.length>9?arguments[9]:void 0;if(!(arguments.length>10?arguments[10]:void 0)){var d=i.carousel_slots,p=i.id;e({event_type:108,object_id_str:n,component:s,view_type:c,view_parameter:l,event_data:{pinCarouselSlotEventData:{carouselSlotId:(null==d?void 0:d[r])&&Number(d[r].id),carouselDataId:Number(p),carouselSlotIndex:r,toCarouselSlotIndex:o}},aux_data:h(h({},u),(0,a.Kl)(t)||{})})}}(S,x,g,t,n,O,b,P,f,_,v)},E=O.carousel_slots,T=void 0===E?[]:E,I=O.index,C=void 0!==n?n:I,D="default"===w,R=D?"white":"#555",k=D?"rgba(255, 255, 255, 0.5)":"lightGray";return(0,d.jsx)(s.ZP.Consumer,{children:function(e){return"sm"===e.viewportSize?null:(0,d.jsx)(u.xu,{alignItems:"center","data-test-id":"carousel-ellipsis",display:"flex",justifyContent:m?"end":"center",paddingY:v?1:0,children:p(Array(T.length).keys()).map((function(e){var t;return(0,d.jsx)(u.xu,{paddingX:1,children:(0,d.jsx)(u.iP,{accessibilityLabel:null!==(t=T[e].title)&&void 0!==t?t:"",fullWidth:!1,onTap:function(t){var n=t.event;return j(n,C,e)},rounding:"circle",children:(0,d.jsx)(u.xu,{"data-test-id":"ellipsis-size",height:8,width:8,dangerouslySetInlineStyle:{__style:{backgroundColor:e===C?R:k}},rounding:"circle"})})},g+e)}))})}})}},239062:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return m}});var r=n(506979),o=n(356725),i=n(834911),a=n(898781),l=n(447948),c=n(35495),s=n(407043),u=n(350118),d=n(908390),p=n(515198);function f(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function _(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?f(Object(n),!0).forEach((function(t){h(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function h(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var y={slider:{cursor:"pointer",padding:"30px 16px",position:"relative",zIndex:1,pointerEvents:"auto"}};function m(e){var t=e.addEllipsis,n=e.carouselIndex,f=e.carouselData,h=e.handleCarouselSwipe,m=e.isShowingLastSlide,v=e.pinId,g=e.contextLogData,b=e.viewParameter,P=e.viewType,w=e.componentType,S=e.isEditMode,x=e.forwardNode,O=e.backNode,A=(0,a.ZP)(),j=(0,r.useDispatch)(),E=(0,s.v)().logContextEvent,T=(0,u.S6)()(v),I=f||(0,i.Z)({carouselData:null==T?void 0:T.carousel_data,images:null==T?void 0:T.images,richMetadata:null==T?void 0:T.rich_metadata,richSummary:null==T?void 0:T.rich_summary});if(!I)return null;var C=function(e,t){return j((0,l.yR)(e,t))},D=I.carousel_slots,R=void 0===D?[]:D,k=I.index,z=void 0!==n?n:void 0===k?0:k,N=Math.max(0,z-1),L=Math.min(R.length-1,z+1),M=0===z,B=m||z===R.length-1,Z=function(e,t){!function(e,t,n,r,o,i){i||void 0===r||(e.preventDefault(),e.stopPropagation(),r(t,n)),void 0!==o&&o(n)}(e,v,t,C,h,S),function(e,t,n,r,o,i,a,l,s,u,d){if(!d||!i){var p=i.carousel_slots,f=i.id;e({event_type:108,object_id_str:n,component:s,view_type:l,view_parameter:a,event_data:{pinCarouselSlotEventData:{carouselSlotId:(null==p?void 0:p[r])&&Number(p[r].id),carouselDataId:Number(f),carouselSlotIndex:r,toCarouselSlotIndex:o}},aux_data:_(_({},u),(0,c.Kl)(t)||{})})}}(E,T,v,z,t,I,b,P,w,g,S)};return(0,p.jsxs)(d.xu,{display:"flex",justifyContent:"between",position:"absolute",alignItems:"center",left:!0,right:!0,bottom:!0,top:!0,children:[(0,p.jsx)("div",{"data-test-id":"carousel-slider-left",role:"presentation",onClick:function(e){Z(e,N)},onKeyUp:function(e){Z(e,N)},style:y.slider,children:(0,p.jsx)(d.xu,{alignItems:"center",dangerouslySetInlineStyle:{__style:{visibility:M?"hidden":"visible"}},display:"flex",height:"100%",justifyContent:"center",width:"100%",children:O||(0,p.jsx)(d.JO,{color:"inverse",icon:"arrow-back",accessibilityLabel:A._('View Previous', 'Button to advance carousel to the previous image', 'Button to advance carousel to the previous image')})})}),t&&(0,p.jsx)(o.default,{pinId:v,carouselIndex:n,carouselData:I,handleCarouselSwipe:h,variant:"default"}),(0,p.jsx)("div",{"data-test-id":"carousel-slider-right",role:"presentation",onClick:function(e){Z(e,L)},onKeyUp:function(e){Z(e,L)},style:y.slider,children:(0,p.jsx)(d.xu,{alignItems:"center",dangerouslySetInlineStyle:{__style:{visibility:B?"hidden":"visible"}},display:"flex",height:"100%",justifyContent:"center",width:"100%",children:x||(0,p.jsx)(d.JO,{color:"inverse",icon:"arrow-forward",accessibilityLabel:A._('View Next', 'Button to advance carousel to the next image', 'Button to advance carousel to the next image')})})})]})}},876371:function(e,t,n){"use strict";n.d(t,{Z:function(){return A}});var r=n(76911),o=n(564194),i=n(834911),a=n(737022),l=n(310227),c=n(350118),s=n(898781),u=n(908390),d=n(455024),p=n(444445),f=n(515198);function _(e){return(_="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function h(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function y(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function m(e,t){return(m=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function v(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=P(e);if(t){var o=P(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return g(this,n)}}function g(e,t){if(t&&("object"===_(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return b(e)}function b(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function P(e){return(P=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function w(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function S(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?w(Object(n),!0).forEach((function(t){x(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):w(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function x(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var O=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&m(e,t)}(c,e);var t,n,r,i=v(c);function c(){var e;h(this,c);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return x(b(e=i.call.apply(i,[this].concat(n))),"state",{showBadge:!0}),x(b(e),"renderBadge",(function(){var t=e.props,n=t.carouselData,r=t.isCloseup,o=t.showCarouselBadge;if(!n)return null;var i=e.state.showBadge,a=n.carousel_slots,l=n.index,c=i?.8:0;return!r&&o?(0,f.jsx)(u.xu,{alignItems:"center",color:"selected",display:"flex",height:35,justifyContent:"center",marginEnd:5,marginTop:5,position:"absolute",right:!0,rounding:2,width:35,zIndex:new u.Ry(1),dangerouslySetInlineStyle:{__style:{opacity:c,transition:"opacity .3s"}},children:(0,f.jsx)(u.xv,{color:"inverse",children:"".concat((null!=l?l:0)+1,"/").concat((null!=a?a:[]).length)})}):null})),e}return t=c,(n=[{key:"componentDidMount",value:function(){var e=this;this.hideBadgeTimeout=setTimeout((function(){return e.setState({showBadge:!1})}),3e3)}},{key:"componentDidUpdate",value:function(e){var t=this,n=this.state.showBadge,r=e.carouselData,o=this.props.carouselData;if(r&&o){var i=r.index,a=o.index;n&&(this.hideBadgeTimeout&&clearTimeout(this.hideBadgeTimeout),this.hideBadgeTimeout=setTimeout((function(){return t.setState({showBadge:!1})}),3e3)),i!==a&&(this.hideBadgeTimeout&&clearTimeout(this.hideBadgeTimeout),this.setState({showBadge:!0}))}}},{key:"componentWillUnmount",value:function(){this.hideBadgeTimeout&&clearTimeout(this.hideBadgeTimeout)}},{key:"render",value:function(){var e=this,t=this.props,n=t.isCloseup,r=t.carouselIndex,i=t.closeupHeight,c=t.closeupWidth,s=void 0===c?0:c,_=t.widthRatio,h=void 0===_?1:_,y=t.cropHeight,m=t.cropWidth,v=t.carouselData,g=t.disableTransition,b=t.highResOnly,P=t.lowResOnly,w=t.onError,O=t.onLoad,A=t.pinId,j=t.isEditMode,E=t.isDenseView,T=t.pin;if(!v)return null;if(h>1||h<0)throw new Error("widthRatio should be between 0 and 1 inclusive");var I,C=v.carousel_slots,D=void 0===C?[]:C,R=v.index,k=void 0===R?0:R,z=void 0!==r?r:k,N=!n&&m,L=D[z].images;I=n?s:N||(b?474:E?p.Lo:p.yF);var M,B,Z=Math.floor(I*h),F=(null==L?void 0:L["236x"])||{},U=y||F.height||0,G=m||F.width||236,V=i||U/G*Z,H=(M=D.reduce((function(e,t){var n,r=t.images,o=(null==r?void 0:r["736x"])||(null==r?void 0:r["236x"])||{},i=o.height,a=void 0===i?1:i,l=o.width,c=void 0===l?1:l,s="".concat(c,"x").concat(a),u=(null===(n=e[s])||void 0===n?void 0:n.times)||0;return S(S({},e),{},x({},s,{imageHeight:a,imageWidth:c,times:u+1}))}),{}),B=Object.keys(M).reduce((function(e,t){return M[t].times>e.times?M[t]:e}),{times:-1,imageHeight:-1,imageWidth:-1}),Object.keys(M).length>1?{imageHeight:B.imageHeight,imageWidth:B.imageWidth}:null);return(0,f.jsxs)(u.xu,{height:V,display:"flex",alignItems:"center",overflow:"hidden","data-test-id":"carousel-pin",minHeight:l.Ml,"data-test-image-signature":null==T?void 0:T.image_signature,children:[!j&&this.renderBadge(),(0,f.jsx)(o.Z,{trackCarousel:!0,impressionType:"Pin",loggingId:A,slotIndex:k,viewParameter:72,viewType:1,children:(0,f.jsx)(u.xu,{position:"absolute",height:V,width:Z,overflow:"hidden"})},"carousel-impression-key-".concat(z)),(0,f.jsx)(u.xu,{width:Z*D.length,dangerouslySetInlineStyle:{__style:{transition:g?"":"left .3s",left:(0,d.vF)(D.length,Z,I,z)}},left:!0,height:"100%",display:"flex",direction:"row",position:"relative",children:D.map((function(t,r){if(n){var o=r===D.length-1;return function(e,t){var n=e.pinId,r=e.slot,o=e.slotIndex,i=e.onError,l=e.onLoad,c=e.widthToUse,s=e.gap,p=(0,a.Z)(r.images)||{},_=p.url,h=p.width,y=p.height,m=r.details,v=void 0===m?"":m,g=(0,d.GH)(v,t,o);return(0,f.jsx)(u.xu,{"data-test-id":"carousel-slot-container",width:c,height:"100%",marginEnd:s,children:(0,f.jsx)(u.zd,{height:"100%",wash:!0,children:(0,f.jsx)(u.Ee,{alt:g,fit:"contain",naturalHeight:null!=y?y:1,naturalWidth:null!=h?h:1,onError:i,onLoad:l,src:null!=_?_:""})})},"carousel-slot-".concat(n,"-").concat(o))}({pinId:A,slot:t,slotIndex:r,onError:w,onLoad:O,widthToUse:Z,gap:Z<I&&!o?1:0},e.props.i18n)}return function(e,t,n,r,o,i,a,l,c,s,p,_,h,y,m){var v,g,b,P,w,S,x,O,A,j,E,T,I=t.images,C=t.details,D=void 0===C?"":C,R=236,k=236,z="";if(o?(R=474,k=I&&Math.min(R/.8,R/((null!==(w=null===(S=I["564x"])||void 0===S?void 0:S.width)&&void 0!==w?w:1)/(null!==(x=null===(O=I["564x"])||void 0===O?void 0:O.height)&&void 0!==x?x:1))),z=I&&(null===(A=I["564x"])||void 0===A?void 0:A.url)):I&&I["736x"]?(k=I&&I["736x"]&&I["736x"].height,R=I&&I["736x"]&&I["736x"].width,z=I&&I["736x"]&&I["736x"].url):I&&I["236x"]&&(k=I&&I["236x"]&&I["236x"].height,R=I&&I["236x"]&&I["236x"].width,z=I&&I["236x"]&&I["236x"].url),h&&y&&(k=Math.min(h*y,null!==(j=k)&&void 0!==j?j:1)),i)P="".concat(null!==(E=null==I||null===(T=I["236x"])||void 0===T?void 0:T.url)&&void 0!==E?E:""," 1x");else if(o){var N,L;P="".concat(null!==(N=null==I||null===(L=I["564x"])||void 0===L?void 0:L.url)&&void 0!==N?N:""," 1x")}else{var M,B,Z;P=[(null==I?void 0:I["474x"])&&"".concat(null!==(M=I["474x"].url)&&void 0!==M?M:""," 2x"),(null==I?void 0:I["736x"])&&"".concat(null!==(B=I["736x"].url)&&void 0!==B?B:""," 3x"),(null==I?void 0:I.orig)&&"".concat(null!==(Z=I.orig.url)&&void 0!==Z?Z:""," 4x")].filter(Boolean).join(", ")}var F=(0,d.GH)(D,e,r),U=_?void 0:k,G=_?void 0:R,V=m?{boxHeight:null==m?void 0:m.imageHeight,boxWidth:null==m?void 0:m.imageWidth}:{boxHeight:U,boxWidth:G},H=V.boxHeight,W=V.boxWidth;return(0,f.jsx)(u.xu,{"data-test-id":"carousel-slot-container",height:H,width:W,children:(0,f.jsx)(u.xu,{height:_?p:void 0,width:_||void 0,"data-test-id":"carousel-img-".concat(r),children:(0,f.jsx)(u.Ee,{alt:F,fit:_?"cover":"none",naturalHeight:null!==(v=k)&&void 0!==v?v:1,naturalWidth:null!==(g=R)&&void 0!==g?g:1,onError:a,onLoad:l,src:null!==(b=z)&&void 0!==b?b:"",srcSet:P})})},"carousel-slot-".concat(n,"-").concat(r))}(e.props.i18n,t,A,r,b,P,w,O,0,0,y,m,V,Z,H)}))})]})}}])&&y(t.prototype,n),r&&y(t,r),c}(r.Component);function A(e){var t=(0,s.ZP)(),n=(0,c.S6)()(e.pinId)||e.pin,r=(0,i.Z)({carouselData:null==n?void 0:n.carousel_data,images:null==n?void 0:n.images,richMetadata:null==n?void 0:n.rich_metadata,richSummary:null==n?void 0:n.rich_summary,shouldUnifyImageSizes:!0});return(0,f.jsx)(O,S(S({},e),{},{carouselData:r,i18n:t}))}x(O,"defaultProps",{showCarouselBadge:!0})},751191:function(e,t,n){"use strict";var r=n(76911),o=n(898781),i=n(908390),a=n(515198);function l(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,i=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(c){l=!0,o=c}finally{try{a||null==n.return||n.return()}finally{if(l)throw o}}return i}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return c(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return c(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}t.Z=function(e){var t=e.iconType,n=e.showFab,c=e.backgroundColor,s=e.hoverColor,u=e.iconColor,d=(0,o.ZP)(),p=l((0,r.useState)(!1),2),f=p[0],_=p[1];return(0,a.jsx)(i.zd,{rounding:6,children:(0,a.jsx)(i.xu,{opacity:f?1:.8,rounding:"circle",onMouseEnter:function(){return _(!0)},onMouseLeave:function(){return _(!1)},"data-test-id":"navigation-fab-container",children:(0,a.jsx)(i.xu,{width:48,height:48,color:f?s:c,display:"flex",justifyContent:"center",alignItems:"center",opacity:n?1:0,dangerouslySetInlineStyle:{__style:{transition:"opacity 0.3s linear"}},"data-test-id":"navigation-fab",children:"forward"===t?(0,a.jsx)(i.JO,{color:u,icon:"arrow-forward",accessibilityLabel:d._('View Next', 'Button to advance carousel to the next image', 'Button to advance carousel to the next image')}):(0,a.jsx)(i.JO,{color:u,icon:"arrow-back",accessibilityLabel:d._('View Previous', 'Button to advance carousel to the previous image', 'Button to advance carousel to the previous image')})})})})}},455024:function(e,t,n){"use strict";n.d(t,{CU:function(){return i},GH:function(){return c},Iw:function(){return l},gA:function(){return s},tD:function(){return a},vF:function(){return u}});var r=function e(t){var n=t.containerWidth,r=t.contentWidth,o=t.index,i=t.slotAndGapWidth,a=o-1,l=a*i;return r-l>=n?l:e({index:a,slotAndGapWidth:i,containerWidth:n,contentWidth:r})},o=function(e){var t=e.containerWidth,n=e.contentWidth,o=e.gap,i=e.index,a=e.slidesShownPerPosition,l=e.slotAndGapWidth;return r({containerWidth:t,contentWidth:n,index:i,slotAndGapWidth:l})+function(e){var t=e.slidesShownPerPosition,n=e.slotAndGapWidth;return n-(t-parseInt(t,10))*n}({slidesShownPerPosition:a,slotAndGapWidth:l})-o},i=function(e){var t=e.containerWidth,n=e.gap,r=e.index,i=e.numberOfSlides,a=e.slotWidth+n,l=a*i;if(l<=t)return 0;var c=t/a,s=function(e){var t=e.index,n=e.numberOfSlides,r=e.slidesShownPerPosition;return n-t-Math.floor(r)<1}({index:r,numberOfSlides:i,slidesShownPerPosition:c})?o({containerWidth:t,contentWidth:l,gap:n,index:r,slidesShownPerPosition:c,slotAndGapWidth:a}):r*a;return s?Math.round(-s):0},a=function(e){var t=e.containerWidth,n=e.gap,r=e.index,o=e.numberOfSlides,a=e.slotWidth,l=(a+n)*o;if(l<=t||0===t)return!0;var c=i({containerWidth:t,gap:n,index:r,numberOfSlides:o,slotWidth:a}),s=l-t;return Math.abs(c)+n>=s},l=function(e){var t=e.containerWidth,n=e.currentIndex,r=e.gap,o=e.index,a=e.numberOfSlides,l=e.slotWidth,c=l+r;return c*a<=t||0===t||i({containerWidth:t,gap:r,index:n,numberOfSlides:a,slotWidth:l})+c*o<t+c},c=function(e,t,n){return e||"".concat(t._('carousel image', 'Alternate text for a carousel image that indicates it is a carousel pin, with carousel index followed', 'Alternate text for a carousel image that indicates it is a carousel pin, with carousel index followed')," ").concat(n)},s=function(e){var t,n,r,o,i,a,l,c=e.highResOnly,s=e.lowResOnly,u=e.slot.images;return s?"".concat(null!==(o=null==u||null===(i=u["236x"])||void 0===i?void 0:i.url)&&void 0!==o?o:""," 1x"):c?"".concat(null!==(a=null==u||null===(l=u["564x"])||void 0===l?void 0:l.url)&&void 0!==a?a:""," 1x"):[(null==u?void 0:u["474x"])&&"".concat(null!==(t=u["474x"].url)&&void 0!==t?t:""," 2x"),(null==u?void 0:u["736x"])&&"".concat(null!==(n=u["736x"].url)&&void 0!==n?n:""," 3x"),(null==u?void 0:u.orig)&&"".concat(null!==(r=u.orig.url)&&void 0!==r?r:""," 4x")].filter(Boolean).join(", ")},u=function(e,t,n,r){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0;if(n===t)return r*t*-1;var i=Math.floor(n-t),a=t+o;return r===e-1?-1*r*a+i:-1*r*a}},92331:function(e,t,n){"use strict";n.d(t,{Z:function(){return h}});var r=n(654874),o=n(564194),i=n(676142),a=n(444445),l=n(407043),c=n(940882),s=n(908390),u=n(515198);function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function p(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(Object(n),!0).forEach((function(t){f(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function f(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var _=a.yF;function h(e){var t=e.contextLogData,n=e.bubbles,a=e.id,d=e.referringSource,f=e.slotIndex,h=e.storyType,y=e.title,m=e.titleIcon,v=e.viewType,g=e.viewParameter,b=(0,l.v)().logContextEvent,P=n.map((function(e){return e.type+":"+e.id})).join("|");return(0,u.jsx)(o.Z,{viewType:v,componentType:200,viewParameter:g,loggingId:a,objectIdStr:a,contextLogData:p({story_type:h,content_ids:P},t),impressionType:"Story",slotIndex:f,children:(0,u.jsxs)(s.xu,{children:[y&&(0,u.jsxs)(s.xu,{display:"flex",marginBottom:1,justifyContent:"center",alignItems:"center",children:["number"==typeof m&&m!==c.J&&(0,u.jsx)(s.xu,{marginEnd:2,dangerouslySetInlineStyle:{__style:{paddingTop:1}},children:(0,u.jsx)(s.JO,{accessibilityLabel:"",color:"default",icon:(0,c.Z)(m),size:14})}),(0,u.jsx)(s.xv,{weight:"bold",children:(0,i.Z)(y)})]}),n.map((function(e,t){return(0,u.jsx)(s.xu,{paddingY:1,flex:"none",children:(0,u.jsx)(r.Z,{bubble:e,onClick:function(e){b({event_type:101,object_id_str:e,view_type:v,view_parameter:g,component:200})},referringSource:d,height:103,width:_,storyId:a,viewType:v,viewParameter:g,slotIndex:t,contextLogData:{content_ids:P,story_type:h}})},"bubble-".concat(e.id))}))]})})}},798821:function(e,t){"use strict";t.Z={STOREFRONT_LOCALE_STORAGE_KEY:"merchantStorefront.storefrontSettings.locale"}},990823:function(e,t,n){"use strict";n.d(t,{ZP:function(){return c},tY:function(){return u},Yh:function(){return s}});var r=n(506979),o=n(784590),i=n(19121);var a=0,l=1;function c(e){var t,n=(0,i.Z)(),r=n.isAuth&&n.id===e,a=(0,o.Z)(!n.isAuth||r?null:{name:"UserResource",options:{field_set_key:"quicksave",user_id:e}});return{showEnabledSaveBehavior:r&&n.has_quicksave_board||!(!n.isAuth||null===(t=(null!=a?a:{}).data)||void 0===t||!t.has_quicksave_board)}}function s(e){var t,n=(0,r.useDispatch)(),a=(0,i.Z)(),l=a.isAuth&&!!a.boardCount&&a.boardCount<5&&e,c=(0,o.Z)(l&&e?{name:"UserResource",options:{field_set_key:"save_behavior",user_id:a.isAuth&&a.id}}:null);return a.isAuth&&void 0===a.save_behavior&&c&&null!==(t=c.data)&&void 0!==t&&t.id&&n({type:"UPDATE_USER_SAVE_BEHAVIOR",payload:{saveBehavior:c.data.save_behavior}}),{showEnabledSaveBehavior:l}}function u(e){var t,n=(0,i.Z)();return e&&(n.save_behavior===a?t={type:"classic"}:n.save_behavior===l&&(t={type:"inline"})),{saveBehaviorType:t}}},151645:function(e,t,n){"use strict";function r(e){var t=e.user,n=e.viewer;return Boolean(n.isAuth&&(null==t?void 0:t.username)===n.username)}n.d(t,{Z:function(){return r}})},565380:function(e,t,n){"use strict";n.d(t,{$B:function(){return d},L6:function(){return _},S5:function(){return f},UI:function(){return s},Up:function(){return y},jl:function(){return u},vW:function(){return p},yK:function(){return h}});var r,o,i=n(833991),a=n(977558),l=n(908390);function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var s=new l.H3([new l.Ry(i.HW),new l.Ry(a.fe)]),u=1e5,d={ALL:"ALL",FEATURED:"FEATURED",CATEGORY:"CATEGORY"},p={SectionCategories:"SectionCategories",SectionEditYourShop:"SectionEditYourShop",SectionFeaturedProductGroups:"SectionFeaturedProductGroups"},f=(c(r={},p.SectionCategories,d.CATEGORY),c(r,p.SectionFeaturedProductGroups,d.FEATURED),c(r,p.SectionEditYourShop,d.ALL),r),_=(c(o={},p.SectionCategories,14126),c(o,p.SectionFeaturedProductGroups,14127),o),h={FEATURED:"featured_product_groups",CATEGORY:"featured_categories_product_groups"},y="/product-catalogs"},390598:function(e,t,n){"use strict";n.d(t,{C:function(){return d},Z:function(){return u}});var r=n(76911),o=n(833759),i=n(908390),a=n(407043),l=n(515198);function c(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,i=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(c){l=!0,o=c}finally{try{a||null==n.return||n.return()}finally{if(l)throw o}}return i}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return s(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return s(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var u={HEIGHT:362,WIDTH:362};function d(e){var t,n,s,d,p=e.productGroup,f=e.preferredPreviewPinSizes,_=void 0===f?[]:f,h=e.coverFit,y=void 0!==h&&h,m=(0,a.v)().logContextEvent,v=p.cover_images&&p.cover_images[0]&&(0,o.cB)(p.cover_images[0]),g=u.WIDTH,b=u.HEIGHT,P=p.preview_pins&&p.preview_pins[0]&&p.preview_pins[0].images,w=c((0,r.useState)(!v),2),S=w[0],x=w[1];P&&S&&(d=_.concat("orig").map((function(e){return P[e]})).find((function(e){return!!e})));var O=S?null===(t=d)||void 0===t?void 0:t.height:b,A=S?null===(n=d)||void 0===n?void 0:n.width:g,j=S?null===(s=d)||void 0===s?void 0:s.url:v;return O&&A&&j?(0,l.jsx)(i.Ee,{alt:"",naturalHeight:O,naturalWidth:A,src:j,fit:y?"cover":"contain",onError:function(){S||(m({event_type:10048,component:14004,aux_data:{product_group_cover_image_url:v}}),x(!0))}}):null}},81300:function(e,t,n){"use strict";n.d(t,{Z:function(){return j}});var r=n(76911),o=n(121151),i=n(6637),a=n(499128),l=n(487392),c=n(898781),s=n(784590),u=n(19121),d=n(833991),p=n(977558),f=n(349700),_=n(407043),h=n(35066),y=n(343341),m=n(833759),v=n(908390),g=n(400264),b=n(515198);function P(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,i=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(c){l=!0,o=c}finally{try{a||null==n.return||n.return()}finally{if(l)throw o}}return i}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return w(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return w(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function w(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var S=new v.H3([new v.Ry(d.HW),new v.Ry(p.fe)]),x=316;function O(e){var t=e.onFileUpload,n=(0,c.ZP)(),o=P((0,r.useState)(!1),2),i=o[0],a=o[1],l=(0,r.useRef)(null),s=n._('Upload from computer', 'ProductGroupDetailsModal.uploadFromComputer', 'Dropdown label to upload image file from your computer');return(0,b.jsxs)(v.kC,{justifyContent:"center",children:[(0,b.jsx)(v.hU,{accessibilityExpanded:i,accessibilityHaspopup:!0,accessibilityLabel:n._('Upload product group cover image menu', 'ProductGroupDetailsModal.productGroupCoverImageA11y', 'Accessibility text for upload menu'),bgColor:"lightGray",icon:"edit",iconColor:"darkGray",onClick:function(){return a((function(e){return!e}))},ref:l,size:"lg"}),i&&(0,b.jsx)(v.Lt,{anchor:l.current,id:"product-group-image-dropdown",onDismiss:function(){return a(!1)},children:(0,b.jsx)(v.Lt.Item,{onSelect:function(){a(!1),t()},option:{value:s,label:s}})})]})}function A(e){var t=e.image,n=e.onFileUpload,r=e.onError,o=(0,c.ZP)(),i=o._('Product Group Cover Image', 'ProductGroupDetailsModal.productGroupCoverImageAlt', 'Alt text for product group cover image');return(0,b.jsxs)(v.xu,{position:"relative",children:[(0,b.jsx)(v.xu,{height:x,width:x,rounding:5,overflow:"hidden",children:(0,b.jsx)(v.Ee,{alt:i,color:"#EFEFEF",fit:"cover",naturalHeight:1,naturalWidth:1,src:t,onError:r})}),(0,b.jsx)(v.xu,{position:"absolute",top:!0,right:!0,padding:4,children:(0,b.jsx)(O,{onFileUpload:n})})]})}function j(e){var t,n,d,p=e.onDismiss,w=e.onSubmit,O=e.productGroup,j=(0,_.v)().logContextEvent,E=(0,c.ZP)(),T=E._('Edit product group display', 'ProductGroupDetailsModal.heading', 'Modal title'),I=(0,u.Z)().id||"",C="/v3/business/users/".concat(I,"/storefront/product_group_image/"),D=P((0,r.useState)(""),2),R=D[0],k=D[1],z=P((0,r.useState)(""),2),N=z[0],L=z[1],M=P((0,r.useState)(),2),B=M[0],Z=M[1],F=P((0,r.useState)(),2),U=F[0],G=F[1],V=P((0,r.useState)(!1),2),H=V[0],W=V[1],K=P((0,r.useState)(0),2),Y=K[0],X=K[1],q=P((0,r.useState)((new Date).getTime()),1)[0],J=O.group_type!==m.yh,$=(0,l.Z)(),Q=$.merchantId,ee=$.advertiserId,te=(0,y.F9)().showOneToast,ne=(0,h.S)().updateStorefrontLastUpdated,re=(0,g.Ib)({advertiserId:ee,merchantId:Q,productGroupsIds:[O.id],uniq:q},!1,!0),oe=(0,s.Z)({name:"ApiResource",options:{url:C,data:{product_group_ids:[O.id]},uniq:q},noCache:!0}),ie=(0,r.useRef)(),ae=Number(O.id),le=null===(t=re.data)||void 0===t?void 0:t.find((function(e){return e.id===ae})),ce=re.isLoaded&&oe.isLoaded,se=le&&(R!==le.name||N!==(le.description||"")||!!B),ue=le&&R!==le.name,de=le&&N!==(le.description||""),pe=ce?(0,m.cB)(null===(n=oe.data)||void 0===n||null===(d=n[O.id])||void 0===d?void 0:d[0]):null,fe=O.preview_pins[0],_e=null==fe?void 0:fe.image_signature,he=(0,m.cB)(null==fe?void 0:fe.images),ye=U||[pe,he].filter((function(e){return!!e}))[Y];(0,r.useEffect)((function(){le&&(k(le.name||""),L(le.description||""))}),[le]),(0,r.useEffect)((function(){j({event_type:9854,component:13998})}),[j]);var me=function(){p(),j({event_type:9856,component:13998})},ve=E._('Save', 'ProductGroupDetailsModal.SaveBtn', 'Button to save product group details changes'),ge=E._('Cancel', 'ProductGroupDetailsModal.CancelBtn', 'Button to cancel product group details changes');return(0,b.jsx)(v.mh,{zIndex:S,children:(0,b.jsx)(o.ZP,{accessibilityModalLabel:T,align:"center",heading:T,onDismiss:me,footer:ce?(0,b.jsxs)(v.kC,{alignItems:"start",children:[(0,b.jsx)(v.xu,{width:"50%",children:(0,b.jsx)(v.xv,{size:"300",children:(0,f.nk)(E._('To edit items in this product group, visit {{catalogsLink}}', 'ProductGroupDetailsModal.coverImage', 'heading for cover image form'),{catalogsLink:(0,b.jsx)(v.rU,{href:"/product-catalogs",display:"inlineBlock",target:"blank",underline:"hover",children:(0,b.jsx)(v.xv,{weight:"bold",inline:!0,children:E._('Pinterest Catalogs', 'ProductGroupDetailsModal.catalogsLink', 'link for catalogs')})},"product-catalogs-link")})})}),(0,b.jsx)(v.xu,{width:"50%",children:(0,b.jsxs)(v.kC,{gap:{row:2,column:0},alignItems:"center",justifyContent:"end",children:[(0,b.jsx)(v.zx,{color:"gray",text:ge,onClick:me}),(0,b.jsx)(v.zx,{color:"red",text:ve,onClick:function(){var e=pe?B:B||_e,t=[],n=[];e&&(t.push(i.Z.create("ApiResource",{url:C,data:{image_signatures:[e],product_group_id:O.id}}).callUpdate()),n.push("cover_image")),(ue||de)&&(t.push(i.Z.create("ProductGroupsResource",{name:R,description:N,productGroupId:Number(O.id),filters:null==le?void 0:le.filter_v2}).callUpdate()),ue&&n.push("name"),de&&n.push("description")),j({event_type:9857,component:13998,aux_data:{product_group_modal_changes:n.join(",")}}),p(),Promise.all(t).then((function(){w(),ne((new Date).getTime()),te((function(e){var t=e.hideToast;return(0,b.jsx)("div",{className:"ProductGroupSavedToast",children:(0,b.jsx)(a.ZP,{duration:m.QE,onHide:t,text:E._('Product group saved', 'MerchantStorefront.ProductGroupDetailsModal.pgSaved', 'toast text')})})}))}))},disabled:!se})]})})]},"product-group-details-footer"):(0,b.jsx)(r.Fragment,{}),size:J?"md":"sm",children:(0,b.jsx)(v.xu,{paddingX:8,marginBottom:2,children:ce?(0,b.jsxs)(v.kC,{justifyContent:"center",children:[(0,b.jsxs)(v.xu,{width:320,children:[(0,b.jsx)(v.xu,{marginBottom:4,children:(0,b.jsx)(v.xv,{size:"300",weight:"bold",children:E._('Cover image', 'ProductGroupDetailsModal.coverImage', 'heading for cover image form')})}),(0,b.jsx)("input",{accept:"image/*","data-test-id":"cover-image",id:"product-group-image-upload",onChange:function(e){if(e.target instanceof HTMLInputElement){var t=e.target.files[0],n=new FileReader;t&&n.readAsDataURL(t),n.addEventListener("load",(function(){W(!0),j({event_type:9855,component:13998}),i.Z.create("ApiResource",{url:C,data:{image_base64:n.result}}).callCreate().then((function(e){var t,r;Z(null===(t=e.resource_response)||void 0===t||null===(r=t.data)||void 0===r?void 0:r.image_signature),W(!1),"string"==typeof n.result&&G(n.result)}))}),!1)}},ref:ie,style:{display:"none"},type:"file"}),H&&(0,b.jsx)(v.xu,{height:x,width:x,rounding:5,color:"secondary",justifyContent:"center",direction:"column",display:"flex",children:(0,b.jsx)(v.$j,{accessibilityLabel:E._('Uploading product group cover image', 'ProductGroupDetailsModal.uploadingCoverImage', 'spinner accessibility label'),show:!0})}),!H&&ye&&(0,b.jsx)(A,{image:ye,onFileUpload:function(){var e;null===(e=ie.current)||void 0===e||e.click()},onError:function(){return X(Y+1)}})]}),J&&(0,b.jsxs)(v.xu,{width:320,marginStart:4,children:[(0,b.jsx)(v.xu,{marginBottom:4,children:(0,b.jsx)(v.xv,{size:"300",weight:"bold",children:E._('Title', 'ProductGroupDetailsModal.name', 'heading for product group name input')})}),(0,b.jsx)(v.nv,{id:"name",onChange:function(e){var t=e.value;return k(t.slice(0,255))},size:"lg",type:"text",value:R}),(0,b.jsxs)(v.xu,{marginTop:2,marginBottom:4,height:30,children:[R&&(0,b.jsx)(v.xv,{size:"100",color:"subtle",children:E._('Changing your product group\'s name in your shop will also change its name in Catalogs', 'ProductGroupDetailsModal.pgName', 'subheading for name form')}),!R&&(0,b.jsx)(v.xv,{size:"100",color:"error",children:E._('This field can\'t be blank!', 'ProductGroupDetailsModal.nameEmptyError', 'error message for an empty name input')})]}),(0,b.jsx)(v.xu,{marginBottom:4,children:(0,b.jsx)(v.xv,{size:"300",weight:"bold",children:E._('Description', 'ProductGroupDetailsModal.description', 'heading for description form')})}),(0,b.jsx)(v.xu,{height:178,children:(0,b.jsx)(v.Kx,{id:"description",onChange:function(e){var t=e.value;return L(t.slice(0,155))},placeholder:E._('Tell shoppers on Pinterest more about this product group', 'ProductGroupDetailsModal.descriptionPlaceholder', 'textarea placeholder for product group description'),value:N,rows:7})})]})]}):(0,b.jsx)(v.$j,{accessibilityLabel:E._('Loading product group details', 'ProductGroupDetailsModal.loadingSpinner', 'spinner accessibility label'),show:!0})})})})}},478144:function(e,t,n){"use strict";n.d(t,{Z:function(){return _}});var r=n(76911),o=n(81300),i=n(390598),a=n(898781),l=n(908390),c=n(515198);function s(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,i=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(c){l=!0,o=c}finally{try{a||null==n.return||n.return()}finally{if(l)throw o}}return i}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return u(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return u(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var d=function(){},p=function(e){var t=e.url,n=e.onClick,r=e.i18n;return(0,c.jsx)(l.zx,{accessibilityLabel:r._('Shop button', 'ProductGroupV2.shopButton.accessibilityLabel', 'Shop button for product group rep v2'),size:"lg",text:r._('Shop', 'ProductGroupV2.shopButton.text', 'Shop button text for product group rep v2'),color:"white",role:"link",href:t,onClick:n})},f=function(e){var t=e.i18n;return(0,c.jsx)(l.zx,{accessibilityLabel:t._('Shop button', 'ProductGroupV2.shopButton.accessibilityLabel', 'Shop button for product group rep v2'),size:"lg",text:t._('Shop', 'ProductGroupV2.shopButton.text', 'Shop button text for product group rep v2'),color:"white",role:"button"})};function _(e){var t=e.onClick,n=e.productGroup,u=e.showControls,_=e.url,h=(0,a.ZP)(),y=h._('Edit product group display', 'ProductGroupV2.editTooltip', 'Tooltip text for edit product group button'),m=(h._('Remove product group from shop', 'ProductGroupV2.removeTooltip', 'Tooltip text for remove product group button'),s((0,r.useState)(!1),2)),v=m[0],g=m[1],b=s((0,r.useState)(!1),2),P=b[0],w=b[1],S=!(!_||!t),x=i.Z.WIDTH,O=i.Z.HEIGHT,A=x-64;return(0,c.jsxs)(l.xu,{position:"relative",onMouseEnter:function(){w(!0)},onMouseLeave:function(){w(!1)},children:[(0,c.jsxs)(l.xu,{position:"relative",children:[(0,c.jsxs)(l.zd,{width:x,height:O,rounding:8,children:[(0,c.jsx)(i.C,{productGroup:n}),(0,c.jsx)(l.xu,{position:"absolute",width:x,height:O,top:!0,dangerouslySetInlineStyle:{__style:{background:"linear-gradient(180deg, rgba(0, 0, 0, 0) 0%, rgba(0, 0, 0, 0.4) 100%)"}}})]}),(0,c.jsx)(l.xu,{position:"absolute",color:"selected",opacity:P?.5:0,width:x,height:O,rounding:8,top:!0})]}),u&&P&&(0,c.jsxs)(l.xu,{position:"absolute",top:!0,right:!0,padding:8,display:"flex",children:[(0,c.jsx)(l.xu,{marginEnd:0,children:(0,c.jsx)(l.u,{text:y,idealDirection:"down",children:(0,c.jsx)(l.hU,{accessibilityLabel:y,bgColor:"lightGray",icon:"edit",iconColor:"darkGray",onClick:function(e){var t=e.event;t.stopPropagation(),t.preventDefault(),g(!0)},size:"xl"})})}),false]}),(0,c.jsxs)(l.xu,{position:"absolute",bottom:!0,left:!0,padding:8,children:[(0,c.jsx)(l.xu,{marginBottom:5,maxWidth:A,children:(0,c.jsx)(l.X6,{size:"600",color:"inverse",lineClamp:2,children:n.name})}),P&&(0,c.jsx)(l.xu,{marginBottom:5,maxWidth:A,children:(0,c.jsx)(l.xv,{size:"300",color:"inverse",children:n.description})}),!S&&(0,c.jsx)(f,{i18n:h}),S&&(0,c.jsx)(p,{url:null!=_?_:"",onClick:null!=t?t:d,i18n:h})]}),u&&v&&(0,c.jsx)(o.Z,{onDismiss:function(){return g(!1)},onSubmit:function(){return g(!1)},productGroup:n})]})}},507264:function(e,t,n){"use strict";n.d(t,{LO:function(){return O},N0:function(){return E},t8:function(){return T},tt:function(){return I}});var r=n(76911),o=n(151645),i=n(798821),a=n(487392),l=n(717615),c=n(436395),s=n(784590),u=n(19121),d=n(488177),p=n(957161),f=n(231947),_=n(497020),h=n(35066),y=n(833759);function m(e){return function(e){if(Array.isArray(e))return b(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||g(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function v(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,i=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(c){l=!0,o=c}finally{try{a||null==n.return||n.return()}finally{if(l)throw o}}return i}(e,t)||g(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function g(e,t){if(e){if("string"==typeof e)return b(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?b(e,t):void 0}}function b(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function P(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function w(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?P(Object(n),!0).forEach((function(t){S(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):P(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function S(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function x(e){var t=(0,s.Z)(e?{name:"ApiResource",options:{url:"/v3/catalogs/".concat(e,"/feed_profiles/"),field_sets:["feedprofile.id","feedprofile.display_name","feedprofile.country","feedprofile.locale","feedprofile.all_products_pg_item_count","feedprofile.feed_status"]}}:null);return{feedProfilesResource:t,feedProfiles:(0,_.d9)(t.data||[]).filter((function(e){return e.country&&e.locale&&e.feedStatus===d.Hm.ACTIVE}))}}function O(){var e=(0,a.Z)(),t=e.merchantId,n=e.ownerUserId,r=function(){var e=(0,s.Z)({name:"CountriesResource"});return{countriesResource:e,countries:(e.data||[]).reduce((function(e,t){return w(w({},e),{},S({},t.key,t.name.split(" (")[0]||""))}),{})}}(),o=r.countriesResource,i=r.countries,l=x(t),c=l.feedProfilesResource,u=l.feedProfiles,d=function(e){var t=(0,s.Z)(e?{name:"ApiResource",options:{url:"/v3/business/users/".concat(e,"/storefront/settings/")}}:null);return{storefrontSettingsResource:t,settings:t.data||{}}}(n),p=d.storefrontSettingsResource,f=d.settings;return{countries:i,feedProfiles:u,isLoaded:o.isLoaded&&c.isLoaded&&p.isLoaded,refresh:function(){c.refresh(),p.refresh()},settings:f,userId:n}}function A(){var e=x((0,a.Z)().merchantId),t=e.feedProfilesResource,n=e.feedProfiles,r=function(){var e=(0,s.Z)({name:"UserSettingsResource",options:{field_set_key:"profile"}});return{userSettingsResource:e,userSettings:e.data||{}}}(),o=r.userSettingsResource,i=r.userSettings;return{feedProfiles:n,isLoaded:t.isLoaded&&o.isLoaded,userSettings:i}}function j(){var e=(0,c.Z)().data,t=(0,u.Z)(),n=(0,o.Z)({user:e,viewer:t}),r=(0,l.Z)();return{isORBACProfileManager:(0,f.q6)(t,null==e?void 0:e.id,r),ownProfile:n}}function E(){return j().ownProfile}function T(){var e=j(),t=e.ownProfile,n=e.isORBACProfileManager;return t||n}function I(){var e=A(),t=e.feedProfiles,n=e.userSettings,o=e.isLoaded,a=(0,h.S)(),l=a.merchantStorefrontSettings.currentViewingLocale,c=l.country,s=l.language,u=a.updateLocaleStorefrontSetting,d=O().countries;(0,r.useEffect)((function(){if(o&&(!c||!s||!(0,y.Ee)(t,c,s))){var e,r=v(((0,p.qn)(i.Z.STOREFRONT_LOCALE_STORAGE_KEY)||"").split("/"),2),a=r[0],l=r[1],f=n.country,_=n.locale,h=(0,y.b8)(t,d),g=(0,y.Ee)(h,a,l),b=(0,y.Ee)(h,f,(0,y.Md)(_)),P=v(m(h).sort((function(e,t){return(0,y.gE)(t)-(0,y.gE)(e)})),1)[0],w=g||b||P;if(w)u(w.country||"",(0,y.Md)(w.locale),null!==(e=w.id)&&void 0!==e?e:"")}}))}},760693:function(e,t,n){"use strict";n.d(t,{Z:function(){return m}});var r=n(81636);function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var l={BrandCatalogFeed:{tapBrandCatalogPin:function(e,t){t({event_type:102,view_type:1,view_parameter:3244,component:0,aux_data:i({},e.commerceData)})}},ProductFeed:{tapProductPin:function(e,t){t({event_type:102,component:13700,view_type:4,view_parameter:3512,aux_data:i({},e.commerceData)})}},StorefrontFeed:{tapProductGroup:function(e,t){t({event_type:102,view_type:4,view_parameter:3512,component:13698,object_id_str:e.productGroupId})},useShoppingProfileViewLog:function(){(0,r.Q)({view_type:4,view_parameter:3107,component:237})},viewProductGroup:function(e,t){t({event_type:120,view_type:4,view_parameter:3512,component:13698,object_id_str:e.productGroupId})}}};function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){u(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function d(e){var t=e.entryPoint,n=e.objectId,r=e.groupType;return{aux_data:{commerce_data:JSON.stringify({entrypoint:t}),product_group_type:r},component:13698,object_id_str:n,view_type:1,view_parameter:3515}}var p={BrandCatalog:{tapBrandCatalogPin:function(e,t){t({event_type:102,view_type:1,view_parameter:3513,component:13700,aux_data:s({},e.commerceData)})}},Categories:{tapCategoryBubble:function(e,t){var n=e.entryPoint;t({event_type:102,view_type:1,view_parameter:3514,component:13699,aux_data:{commerce_data:JSON.stringify({entrypoint:n})}})}},ProductGroups:{productGroupRendered:function(e,t){t(s({event_type:120},d({entryPoint:e.entryPoint,objectId:e.productGroupId,groupType:e.groupType})))},tapProductGroup:function(e,t){t(s({event_type:102},d({entryPoint:e.entryPoint,objectId:e.productGroupId,groupType:e.groupType})))}},ProductPins:{tapProductPin:function(e,t){var n=e.commerceData;t({event_type:102,component:e.component,view_type:1,view_parameter:3513,aux_data:s({},n)})},viewProductPinsFeed:function(e,t){var n=e.component,r=e.entryPoint,o=e.category,i=e.productGroupId;t({event_type:13,component:n,view_type:1,view_parameter:3513,aux_data:{commerce_data:JSON.stringify({entrypoint:r}),category_title:o,product_group_id:i}})}},viewFeedPage:function(e,t){var n=e.entryPoint;t({event_type:13,view_type:1,view_parameter:e.viewParameter,aux_data:{commerce_data:JSON.stringify({entrypoint:n})}})}},f=n(249727);function _(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function h(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_(Object(n),!0).forEach((function(t){y(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function y(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var m={Control:l,DomainModule:{trackSeeMoreClick:function(e,t){t({event_type:102,component:13327,element:11829,view_type:3,view_parameter:e.viewParameter})}},Feeds:p,StructuredFeed:{viewStructuredFeed:function(e,t){var n=e.merchantId,r=e.source;t(h({event_type:13,view_type:(0,f.Z)(r),view_parameter:3512},"profile"===r?{object_id_str:n}:Object.freeze({})))},Categories:{viewCategory:function(e,t){var n=e.id,r=e.source,o=e.title,i=e.bubble;t({event_type:120,component:13699,view_type:(0,f.Z)(r),view_parameter:3512,aux_data:h({story_type:"storefront_category_bubbles",story_id:n,category_title:o},i.aux_fields)})},tapCategory:function(e,t){var n=e.id,r=e.source,o=e.title,i=e.bubble;t({event_type:102,component:13699,view_type:(0,f.Z)(r),view_parameter:3512,aux_data:h({story_type:"storefront_category_bubbles",story_id:n,category_title:o},i.aux_fields)})},tapSeeMoreCategories:function(e,t){var n=e.id,r=e.source;t({event_type:102,component:13699,element:179,view_type:(0,f.Z)(r),view_parameter:3512,aux_data:{story_id:n,story_type:"storefront_category_footer_button"}})}},ProductGroups:{tapProductGroup:function(e,t){var n=e.productGroupId,r=e.source,o=e.groupType,i=e.componentType,a=e.index;t({event_type:102,component:i,object_id_str:n,view_type:(0,f.Z)(r),view_parameter:3512,aux_data:{product_group_type:o,grid_index:a}})},tapSeeMoreProductGroups:function(e,t){var n=e.id,r=e.source;t({event_type:102,component:13698,element:179,aux_data:{story_id:n,story_type:"storefront_product_group_footer_button"},view_type:(0,f.Z)(r),view_parameter:3512})},viewProductGroup:function(e,t){var n=e.productGroupId,r=e.source,o=e.groupType;t({event_type:120,component:e.componentType,object_id_str:n,view_type:(0,f.Z)(r),view_parameter:3512,aux_data:{product_group_type:o}})}},PinsFeed:{viewPinsFeed:function(e,t){var n=e.id,r=e.OwnerUserId,o=e.pinsFeedTitle,i=e.source;t({event_type:120,component:13700,view_type:(0,f.Z)(i),view_parameter:3512,aux_data:{story_id:n,story_type:"storefront_pins_feed",pins_feed_title:o,owner_user_id:r}})},tapPin:function(e,t){var n=e.commerceData,r=e.source;t({event_type:102,component:0,view_type:(0,f.Z)(r),view_parameter:3512,aux_data:h({},n)})}}}}},249727:function(e,t,n){"use strict";function r(e){return"profile"===e?4:1}n.d(t,{Z:function(){return r}})},833759:function(e,t,n){"use strict";n.d(t,{Ee:function(){return w},LT:function(){return g},Md:function(){return h},Q1:function(){return P},QE:function(){return _},S8:function(){return x},WU:function(){return j},YY:function(){return A},b8:function(){return T},c8:function(){return b},cB:function(){return S},gE:function(){return y},mV:function(){return O},u3:function(){return m},yh:function(){return f},z1:function(){return v}});var r=n(6637),o=n(565380);function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){l(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function c(e,t,n,r,o,i,a){try{var l=e[i](a),c=l.value}catch(s){return void n(s)}l.done?t(c):Promise.resolve(c).then(r,o)}function s(e){return function(e){if(Array.isArray(e))return p(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||d(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function u(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,i=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(c){l=!0,o=c}finally{try{a||null==n.return||n.return()}finally{if(l)throw o}}return i}(e,t)||d(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function d(e,t){if(e){if("string"==typeof e)return p(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?p(e,t):void 0}}function p(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var f="ALL_PRODUCTS",_=5e3,h=function(e){return e?e.split("-")[0].toLowerCase():""},y=function(e){var t;return e.allProductsPGItemCount||(null===(t=e.lastSuccessfulIngestion)||void 0===t?void 0:t.productCount)||0},m=function(e){return[e.country||"",h(e.locale)].join("/").toUpperCase()},v=function(e,t){return e&&t?"".concat(e," (").concat(h(t).toUpperCase(),")"):""},g=function(e,t){var n=u(t.split("/"),2),r=n[0],o=n[1];return v(e[r.toUpperCase()],o)},b=function(e){return!e||void 0===e.shop_visible||e.shop_visible},P=function(e,t){var n=t.map(m);return Object.keys(e).map((function(e){return e.toUpperCase()})).filter((function(t,r,o){return n.includes(t)&&!b(e[t])&&o.indexOf(t)===r}))},w=function(e,t,n){return t&&n?e.find((function(e){return e.country===t&&h(e.locale)===n})):void 0},S=function(e){if(!e)return"";for(var t=0,n=["488x488","976x976","368x368","736x","474x","originals","orig",Object.keys(e)[0]];t<n.length;t++){var r=n[t];if(e[r])return e[r].url||""}return""},x=function(e){return e.filter((function(e){return Number.isInteger(e.featured_position)})).map((function(e){return e.id}))},O=function(e,t){var n=new Set(t),r=new Set(e);return{featureProductGroupsSet:new Set(s(r.values()).filter((function(e){return!n.has(e)}))),unfeatureProductGroupsSet:new Set(s(n.values()).filter((function(e){return!r.has(e)})))}},A=function(){var e,t=(e=regeneratorRuntime.mark((function e(t,n){var i,c,u,d,p,f,_,h,y,m,v,g,b,P,w,S,x=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=x.length>2&&void 0!==x[2]?x[2]:"FEATURED",c=n.featureProductGroupsSet,u=n.unfeatureProductGroupsSet,d=t.userId,p=t.feedProfileId,f=t.countrySetting,_=t.languageSetting,h=t.settings,y="".concat(f,"/").concat(_.toUpperCase()),m=i===o.$B.CATEGORY?[]:s(c.values()).map((function(e){return r.Z.create("FeaturedProductGroupsResource",{feedProfileId:p,productGroupId:e}).callCreate()})),v=i===o.$B.CATEGORY?[]:s(u.values()).map((function(e){return r.Z.create("FeaturedProductGroupsResource",{feedProfileId:p,productGroupId:e}).callDelete()})),g=o.yK[i],b=h[y]&&h[y][g]||[],P=s(new Set([].concat(s(b),s(c.values())))).filter((function(e){return!u.has(e)})),w=a(a({},h),{},l({},y,a(a({},h[y]||{}),{},l({},g,P)))),S=r.Z.create("ApiResource",{url:"/v3/business/users/".concat(d,"/storefront/settings/"),data:{settings:JSON.stringify(w)}}).callUpdate(),e.next=13,Promise.all([S].concat(s(m),s(v)));case 13:case"end":return e.stop()}}),e)})),function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){c(i,r,o,a,l,"next",e)}function l(e){c(i,r,o,a,l,"throw",e)}a(void 0)}))});return function(e,n){return t.apply(this,arguments)}}(),j=function(e,t){return e.length===t.length&&t.every((function(t){return e.includes(t)}))},E=function(e,t){return v(t[e.country||""],e.locale)},T=function(e,t){return e.reduce((function(e,n){var r=e.findIndex((function(e){return E(e,t)===E(n,t)}));return-1===r?e.push(n):y(e[r])<y(n)&&(e[r]=n),e}),[])}},436395:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(784590),o=n(609500);function i(){var e=(0,o.useParams)().username;return(0,r.Z)(null==e?null:{name:"UserResource",options:{username:e,field_set_key:"profile"}})}},956800:function(e,t,n){"use strict";function r(e){return{type:"FEED_ITEM_REORDERED",payload:e}}function o(e,t){return{type:"FEED_INVALIDATE",payload:{feedType:e,feedId:t}}}n.d(t,{EX:function(){return a},N8:function(){return o},Qv:function(){return i},_f:function(){return r},vX:function(){return l}});var i=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Object.freeze({});return{type:"APPEND_FEED_ITEMS",payload:{id:e,options:n,items:t}}};function a(e){return{type:"FEED_ITEMS_REMOVED",payload:e}}function l(e){return{type:"FEED_ITEMS_ADDED",payload:e}}},447948:function(e,t,n){"use strict";function r(e,t){return{type:"CHANGE_CAROUSEL_SLOT_INDEX",payload:{id:e,index:t}}}function o(e,t){return{type:"SET_PIN_COMMENTS_DISABLED",payload:{id:e,pinCommentsDisabled:t}}}function i(e,t,n,r,o){return{type:"PIN_SAVE",payload:{id:e,boardId:t,title:n,url:r,localPinId:o}}}function a(e){return{type:"PIN_UNSAVE",payload:{id:e}}}n.d(t,{Gb:function(){return a},I1:function(){return u},Ib:function(){return p},NA:function(){return s},Ur:function(){return i},Vw:function(){return c},b9:function(){return _},fH:function(){return y},i0:function(){return f},mO:function(){return o},q1:function(){return d},t_:function(){return l},yR:function(){return r},yj:function(){return h}});var l=function(e,t,n){return{type:"PIN_UNDO_SAVE",payload:{pinId:e,boardId:t,boardSectionId:n}}};function c(e){return{type:"PIN_SHOW_SUGGESTED_CREATOR_RECS",payload:{id:e,value:!0}}}function s(e){return{type:"PIN_SHOW_UNDO_AND_FEEDBACK",payload:{id:e.id,value:!0,text:e.text,undoAction:e.undoAction,undoActionOptions:e.undoActionOptions,undoText:e.undoText}}}function u(e){return{type:"PIN_SHOW_FEEDBACK",payload:{id:e,value:!1}}}function d(e,t){return{type:"PIN_SHOW_FEEDBACK",payload:{id:e,value:!0,text:t}}}function p(e){return{type:"PIN_SHOW_FEEDBACK_OVERLAY",payload:{id:e,value:!0}}}function f(e){return{type:"PIN_SHOW_FEEDBACK_OVERLAY",payload:{id:e,value:!1}}}function _(e){return{type:"PIN_SHOW_AD_REASONS_MODAL",payload:{id:e,value:!0}}}function h(e){return{payload:{id:e,value:!1},type:"PIN_SHOW_AD_REASONS_MODAL"}}var y=function(e,t){return{type:"PIN_FEEDBACK",payload:{id:e,value:t}}}},852025:function(e,t,n){"use strict";n.d(t,{k:function(){return i},s:function(){return a}});var r=n(76911),o=(0,r.createContext)(Object.freeze({})),i=o.Provider;function a(){return(0,r.useContext)(o)}},596493:function(e,t,n){"use strict";n.d(t,{Ac:function(){return i},c7:function(){return o},cg:function(){return r}});var r=-1,o=5,i=6},475970:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return S}});var r=n(76911),o=n(898781),i=n(908390),a=n(515198);function l(e){var t=e.size,n=e.iconColor,r=e.backgroundColor,l=e.disabled,c=e.onClick,s=(0,o.ZP)(),u=48===t?"lg":"xl";return(0,a.jsx)(i.hU,{accessibilityLabel:s._('Copy Link', 'shareMenu.icon.accessibilityLabel.copy', 'button to let users copy link directly'),bgColor:r,icon:"link",iconColor:n||r&&!["white","lightGray","transparent"].includes(r)?n:"gray",size:u,disabled:l,onClick:c})}var c=n(172071),s=n(375436),u=n(67428),d=n(499128),p=n(53987),f=n(867060),_=n(407043),h=n(773285),y=n(609500),m=n(343341),v=n(743473),g=n(827896);function b(e,t,n,r,o,i,a){try{var l=e[i](a),c=l.value}catch(s){return void n(s)}l.done?t(c):Promise.resolve(c).then(r,o)}function P(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,i=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(c){l=!0,o=c}finally{try{a||null==n.return||n.return()}finally{if(l)throw o}}return i}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return w(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return w(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function w(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function S(e){var t=e.backgroundColor,n=e.iconColor,w=e.iconSize,S=e.iconWrapperWidth,x=e.isCloseupActionBar,O=e.marginEnd,A=e.onClick,j=e.sharedObject,E=e.spaceBelowIcon,T=e.viewType,I=e.viewParameter,C=e.relayEnvironment,D=(0,o.ZP)(),R=(0,_.v)().logContextEvent,k=(0,h.F)().checkExperiment,z=k("web_share_menu_logging").anyEnabled,N=(0,m.F9)(),L=P((0,r.useState)(""),2),M=L[0],B=L[1],Z=P((0,r.useState)(!1),2),F=Z[0],U=Z[1],G=P((0,r.useState)(!1),2),V=G[0],H=G[1],W=(0,y.useLocation)(),K=(0,g.Z)(),Y=D._('Link copied!', 'shareSheet.socialBar.copyLinkButton.LinkCopied', 'Notification link was copied to clipboard'),X=function(e){var t;if("pin"===j.type&&j.id){t=K(j.id,{shouldTrackForPrevLocation:!0})}return{invite_category:3,invite_channel:e,object_type:j.type,object_id:j.id,name:j.name,description:j.description||"",path:j.url,picture:j.imageUrl,client_tracking_params:t}},q=function(e){x?navigator.clipboard.writeText(e).then((function(){var e;e=D._('Copied link to your clipboard to share', 'web.unauth.pinbar.copylink', 'Message to indicate link has been copied'),N.showToast((function(t){var n=t.hideToast;return(0,a.jsx)(i.xu,{top:!0,children:(0,a.jsx)(d.ZP,{duration:3e3,onHide:n,text:e})})}))})):navigator.clipboard.writeText(e).then((function(){H(!0),setTimeout((function(){H(!1)}),3e3)}))},J=function(){var e,t=(e=regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!M){e.next=3;break}return q(M),e.abrupt("return");case 3:U(!0),t=X(12),v.Z.createShareInviteData(t,C).then((function(e){var n=e.invite_url;U(!1),n&&(B(n),v.Z.logShareInvite(t,e,C),q(n))}));case 6:case"end":return e.stop()}}),e)})),function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){b(i,r,o,a,l,"next",e)}function l(e){b(i,r,o,a,l,"throw",e)}a(void 0)}))});return function(){return t.apply(this,arguments)}}(),$=function(){if(J(),z){var e=f.y[j.type];e||c.Z.increment("social.web.copyLinkButton.sharedObject.type",void 0,{type:j.type}),x&&R({event_type:101,component:14147,element:13103,object_id_str:j.id,view_type:T,view_parameter:I,aux_data:e?{invite_object:e}:void 0}),A&&A()}};return(0,p.am)(W)&&x&&k("web_copy_link_btn_replace").anyEnabled?(0,a.jsx)(i.xu,{marginStart:1,children:(0,a.jsx)(i.zx,{accessibilityLabel:D._('Copy link', 'shareSheet.socialBar.copyLinkButton.CopyLink', 'Copy Pin URL to clipboard'),text:D._('Copy link', 'shareSheet.socialBar.copyLinkButton.CopyLink', 'Copy Pin URL to clipboard'),onClick:function(){return $()},size:"lg",color:"gray",fullWidth:!0})}):(0,a.jsxs)(u.Z,{isCloseupActionBar:!0,width:S||w,marginEnd:O||!1,children:[(0,a.jsx)(i.xu,{alignItems:x?"center":"stretch",display:x?"flex":"block",marginBottom:E,width:x?"100%":"auto",children:(0,a.jsx)(i.kC,{alignItems:"center",direction:"column",justifyContent:"center",width:w,children:(0,a.jsx)(l,{backgroundColor:t,iconColor:n,size:w,onClick:$,disabled:F})})}),!x&&(0,a.jsx)(s.Z,{text:V?Y:D._('Copy link', 'shareSheet.socialBar.copyLinkButton.CopyLink', 'Copy Pin URL to clipboard')})]})}},750869:function(e,t,n){"use strict";n.d(t,{d:function(){return r}});var r={BOARD:"board",PIN:"pin",DID_IT:"did_it",PINNER:"pinner",USER:"user",TODAY_ARTICLE:"today_article"}},827021:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return Ke}});var r=n(76911),o=n(172071),i=n(116303),a=n(898781),l=n(977558),c=n(349700),s=n(407043),u=n(773285),d=n(908390),p={FONT_SIZE:"300",ITEM_SIZE:56,ITEM_PADDING:30,SPACE_BELOW_ITEM:2,ITEM_ROW_HEIGHT:98,SECTION_LABEL_HEIGHT:64,MAX_CONTACTS_SHOWN:5,SHARE_SHEET_PADDING_X:3,SHARE_SHEET_PADDING_Y:2},f={FONT_SIZE:"200",ITEM_SIZE:48,ITEM_PADDING:26,SPACE_BELOW_ITEM:2,ITEM_ROW_HEIGHT:81,SECTION_LABEL_HEIGHT:49,MAX_CONTACTS_SHOWN:4,SHARE_SHEET_PADDING_X:3,SHARE_SHEET_PADDING_Y:1},_=(p.MAX_CONTACTS_SHOWN+1)*(p.ITEM_SIZE+p.ITEM_PADDING)+2*p.SHARE_SHEET_PADDING_X*4,h=(f.MAX_CONTACTS_SHOWN+1)*(f.ITEM_SIZE+f.ITEM_PADDING)+2*f.SHARE_SHEET_PADDING_X*4,y="error",m=n(515198);function v(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,i=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(c){l=!0,o=c}finally{try{a||null==n.return||n.return()}finally{if(l)throw o}}return i}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return g(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return g(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function g(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function b(e){var t,n=e.idx,o=e.item,_=e.onSendMessage,h=e.onViewConversation,g=e.sentHistory,b=(0,a.ZP)(),P=(0,s.v)().logContextEvent,w=v((0,r.useState)(!1),2),S=w[0],x=w[1],O=o.id||"string"==typeof o.email&&o.email||"",A=g[O]===y,j=Object.prototype.hasOwnProperty.call(g,O)&&!A,E=null!==(t=g[O])&&void 0!==t?t:"";(0,r.useEffect)((function(){A&&x(!1)}),[A]);var T="",I=o.full_name,C=o.email;"string"!=typeof I||I.match(/^\s*$/)?"string"!=typeof C||C.match(/^\s*$/)||(T=C):T=I;var D="";j?D=b._('View chat', 'shareSheet.ContactItem.viewChat', 'View current chat'):S&&(D=b._('Sent', 'shareSheet.ContactItem.sent', 'Item has been sent to contact'));var R=(0,(0,u.F)().checkExperiment)("web_sharesheet_resize").anyEnabled?f:p;return(0,m.jsx)(d.xu,{alignItems:"center","data-test-id":"sharesheet-contact-item",display:"flex",direction:"column",width:R.ITEM_SIZE+R.ITEM_PADDING,children:(0,m.jsx)(d.xu,{display:"inlineBlock",role:"button",children:(0,m.jsxs)(d.iP,{onTap:j?function(){return h(E)}:function(){P({event_type:101,component:13029,element:1039,aux_data:{result_index:n+1,rs:o.debug_reason.reason}}),x(!0),_(o)},children:[(0,m.jsxs)(d.xu,{alignItems:"center","data-test-id":S?"sharesheet-viewchat-link":"sharesheet-contact-item-button",display:"flex",height:R.ITEM_SIZE,justifyContent:"center",marginBottom:R.SPACE_BELOW_ITEM,width:R.ITEM_SIZE,children:[S&&(0,m.jsx)(d.xu,{alignItems:"center",color:"transparentDarkGray","data-test-id":"sharesheet-contact-item-sent-icon",display:"flex",height:R.ITEM_SIZE,justifyContent:"center",position:"absolute",rounding:"circle",width:R.ITEM_SIZE,zIndex:new d.Ry(l.fe),children:(0,m.jsx)(d.JO,{accessibilityLabel:(0,c.Wc)(b._('Sent to {{recipientName}}', 'shareSheet.ContactItem.sentIcon.accessibilityLabel', 'Accessibility label for sent icon over user avatar, recipientName: message recipient'),{recipientName:T}),icon:"check",color:"light",size:24})}),(0,m.jsx)(i.Z,{size:"fit",src:o.image_large_url,name:T})]}),(0,m.jsxs)(d.xu,{"data-test-id":"sharesheet-contact-item-label",width:R.ITEM_SIZE,children:[(0,m.jsx)(d.xv,{lineClamp:1,size:"100",align:"center",children:T}),(0,m.jsx)(d.xv,{color:"subtle",size:"100",align:"center",children:D})]})]})})})}var P=n(784590),w=n(313951),S=n(17676);function x(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function O(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function A(e){var t,n=(0,s.v)().logContextEvent,o=(0,a.ZP)(),i=e.onHide,l=e.onSendMessage,c=e.onShowImportContacts,_=e.objectAttachment,h=e.sentHistory,y=(0,(0,u.F)().checkExperiment)("web_sharesheet_resize").anyEnabled?f:p,v=(0,P.Z)({name:"ShareSuggestionsResource",options:{field_set_key:"default"},noCache:!0}).isLoaded,g=(null===(t=(0,S.E)().shareSuggestions[""])||void 0===t?void 0:t.slice(0,y.MAX_CONTACTS_SHOWN))||[],A=g.length>0;(0,r.useEffect)((function(){v&&n({event_type:A?7511:7512,component:56,view_type:70,view_parameter:256})}),[A,n,v]);var j=(0,w.Z5)(),E=j.dropdownOpen,T=j.conversationOpen,I=j.newMessageOpen,C=function(e){T(e),E(),i()},D=g.map((function(e,t){var n="".concat(e.id||e.email||t),r={item:e,idx:t,onSendMessage:l,onViewConversation:C,sentHistory:h};return(0,m.jsx)(b,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?x(Object(n),!0).forEach((function(t){O(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):x(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},r),n)})),R=(0,u.F)().checkExperiment("web_sharesheet_resize").anyEnabled,k=!A&&!v;return(0,m.jsxs)(d.kC,{direction:"column",children:[(0,m.jsx)(d.kC,{alignItems:"center",height:y.SECTION_LABEL_HEIGHT,justifyContent:"center",children:(0,m.jsx)(d.xv,{align:"center",size:y.FONT_SIZE,weight:"bold",children:o._('Send on Pinterest', 'ContactsSuggestions.Header.text', 'Header for contact suggestion section of the share menu')})}),(0,m.jsx)(d.xu,{display:"flex",height:y.ITEM_ROW_HEIGHT,justifyContent:k?"center":void 0,marginBottom:5,children:k?(0,m.jsx)(d.xu,{paddingY:2,children:(0,m.jsx)(d.$j,{accessibilityLabel:o._('Loading Conversation Messages', 'SendObject.contactList.spinner', 'Spinner that indicates then the contact list is being loaded'),show:!0})}):(0,m.jsxs)(d.kC,{direction:"row",children:[(0,m.jsxs)(d.kC,{alignItems:"center",direction:"column",justifyContent:"start",width:y.ITEM_SIZE+y.ITEM_PADDING,children:[(0,m.jsx)(d.xu,{height:y.ITEM_SIZE,marginBottom:y.SPACE_BELOW_ITEM,width:y.ITEM_SIZE,children:(0,m.jsx)(d.hU,{accessibilityLabel:o._('Search for users', 'ContactsSuggestsions.SearchIcon.accessibilityLabel', 'Accessibility label for search icon in Contacts Suggestions list'),bgColor:"lightGray",icon:"search",iconColor:"darkGray",onClick:function(){I(_),E(),i()},size:R?"lg":"xl"})}),(0,m.jsx)(d.xv,{lineClamp:1,size:"100",children:o._('Search', 'ContactsSuggestions.SearchOption.text', 'Label for search icon in Contacts Suggestions list')})]}),A?D:(0,m.jsxs)(d.kC,{alignItems:"center",direction:"column",justifyContent:"start",width:y.ITEM_SIZE+y.ITEM_PADDING,children:[(0,m.jsx)(d.xu,{height:y.ITEM_SIZE,marginBottom:y.SPACE_BELOW_ITEM,width:y.ITEM_SIZE,children:(0,m.jsx)(d.hU,{accessibilityLabel:o._('Search for users', 'ContactsSuggestsions.SearchIcon.accessibilityLabel', 'Accessibility label for search icon in Contacts Suggestions list'),bgColor:"lightGray",icon:"people",iconColor:"darkGray",onClick:c,size:R?"lg":"xl"})}),(0,m.jsx)(d.xv,{lineClamp:1,size:"100",children:o._('Import', 'ContactsSuggestions.ImportOption.text', 'Label for import contacts icon in Contacts Suggestions list')})]})]})})]})}function j(e){switch(e){case"AuthHomefeed":return 13;case"BaseBoardPinGrid":return 5;case"BoardMoreIdeasTabContent":return 23;case"ConversationView":return 19;case"FollowingFeedGrid":return 21;case"ProfilePromotablePinCard":return 1;case"RelatedPinGrid":case"RelatedProductsFeed":return 14;case"RelatedProductsExploreTab":return 4;case"ShoppingPackageItem":case"ShoppingSquareGridProductDetailPage":case"ShoppingGridShippedMetadata":case"ProductPinsFeed":return 27;case"StoryPinFeedGrid":return 28;case"TodayArticleFeed":return 20;case"UserProfilePinGrid":default:return e}}var E=n(936776),T=n(750869);function I(e){return(I="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function C(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function D(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?C(Object(n),!0).forEach((function(t){Z(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):C(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function R(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function k(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function z(e,t){return(z=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function N(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=B(e);if(t){var o=B(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return L(this,n)}}function L(e,t){if(t&&("object"===I(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return M(e)}function M(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function B(e){return(B=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Z(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var F=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&z(e,t)}(i,e);var t,n,r,o=N(i);function i(){var e;R(this,i);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return Z(M(e=o.call.apply(o,[this].concat(n))),"state",{textValue:e.props.initialTextValue||"",emailValue:""}),Z(M(e),"handleSendEmail",(function(t,n){if(t){var r={type:"email_share_suggestion",id:"",email:t,debug_reason:{reason:"",readable_reason:""}};e.props.onSendMessage(r,n)}})),Z(M(e),"handleTextValueChange",(function(t){var n=t.value;e.setState({textValue:n})})),Z(M(e),"handleEmailValueChange",(function(t){var n=t.value;e.setState({emailValue:n})})),e}return t=i,(n=[{key:"renderCloseButton",value:function(){var e=this.props,t=e.i18n,n=e.onCancelDraft;return(0,m.jsx)(d.hU,{accessibilityLabel:t._('Cancel share to user', 'accessibility label for close button', 'accessibility label for close button'),icon:"arrow-back",onClick:n,size:"sm",iconColor:"gray"})}},{key:"render",value:function(){var e=this,t=this.props.width;return(0,m.jsxs)(d.xu,{display:"flex",direction:"column",column:12,paddingX:4,paddingY:2,width:t,color:"default",children:[(0,m.jsxs)(d.xu,{display:"flex",alignItems:"center",paddingY:4,children:[this.renderCloseButton(),(0,m.jsx)(d.xu,{flex:"grow",marginEnd:8,children:(0,m.jsx)(d.xv,{align:"center",weight:"bold",children:this.props.i18n._('Send to', 'shareSheet.SendToEmail.label', 'Send to label')})})]}),(0,m.jsxs)(d.kC,{alignItems:"stretch",justifyContent:"start",direction:"column",children:[(0,m.jsx)(d.xu,{paddingY:1,marginBottom:4,children:(0,m.jsx)(d.Kx,{id:"email",onChange:this.handleEmailValueChange,placeholder:this.props.i18n._('Enter email address', 'Email address to send to', 'Email address to send to'),value:this.state.emailValue||"",rows:1})}),(0,m.jsx)(d.Kx,{id:"sendObjectMessage",onChange:this.handleTextValueChange,placeholder:this.props.i18n._('Add a message', 'shareSheet.SendToEmail.textareaPlaceholder', 'Placeholder that tells user this is where they can add a messaage'),value:this.state.textValue||""}),(0,m.jsx)(d.xu,{paddingY:4,display:"flex",justifyContent:"center",children:(0,m.jsx)(d.zx,{size:"lg",color:"red",onClick:function(){return e.handleSendEmail(e.state.emailValue||"",e.state.textValue||"")},type:"submit",text:this.props.i18n._('Send', 'shareSheet.SendToEmail.sendButton', 'Button that sends out to email'),disabled:!(0,E.Z)(this.state.emailValue)})})]})]})}}])&&k(t.prototype,n),r&&k(t,r),i}(r.Component);function U(e){var t=(0,a.ZP)();return(0,m.jsx)(F,D(D({},e),{},{i18n:t}))}var G=n(567831),V=n(475970),H=n(31149),W=n(107193),K=n(659522),Y=n(331744),X=n(757146);function q(e){var t=e.size,n=void 0===t?48:t;return(0,m.jsxs)("svg",{width:n,height:n,viewBox:"0 0 56 56",fill:"none",xmlns:"http://www.w3.org/2000/svg",display:"block",children:[(0,m.jsx)("rect",{width:"56",height:"56",rx:"28",fill:"#fff"}),(0,m.jsx)("rect",{x:".5",y:".5",width:"55",height:"55",rx:"27.5",stroke:"#767676",strokeOpacity:".4"}),(0,m.jsx)("path",{d:"M39 19.5c0 1.381-1.119 2.5-2.5 2.5S34 20.881 34 19.5s1.119-2.5 2.5-2.5 2.5 1.119 2.5 2.5ZM18.5 28c0-.69-.56-1.25-1.25-1.25S16 27.31 16 28s.56 1.25 1.25 1.25 1.25-.56 1.25-1.25ZM26.75 38.75c0-.69.56-1.25 1.25-1.25s1.25.56 1.25 1.25S28.69 40 28 40s-1.25-.56-1.25-1.25Z",fill:"#E60023"}),(0,m.jsx)("path",{d:"M29.25 17.25c0 .69-.56 1.25-1.25 1.25s-1.25-.56-1.25-1.25S27.31 16 28 16s1.25.56 1.25 1.25ZM17 36.5c0-1.381 1.119-2.5 2.5-2.5s2.5 1.119 2.5 2.5-1.119 2.5-2.5 2.5-2.5-1.119-2.5-2.5ZM38.75 26.75c-.69 0-1.25.56-1.25 1.25s.56 1.25 1.25 1.25S40 28.69 40 28s-.56-1.25-1.25-1.25Z",fill:"#FFD63F"}),(0,m.jsx)("path",{d:"M19.5 22c1.381 0 2.5-1.119 2.5-2.5S20.881 17 19.5 17 17 18.119 17 19.5s1.119 2.5 2.5 2.5ZM36.5 34c-1.381 0-2.5 1.119-2.5 2.5s1.119 2.5 2.5 2.5 2.5-1.119 2.5-2.5-1.119-2.5-2.5-2.5Z",fill:"#46CC88"}),(0,m.jsx)("path",{d:"M28 21c-3.866 0-7 3.134-7 7s3.134 7 7 7 7-3.134 7-7-3.134-7-7-7Z",fill:"#3869FF"})]})}var J=n(375436),$=n(67428),Q=n(19121);function ee(e){var t=e.iconSize,n=e.iconWrapperWidth,r=e.marginBottom,o=e.marginEnd,i=e.onCreatePincodeClick,l=e.sharedObject,c=(0,a.ZP)(),s=(0,Q.Z)();return i&&[T.d.BOARD,T.d.PINNER,T.d.USER].includes(l.type)&&s.isAuth&&(l.id===s.id||s.isEmployee)?(0,m.jsxs)($.Z,{width:n,marginEnd:o,children:[(0,m.jsx)(d.xu,{marginBottom:r,children:(0,m.jsx)(d.iP,{fullWidth:!1,onTap:i,children:(0,m.jsx)(q,{size:t})})}),(0,m.jsx)(J.Z,{text:c._('Pincode', 'Share via pincode', 'Share via pincode')})]},"pincode"):null}var te=n(464240),ne=n(22641),re=n(704217),oe=n(780280),ie=n(743473),ae=n(827896),le=n(867060),ce=n(343341);function se(e){return(se="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ue(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function de(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ue(Object(n),!0).forEach((function(t){ge(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ue(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function pe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function fe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _e(e,t){return(_e=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function he(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=ve(e);if(t){var o=ve(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return ye(this,n)}}function ye(e,t){if(t&&("object"===se(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return me(e)}function me(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ve(e){return(ve=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ge(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var be={backgroundColor:"#ffffff",border:"none",padding:0},Pe=new Set(["JP","TW","TH"]),we=function(e,t){(0,W.default)((function(t){t&&(t.getUserID()?e():t.login((function(){e()})))}),t)},Se=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_e(e,t)}(l,e);var t,n,i,a=he(l);function l(){var e;pe(this,l);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return ge(me(e=a.call.apply(a,[this].concat(n))),"state",{whatsappInviteData:null,inviteData:null,whatsappURL:"",whatsAppLogged:!1,copyLinkLogged:!1}),ge(me(e),"logShareInviteLink",(function(){var t=e.state,n=t.copyLinkLogged,r=t.inviteData,o=e.getShareOptions(12);n||(ie.Z.logShareInvite(o,r,e.props.relayEnvironment),e.setState({copyLinkLogged:!0}))})),e}return t=l,(n=[{key:"componentDidMount",value:function(){this.getWhatsAppURL()}},{key:"getShareOptions",value:function(e){var t,n=this.props,r=n.sharedObject,o=n.getClientTrackingParams;return"pin"===r.type&&r.id&&(t=o(r.id,{shouldTrackForPrevLocation:!0})),{invite_category:3,invite_channel:e,object_type:r.type,object_id:r.id,name:r.name,description:r.description||"",path:r.url,picture:r.imageUrl,client_tracking_params:t}}},{key:"getWhatsAppURL",value:function(){var e=this,t=this.getShareOptions(10);ie.Z.createShareInviteData(t,this.props.relayEnvironment).then((function(t){var n="".concat(t.title,"\n").concat(t.invite_url);if(n){var r=encodeURIComponent(n);e.setState({whatsappInviteData:t,whatsappURL:"https://web.whatsapp.com/send?text="+r})}else e.setState({whatsappURL:"https://web.whatsapp.com/send?text="+(0,G.Z)(e.props.sharedObject.url)})}))}},{key:"checkWritePermissions",value:function(){return!!this.props.viewer.isWriteBanned}},{key:"handleSocialShareClick",value:function(e,t){if(!this.checkWritePermissions()){var n=this.props,r=n.onCreatePincodeClick,i=n.onExternalSend,a=n.logContextEvent,l=n.viewType,c=n.viewParameter,s=n.inShareMenuLoggingExp,u=n.sharedObject,d=s?le.c[t]:46;"facebook"===e||5===t?(this.openFacebookDialog(),s||(d=257)):"twitter"===e||9===t?(this.openTwitterDialog(),s||(d=256)):"messenger"===e||6===t?(this.openFbMessengerDialog(),s||(d=950)):"whatsapp"===e||10===t?(this.openWhatsAppDialog(),s||(d=951)):"pincode"===e||16===t?r&&r():"copylink"===e||12===t?(this.openShareUrlLink(),s||(d=100)):"email"===e||1===t?(this.openEmailDialog(),s||(d=258)):"line"!==e&&8!==t||(this.openLineDialog(),s||(d=952)),i&&i();var p=le.y[u.type];p||o.Z.increment("social.web.legoShareSocialBar.sharedObject.type",void 0,{type:u.type}),a({event_type:101,component:s?14121:153,element:d,object_id_str:s?u.id:void 0,view_type:s?l:void 0,view_parameter:s?c:void 0,aux_data:s?{invite_object:p}:void 0})}}},{key:"openEmailDialog",value:function(){this.props.onEmailIconClick()}},{key:"openFacebookDialog",value:function(){var e=this,t=this.props,n=t.unauthId,r=t.viewer;we((function(){ie.Z.shareFacebookInvite({options:e.getShareOptions(5),unauthId:n,viewer:r},e.props.relayEnvironment)}),r)}},{key:"openFbMessengerDialog",value:function(){var e=this,t=this.props,n=t.unauthId,r=t.viewer;we((function(){ie.Z.shareFbMessengerInvite({options:e.getShareOptions(6),unauthId:n,viewer:r},e.props.relayEnvironment)}),r)}},{key:"openWhatsAppDialog",value:function(){var e=this.getShareOptions(10);this.state.whatsAppLogged||(ie.Z.logShareInvite(e,this.state.whatsappInviteData,this.props.relayEnvironment),this.setState({whatsAppLogged:!0}))}},{key:"openShareUrlLink",value:function(){this.logShareInviteLink()}},{key:"openTwitterDialog",value:function(){ie.Z.shareTwitterInvite(this.getShareOptions(9),this.props.relayEnvironment)}},{key:"openLineDialog",value:function(){ie.Z.shareLineInvite(this.getShareOptions(8),this.props.relayEnvironment)}},{key:"renderEmail",value:function(){var e=this,t=this.props.inResizeShareSheetExp?f:p,n=t.ITEM_SIZE,r=t.ITEM_SIZE+t.ITEM_PADDING,o=t.SPACE_BELOW_ITEM;return(0,m.jsxs)($.Z,{width:r,marginEnd:!1,children:[(0,m.jsx)(d.xu,{display:"inlineBlock",marginBottom:o,children:(0,m.jsx)("button",{"aria-label":this.props.i18n._('Share on Email', 'sharesheet.shareSocialBar.ShareEmail', 'Button that will share via Email'),onClick:function(){return e.handleSocialShareClick("email",1)},style:be,children:(0,m.jsx)(H.Z,{size:n})})}),(0,m.jsx)(J.Z,{text:this.props.i18n._('Email', 'Share via email', 'Share via email')})]},"email")}},{key:"renderShareOptions",value:function(){var e=this,t=this.props,n=t.i18n,o=t.onCreatePincodeClick,i=t.sharedObject,a=t.showLineShare,l=t.showMessengerShare,c=t.isPublisherSharingObject,s=t.viewType,u=t.viewParameter,_=t.inResizeShareSheetExp,h=_?f:p,y=h.ITEM_SIZE,v=h.ITEM_SIZE+h.ITEM_PADDING,g=h.SPACE_BELOW_ITEM;return(0,m.jsx)(r.Fragment,{children:(0,m.jsxs)(d.kC,{justifyContent:"start",wrap:_,children:[a&&(0,m.jsxs)($.Z,{width:v,marginEnd:a,children:[(0,m.jsx)(d.xu,{marginBottom:g,children:(0,m.jsx)("button",{"aria-label":n._('Share on LINE', 'sharesheet.shareSocialBar.ShareLine', 'Button that will share via Line'),onClick:function(){return e.handleSocialShareClick("line",8)},style:be,children:(0,m.jsx)(Y.Z,{size:y})})}),(0,m.jsx)(J.Z,{text:n._('LINE', 'sharesheet.shareSocialBar.ShareLineLabel', 'Line button label')})]}),(0,m.jsxs)($.Z,{width:v,marginEnd:!1,children:[(0,m.jsx)(d.xu,{marginBottom:g,children:(0,m.jsx)("button",{"aria-label":n._('Share on WhatsApp', 'sharesheet.shareSocialBar.ShareWhatsapp', 'Button that will share via WhatsApp'),onClick:function(){return e.handleSocialShareClick("whatsapp",10)},style:be,tabIndex:"-1",children:(0,m.jsx)(d.iP,{rounding:"circle",role:"link",href:this.state.whatsappURL,target:"blank",children:(0,m.jsx)(ne.Z,{size:y})})})}),(0,m.jsx)(J.Z,{text:n._('WhatsApp', 'sharesheet.shareSocialBar.ShareWhatsappLabel', 'WhatsApp button label')})]}),l&&(0,m.jsxs)($.Z,{width:v,marginEnd:!1,children:[(0,m.jsx)(d.xu,{marginBottom:g,children:(0,m.jsx)("button",{"aria-label":n._('Share on Messenger', 'sharesheet.shareSocialBar.ShareMessenger', 'Button that will share via Messenger'),onClick:function(){return e.handleSocialShareClick("messenger",6)},style:be,children:(0,m.jsx)(X.Z,{size:y})})}),(0,m.jsx)(J.Z,{text:n._('Messenger', 'sharesheet.shareSocialBar.ShareMessengerLabel', 'Messenger button label')})]}),(0,m.jsxs)($.Z,{width:v,marginEnd:!1,children:[(0,m.jsx)(d.xu,{marginBottom:g,children:(0,m.jsx)("button",{"aria-label":n._('Share on Facebook', 'sharesheet.shareSocialBar.ShareFacebook', 'Button that will share via Facebook'),onClick:function(){return e.handleSocialShareClick("facebook",5)},style:be,children:(0,m.jsx)(K.Z,{size:y})})}),(0,m.jsx)(J.Z,{text:n._('Facebook', 'sharesheet.shareSocialBar.ShareFacebookLabel', 'Facebook button label')})]}),(0,m.jsxs)($.Z,{width:v,marginEnd:!1,children:[(0,m.jsx)(d.xu,{marginBottom:g,children:(0,m.jsx)("button",{"aria-label":n._('Share on Twitter', 'sharesheet.shareSocialBar.ShareTwitter', 'Button that will share via Twitter'),onClick:function(){return e.handleSocialShareClick("twitter",9)},style:be,"data-test-id":"twitter-share-icon",children:(0,m.jsx)(te.Z,{size:y})})}),(0,m.jsx)(J.Z,{text:n._('Twitter', 'sharesheet.shareSocialBar.ShareTwitterLabel', 'Twitter button label')})]}),(0,m.jsxs)(r.Fragment,{children:[(0,m.jsx)(ee,{iconSize:y,iconWrapperWidth:v,marginBottom:g,marginEnd:!1,onCreatePincodeClick:o,sharedObject:i}),(0,m.jsx)(V.default,{sharedObject:i,backgroundColor:"lightGray",iconColor:"darkGray",iconSize:y,iconWrapperWidth:v,marginEnd:a,onClick:function(){return e.handleSocialShareClick("copylink",12)},isCloseupActionBar:!1,spaceBelowIcon:g,viewType:s,viewParameter:u,relayEnvironment:this.props.relayEnvironment},"copylink"),!c&&this.renderEmail()]})]})})}},{key:"render",value:function(){var e=this.props,t=e.paddingX,n=e.inResizeShareSheetExp?f:p;return(0,m.jsxs)(d.xu,{paddingX:t,children:[(0,m.jsx)(d.kC,{alignContent:"center",alignItems:"center",height:n.SECTION_LABEL_HEIGHT,justifyContent:"center",children:(0,m.jsx)(d.xv,{size:n.FONT_SIZE,weight:"bold",children:this.props.i18n._('Share', 'Sharesheet.ShareSocialBar', 'Externally share a Pin/Board/profile')})}),(0,m.jsx)(d.kC,{alignContent:"start",alignItems:"stretch",justifyContent:"start",minHeight:n.ITEM_ROW_HEIGHT,children:this.renderShareOptions()})]})}}])&&fe(t.prototype,n),i&&fe(t,i),l}(r.Component);function xe(e){var t=(0,s.v)().logContextEvent,n=(0,u.F)().checkExperiment,r=(0,a.ZP)(),o=(0,Q.Z)(),i=o.isAuth&&Pe.has(o.country),l=n("web_messenger_share_channel").anyEnabled,c=(0,oe.B)(),d=n("web_share_menu_logging").anyEnabled,p=n("web_sharesheet_resize").anyEnabled,f=n("graphql_migration_sharesheet_sgrowth_web").anyEnabled,_=(0,re.useRelayEnvironment)();return(0,m.jsx)(Se,de(de({},e),{},{toastManagerContext:(0,ce.F9)(),viewer:(0,Q.Z)(),showLineShare:i,showMessengerShare:l,i18n:r,logContextEvent:t,unauthId:c.unauthId,inShareMenuLoggingExp:d,inResizeShareSheetExp:p,shareSheetExpEnabled:f,relayEnvironment:f?_:void 0,getClientTrackingParams:(0,ae.Z)()}))}var Oe=n(6637),Ae=n(499128),je=n(717615),Ee=n(231947),Te=n(697247);function Ie(e,t,n,r,o,i,a){try{var l=e[i](a),c=l.value}catch(s){return void n(s)}l.done?t(c):Promise.resolve(c).then(r,o)}function Ce(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function De(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ce(Object(n),!0).forEach((function(t){Re(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ce(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Re(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ke(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,i=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(c){l=!0,o=c}finally{try{a||null==n.return||n.return()}finally{if(l)throw o}}return i}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return ze(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ze(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ze(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Ne=function(e,t){var n={};return e.forEach((function(e){n[e]=t})),n};function Le(e){var t=(0,s.v)().logContextEvent,n=(0,a.ZP)(),i=ke((0,r.useState)(!1),2),l=i[0],c=i[1],v=ke((0,r.useState)(null),2),g=v[0],b=v[1],P=ke((0,r.useState)({}),2),S=P[0],x=P[1],O=ke((0,r.useState)(function(e,t){return"today_article"===e?t._('Check out this article on Pinterest!', 'sendObject.initialTextValue.todayArticle', 'pre-populated share message when a user tries to send a Today Article'):""}(e.sendType,n)),1)[0],E=(0,ce.F9)().showOneToast,T=(0,Te.$)().surface,I=(0,Q.Z)(),C=(0,je.Z)(),D=(0,w.Z5)().conversationCreate,R=(0,w.NG)(),k=(0,r.useRef)();(0,r.useEffect)((function(){var e;return null===(e=k.current)||void 0===e?void 0:e.focus()}),[]);var z=function(n,r){c(!1),e.onMessageSent(),function(n,r){var i=e.sharedObject.id;o.Z.increment("web.sharesheet.internal.send",1,{status:"success"}),t({event_type:180,element:276,object_id_str:i,aux_data:{conversation_id:n,pin_id:r}})}(n,r)},N=function(e,t){o.Z.increment("web.sharesheet.internal.send",1,{status:"fail"}),x(De(De({},S),Ne(e,y)));var n=t.message_detail||t.message;n&&E((function(e){var t=e.hideToast;return(0,m.jsx)(Ae.ZP,{variant:"error",duration:5e3,onHide:t,text:n})}))},L=function(){var t,n=(t=regeneratorRuntime.mark((function t(n,r,o){var i,a,l,c,s,u,d,p;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=e.sharedObject,a=e.sendType,l=i.id,(c={emails:r,user_ids:n,text:o,source:j(T)})[a]=l,s=Oe.Z.create("ConversationsResource",c),u=n.length>0?n:r,t.prev=6,t.next=9,s.callCreate();case 9:d=t.sent,p=d&&d.resource_response.data,D(p),z(p.id,"pin"===a?l:null),x(De(De({},S),Ne(u,p.id))),t.next=19;break;case 16:t.prev=16,t.t0=t.catch(6),N(u,t.t0);case 19:case"end":return t.stop()}}),t,null,[[6,16]])})),function(){var e=this,n=arguments;return new Promise((function(r,o){var i=t.apply(e,n);function a(e){Ie(i,r,o,a,l,"next",e)}function l(e){Ie(i,r,o,a,l,"throw",e)}a(void 0)}))});return function(e,t,r){return n.apply(this,arguments)}}(),M=function(n,r){"conversation_share_suggestion"===n.type?function(t,n,r){var o,i,a=e.sharedObject,l=e.sendType;switch(l){case"pin":i="pinId";break;case"board":i="boardId";break;case"did_it":i="didItId";break;case"user":case"pinner":i="userId"}var c=i?R(t,(Re(o={text:n},i,a.id),Re(o,"source",j(T)),o),void 0,I):void 0;c&&c.then((function(){z(t,"pin"===l?a.id:null),x(De(De({},S),{},Re({},t,t)))})).catch((function(e){N([t],e)}))}(n.id,r):"user_share_suggestion"===n.type&&n.username?L([n.id],[],r):L([],[n.email],r),t({event_type:101,component:56,element:276})},B=e.onCreatePincodeClick,Z=e.onShowImport,F=e.sendType,G=e.sharedObject,V=e.onHide,H=e.onExternalSend,W=e.viewType,K=e.viewParameter,Y="user"===e.sendType&&(0,Ee.q6)(I,e.sharedObject.id,C),X=("board"===e.sendType||"pin"===e.sendType)&&void 0!==e.sharedObject.ownerId&&(0,Ee.q6)(I,e.sharedObject.ownerId,C),q=Y||X,J=(0,(0,u.F)().checkExperiment)("web_sharesheet_resize").anyEnabled,$=J?f:p,ee=J?h:_;return l&&"email"===g?(0,m.jsx)(U,{initialTextValue:O,objectId:G.id,objectType:F,onCancelDraft:function(){c(!1),b(null)},onHide:V,onSendMessage:M,width:ee}):(0,m.jsxs)(d.xu,{color:"default",paddingX:$.SHARE_SHEET_PADDING_X,paddingY:$.SHARE_SHEET_PADDING_Y,width:ee,tabIndex:0,ref:k,children:[(0,m.jsx)(xe,{onCreatePincodeClick:B,onEmailIconClick:function(){c(!0),b("email")},onExternalSend:H,onHide:V,sharedObject:G,isPublisherSharingObject:q,viewType:W,viewParameter:K}),!q&&(0,m.jsxs)(r.Fragment,{children:[(0,m.jsx)(d.xu,{paddingY:1,paddingX:3,children:(0,m.jsx)(d.iz,{})}),(0,m.jsx)(A,{objectAttachment:{type:F,id:G.id},onHide:V,onSendMessage:M,onShowImportContacts:Z,sentHistory:S})]})]})}var Me=n(177471),Be=["facebook","google"];function Ze(e,t){return"facebook"===e?t._('Facebook', ' - ', ' -- '):"google"===e?t._('Google', ' - ', ' -- '):t._('Other', ' - ', ' -- ')}function Fe(e,t,n){return"facebook"===e?n._('Friends who are on Pinterest', ' - ', ' -- '):"google"===e&&t&&-1!==t.indexOf("@gmail")?t:null}function Ue(e){var t=e.onBack,n=(0,a.ZP)(),r=(0,Q.Z)(),o=r.isAuth?r.email:null,i=Be.filter((function(e){return!r.isAuth||!1===r.socialNetwork[e].connected})),l=(0,Me.k)();return(0,m.jsx)(d.xu,{paddingX:1,paddingY:2,children:(0,m.jsxs)(d.kC,{gap:{row:0,column:2},direction:"column",children:[(0,m.jsxs)(d.kC,{gap:{row:2,column:0},alignItems:"center",children:[(0,m.jsx)(d.hU,{accessibilityLabel:n._('Back', ' - ', ' -- '),icon:"arrow-back",iconColor:"darkGray",onClick:t,size:"md"}),(0,m.jsx)(d.xv,{size:"300",weight:"bold",children:n._('Upload contacts from...', ' - ', ' -- ')})]}),(0,m.jsx)(d.kC,{direction:"column",gap:{row:0,column:4},children:i.map((function(e){return(0,m.jsx)(d.xu,{paddingX:2,children:(0,m.jsxs)(d.iP,{onTap:function(){return function(e){l.handleConnect(e,!0,Object.freeze({}),n)}(e)},children:[(0,m.jsx)(d.xv,{size:"200",children:Ze(e,n)}),(0,m.jsx)(d.xv,{size:"200",children:Fe(e,o,n)})]})},e)}))})]})})}var Ge=n(749049),Ve=n(385740);function He(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,i=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(c){l=!0,o=c}finally{try{a||null==n.return||n.return()}finally{if(l)throw o}}return i}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return We(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return We(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function We(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Ke(e){var t=e.element,n=e.onCreatePincodeClick,i=e.onExternalSend,a=e.onHide,c=e.sendType,p=e.sharedObject,f=e.viewType,_=e.viewParameter,h=e.component,y=(0,s.v)().logContextEvent,v=He((0,r.useState)(!1),2),g=v[0],b=v[1],P=(0,(0,u.F)().checkExperiment)("web_share_menu_logging").anyEnabled,w=(0,r.useRef)(!1),S=(0,Ve.SU)().viewParameter;(0,r.useEffect)((function(){var e=le.y[c];return e||o.Z.increment("social.web.sendObjectWrapper.sendType",void 0,{type:c}),y({event_type:7120,component:P?14121:void 0,object_id_str:p.id,element:P?t:void 0,view_type:f,view_parameter:_,aux_data:P?{invite_object:e}:void 0}),y({event_type:10400,component:h,object_id_str:p.id,element:(0,Ge.O)(e),view_type:f,view_parameter:S,aux_data:{invite_object:e}}),function(){P||y({event_type:7121,object_id_str:p.id,view_type:f,view_parameter:_});var t=w.current?7493:7492;y({event_type:t,component:P?14121:void 0,object_id_str:P?p.id:void 0,element:P?13097:void 0,view_type:f,view_parameter:_,aux_data:P?{invite_object:e}:void 0})}}),[]);var x=function(){b(!0)},O=function(){b(!1)},A=function(){w.current=!0},j=function(){w.current=!0,i&&i()};return g?(0,m.jsx)(Ue,{onBack:O}):(0,m.jsx)(d.xu,{overflow:"hidden",rounding:4,zIndex:new d.Ry(l.fe-1),color:"default",children:(0,m.jsx)(Le,{onCreatePincodeClick:n,onHide:a,onShowImport:x,onMessageSent:A,onExternalSend:j,sendType:c,sharedObject:p,viewType:f,viewParameter:_})})}},375436:function(e,t,n){"use strict";var r=n(207112),o=n(908390),i=n(515198);t.Z=function(e){var t=e.text;return(0,i.jsx)(o.xv,{align:"center",size:"100",children:(0,i.jsx)(r.Z,{maxWidthPx:128,maxHeightPx:50,children:t})})}},67428:function(e,t,n){"use strict";var r=n(908390),o=n(515198);t.Z=function(e){var t=e.width,n=e.marginEnd,i=e.children,a=e.isCloseupActionBar;return(0,o.jsx)(r.xu,{alignItems:"center",direction:"column",display:"flex",marginEnd:n?2:0,width:t,marginBottom:a?0:5,children:i})}},749049:function(e,t,n){"use strict";n.d(t,{O:function(){return r}});var r=function(e){switch(e){case 2:return 331;case 3:return 12631;default:return 72}}},152028:function(e,t,n){"use strict";n.d(t,{Z:function(){return l}});var r=n(81226),o=n(898781),i=n(908390),a=n(515198);function l(e){var t=e.duration,n=(0,o.ZP)();return(0,a.jsxs)(i.xu,{alignItems:"center",color:"transparentDarkGray",display:"flex",height:24,justifyContent:"center",paddingX:2,rounding:"pill",children:[(0,a.jsx)(i.JO,{accessibilityLabel:n._('Video camera icon', 'Video camera indicator icon for a Pin', 'Video camera indicator icon for a Pin'),color:"light",icon:"video-camera"}),(0,a.jsx)(i.xu,{marginStart:1,children:(0,a.jsx)(i.xv,{color:"inverse",size:"100",lineClamp:1,children:(0,r.Z)(t)})})]})}},926749:function(e,t,n){"use strict";n.d(t,{ZP:function(){return F}});var r=n(76911),o=n(664229),i=n.n(o),a=n(722767),l=["eventData","component","objectId","view","viewParameter"];function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){u(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function d(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var p=n(121630),f=n(944546),_=n(407043),h=n(158103),y=n(908390),m=n(515198);function v(e){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var g=["height","width","windowHeight","windowWidth","viewability"];function b(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function P(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function w(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?P(Object(n),!0).forEach((function(t){T(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):P(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function S(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function x(e,t){return(x=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function O(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=E(e);if(t){var o=E(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return A(this,n)}}function A(e,t){if(t&&("object"===v(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return j(e)}function j(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function E(e){return(E=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function T(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function I(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return C(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return C(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,l=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){l=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(l)throw i}}}}function C(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var D=[0,.25,.5,.75,.95,.97],R=[0,.5,.8,.99,1],k="-64px 0px 0px 0px",z={rootMargin:k,threshold:R},N={rootMargin:k,threshold:f.iM},L=Object.freeze({LOADING:0,PLAYING:1,PAUSED:2,STALLING:3});function M(){return(new Date).getTime()}function B(e){return!!e.volume&&e.volume>0}var Z=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&x(e,t)}(u,e);var t,n,o,c=O(u);function u(e){var t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,u),T(j(t=c.call(this,e)),"videoWrapperRef",(0,r.createRef)()),T(j(t),"handleWindowResize",(function(){if(!t.fullscreen){var e=t.getDimensions(),n=t.currentInterval,r=n.height,o=n.width;e.height!==r||e.width!==o?t.startNewInterval(e):(t.currentInterval.windowHeight=e.windowHeight,t.currentInterval.windowWidth=e.windowWidth)}})),T(j(t),"handlePlayheadDown",(function(e){var n=e.event,r=t.props.onPlayheadDown;t.setState({seeking:!0}),r&&r({event:n})})),T(j(t),"handlePlayheadUp",(function(e){var n=e.event,r=t.props.onPlayheadUp;t.setState({seeking:!1}),r&&r({event:n})})),T(j(t),"handleLoop",(function(){t.videoTime=0})),T(j(t),"handleTimeChange",(function(e){var n=t.state,r=n.seeking,o=n.ready;if(t.currentInterval.videoDuration){var i=1e3*e.time,a=function(e,t,n,r){if(e>t)return null;if(n<=0)return null;var o,i=I(r);try{for(i.s();!(o=i.n()).done;){var a=o.value,l=a*n;if(e<=l&&t>l)return a}}catch(c){i.e(c)}finally{i.f()}return null}(t.videoTime,i,t.currentInterval.videoDuration,D);if("number"==typeof a&&t.props.playing&&!r&&o){var l=M();t.logVideoEvent(6906,w(w({},t.currentInterval),{},{startTime:l,endTime:l,videoStartTime:0,videoEndTime:0,quartile:Math.floor(4*a),quartilePercentValue:a}))}t.videoTime=i,t.props.onTimeChange&&t.props.onTimeChange(e)}})),T(j(t),"handleDurationChange",(function(e){t.currentInterval.videoDuration=1e3*e.duration,t.props.onDurationChange&&t.props.onDurationChange(e)})),T(j(t),"handleReady",(function(e){t.state.ready||t.setState({ready:!0}),t.props.onReady&&t.props.onReady(e)})),T(j(t),"handleEnded",(function(e){t.logFourthQuartileEvent(),t.props.loop&&(t.startNewInterval(),t.currentInterval.videoStartTime=0),t.props.onEnded&&t.props.onEnded(e)})),T(j(t),"handleVisibilityChange",(function(e,n){if(0!==e.length){var r=e.slice(-1)[0],o=function(e,t){for(var n=0;n<t.length;n+=1){var r=t[n],o=t[n+1];if(null==o)return r;if(r<=e&&e<o)return r}return null}(Number.parseFloat(r.intersectionRatio.toFixed(2)),R);"number"==typeof o&&(t.visible=o>=.5),null==o||o===t.currentInterval.viewability||t.fullscreen||(0===o?t.startNewInterval({viewability:o,playbackState:L.PAUSED}):t.startNewInterval({viewability:o}))}})),T(j(t),"handleFullscreenChange",(function(e){var n=e.event,r=e.fullscreen;if(r){var o=window.screen,i=o.height,a=o.width;t.startNewInterval({height:i,width:a,windowHeight:i,windowWidth:a})}else r||t.startNewInterval(t.getDimensions());t.fullscreen=r,t.props.onFullscreenChange&&t.props.onFullscreenChange({event:n,fullscreen:r})})),T(j(t),"handleClose",(function(){t.startNewInterval()})),T(j(t),"handleContextMenu",(function(e){e.preventDefault()})),t.state={ready:!1,seeking:!1};var n=M();return t.handleWindowResize=i()(t.handleWindowResize,1e3),t.currentInterval={videoDuration:0,startTime:n,endTime:n,videoStartTime:0,videoEndTime:0,isAudible:B(e),playbackState:t.getPlaybackState(e,t.state),quartile:-1,quartilePercentValue:0,height:null,width:null,windowHeight:null,windowWidth:null,viewability:null},t.videoTime=0,t.fullscreen=!1,t.visible=null,t}return t=u,(n=[{key:"componentDidMount",value:function(){this.currentInterval=w(w({},this.currentInterval),this.getDimensions()),window.addEventListener("resize",this.handleWindowResize),window.addEventListener("beforeunload",this.handleClose)}},{key:"componentDidUpdate",value:function(e,t){var n={};B(e)&&!B(this.props)?n.isAudible=!1:!B(e)&&B(this.props)&&(n.isAudible=!0);var r=this.getPlaybackState(this.props,this.state);this.getPlaybackState(e,t)!==r&&(n.playbackState=r),Object.keys(n).length>0&&this.startNewInterval(n)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.handleWindowResize),window.removeEventListener("beforeunload",this.handleClose),this.startNewInterval()}},{key:"getPlaybackState",value:function(e,t){return t.ready?e.playing&&!t.seeking?L.PLAYING:L.PAUSED:L.LOADING}},{key:"getDimensions",value:function(){var e,t;if(this.videoWrapperRef.current){var n=this.videoWrapperRef.current;n.clientHeight&&n.clientWidth&&(e=n.clientHeight,t=n.clientWidth)}return{height:e,width:t,windowHeight:window.innerHeight,windowWidth:window.innerWidth}}},{key:"logVideoEvent",value:function(e,t){var n=this.props,r=n.closeupStoryPinViewability,o=n.contextLogData,i=n.logContextEvent,a=t.height,c=t.width,u=t.windowHeight,p=t.windowWidth,f=t.viewability,_=b(t,g);if(null!=a&&null!=c&&null!=u&&null!=p&&null!=f){var h=r||f,y=w(w({},_),{},{height:a,width:c,windowHeight:u,windowWidth:p,viewability:h});i(w({event_type:e},function(e){var t=e.eventData.videoEvent,n=t.videoDuration,r=t.startTime,o=t.endTime,i=t.videoStartTime,a=t.videoEndTime,c=t.isAudible,u=t.height,p=t.width,f=t.playbackState,_=t.quartile,h=t.quartilePercentValue,y=t.windowHeight,m=t.windowWidth,v=t.viewability;return{component:e.component,object_id_str:e.objectId,view_type:e.view,view_parameter:e.viewParameter,aux_data:s({},d(e,l)),event_data:{videoEventData:{videoDuration:n,time:r,endTime:o,videoTime:i,endVideoTime:a,isAudible:c,height:u,width:p,playbackState:f,quartile:_,quartilePercentValue:h,windowHeight:y,windowWidth:m,viewability:v}}}}(w(w({},o),{},{view:this.fullscreen?108:o.view,eventData:{videoEvent:y}}))))}}},{key:"logFourthQuartileEvent",value:function(){var e=M();this.logVideoEvent(6906,w(w({},this.currentInterval),{},{startTime:e,endTime:e,videoStartTime:0,videoEndTime:0,quartile:4,quartilePercentValue:1}))}},{key:"startNewInterval",value:function(e){var t=M();this.logVideoEvent(6904,w(w({},this.currentInterval),{},{endTime:t,videoEndTime:this.videoTime})),this.currentInterval=w(w(w({},this.currentInterval),e),{},{startTime:t,videoStartTime:this.videoTime,endTime:-1,videoEndTime:-1})}},{key:"render",value:function(){var e=this.props,t=e.accessibilityMaximizeLabel,n=e.accessibilityMinimizeLabel,r=e.accessibilityMuteLabel,o=e.accessibilityPauseLabel,i=e.accessibilityPlayLabel,l=e.accessibilityProgressBarLabel,c=e.accessibilityUnmuteLabel,s=e.aspectRatio,u=e.backgroundColor,d=e.captions,f=e.contextLogData,_=e.controls,v=e.cropHeight,g=e.hlsConfig,b=e.inAdsDesktopVideoExperiment,P=e.isAutoPlay,w=e.loop,S=e.objectFit,x=e.onLoadedChange,O=e.onControlsPause,A=e.onControlsPlay,j=e.onSeek,E=e.onVolumeChange,T=e.playbackRate,I=e.playing,C=e.playsInline,D=e.poster,R=e.preload,k=e.rootMargin,L=e.src,M=e.surface,B=e.videoStartTime,Z=e.volume,F=this.state.seeking,U=b?N:z;return void 0!==k&&(U.rootMargin=M?(0,p.e)(M):k),(0,m.jsx)(a.Z,{options:U,onVisibilityChange:this.handleVisibilityChange,children:(0,m.jsx)(y.xu,{ref:this.videoWrapperRef,onContextMenu:this.handleContextMenu,dangerouslySetInlineStyle:{__style:v?{display:"flex",alignItems:"center",height:"".concat(v,"px")}:{}},children:(0,m.jsx)(h.default,{accessibilityMaximizeLabel:t,accessibilityMinimizeLabel:n,accessibilityMuteLabel:r,accessibilityPauseLabel:o,accessibilityPlayLabel:i,accessibilityProgressBarLabel:l,accessibilityUnmuteLabel:c,aspectRatio:v?236/v:s,backgroundColor:u,captions:d,contextLogData:f,controls:_,hlsConfig:g,isAutoPlay:P,loop:w,objectFit:S,onDurationChange:this.handleDurationChange,onEnded:this.handleEnded,onFullscreenChange:this.handleFullscreenChange,onLoadedChange:x,onLoop:this.handleLoop,onControlsPause:O,onControlsPlay:A,onPlayheadDown:this.handlePlayheadDown,onPlayheadUp:this.handlePlayheadUp,onReady:this.handleReady,onSeek:j,onTimeChange:this.handleTimeChange,onVolumeChange:E,playbackRate:T,playing:!F&&I,onPlay:function(){},onPlayError:function(){},playsInline:C,poster:D,preload:R,src:L,videoStartTime:B,visible:this.visible,volume:Z})})})}}])&&S(t.prototype,n),o&&S(t,o),u}(r.Component);function F(e){var t=(0,_.v)().logContextEvent;return(0,m.jsx)(Z,w(w({},e),{},{logContextEvent:t}))}T(Z,"defaultProps",y.nk.defaultProps)},158103:function(e,t,n){"use strict";n.r(t),n.d(t,{VideoWrapper:function(){return G},default:function(){return V},getPlaylistSourceSrc:function(){return U}});var r=n(76911),o=n(19121),i=n(965900),a=n(407043),l=n(773285),c=n(226347),s=n(780280),u=n(908390),d=n(969315),p=n(179888),f=n(515198),_=["view","viewParameter","component","element","objectId"];function h(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function y(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function m(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?y(Object(n),!0).forEach((function(t){O(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):y(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function v(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function g(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function b(e,t){return(b=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function P(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=x(e);if(t){var o=x(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return w(this,n)}}function w(e,t){if(t&&("object"===A(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return S(e)}function S(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function x(e){return(x=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function O(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function A(e){return(A="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function j(e,t){if(!e||void 0===e)return"undefined";if("string"==typeof e){var n=e;if(t){var r="control"===t?"v3.pinimg.com":"v2.pinimg.com";n=e.replace("v.pinimg.com",r)}return n}if(Array.isArray(e)&&e[0].src){var o=e[0].src;if(t){var i="control"===t?"v3.pinimg.com":"v2.pinimg.com";o=o.replace("v.pinimg.com",i)}return o}return"unsupported_type_".concat(A(e))}var E=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&b(e,t)}(i,e);var t,n,r,o=P(i);function i(){var e;v(this,i);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return O(S(e=o.call.apply(o,[this].concat(n))),"state",{canPlayVideo:!1,playbackState:p.Cy.DEFAULT}),O(S(e),"errorRetryCount",2),O(S(e),"hasSegmentStarted",!1),O(S(e),"hasPlaybackStarted",!1),O(S(e),"hasVideoSessionStarted",!1),O(S(e),"hasVideoSessionEnded",!1),O(S(e),"lastStallTime",null),O(S(e),"lastPauseTime",null),O(S(e),"logSessionStartOnNextPlay",!1),O(S(e),"playerId",""),O(S(e),"videoSessionId",""),O(S(e),"videoVisibleTime",null),O(S(e),"playbackPerformance",{canPlayTime:null,detailedErrors:"",errorCode:0,errorName:"",errorReason:"",hasFatalError:!1,loadStartTime:null,numberOfStalls:0,numberOfSeeks:0,playbackStartTimestamp:null,segments:[],srcString:j(e.props.src,e.props.quicExpGroup),totalStallDurationMs:0,totalPauseDurationMs:0}),O(S(e),"componentDidMount",(function(){var t=e.props,n=t.contextLogData,r=void 0===n?{}:n,o=t.playing,i=r.is_closeup_video,a=void 0!==i&&i;(0,d.tE)("videoMounted",!1,a),o&&(e.videoVisibleTime=new Date,e.logPlaybackPerformance(p.DR,{initiator:"mount"}))})),O(S(e),"componentDidUpdate",(function(t){var n=e.props,r=n.playing,o=n.visible,i=n.appInFocus;t.appInFocus&&!i&&(e.logPlaybackPerformance(p.$f,{initiator:"update"}),e.logSessionStartOnNextPlay=!0),t.visible&&!1===o&&(e.logSessionStartOnNextPlay=!1,e.updatePauseDuration(),e.logPlaybackPerformance(p.$f,{initiator:"update"})),!1===t.visible&&!0===o&&(e.videoVisibleTime=e.videoVisibleTime||new Date,r?(e.setPlaybackStartTime(),e.setLastSegmentStartPlayTime(),e.setLastSegmentPlaybackStartDate(),e.logPlaybackPerformance(p.DR,{initiator:"update"})):e.logSessionStartOnNextPlay=!0),r&&i&&e.logSessionStartOnNextPlay&&(e.setPlaybackStartTime(),e.setLastSegmentStartPlayTime(),e.setLastSegmentPlaybackStartDate(),e.logPlaybackPerformance(p.DR,{initiator:"update"}),e.logSessionStartOnNextPlay=!1)})),O(S(e),"addSegment",(function(){var t=e.playbackPerformance,n=t.canPlayTime,r=t.loadStartTime,o=t.segments,i=t.srcString,a=-1;n&&r&&0===o.length&&(a=n>r?n-r:0);var l=e.videoPlayerRef&&e.videoPlayerRef.video,c={indicatedKbps:-1,duration:l&&l.duration*p.gJ||-1,lastStartPlayTime:null,level:-1,numServerAddressChange:-1,observedKbps:-1,playbackStartDate:null,serverAddress:"",sourceWidth:-1,sourceHeight:-1,startupTimeMs:a,switchBitrateKbps:-1,uri:i,viewportWidth:l&&l.clientWidth||-1,viewportHeight:l&&l.clientHeight||-1,watchedDurationMs:0};o.push(c)})),O(S(e),"getCurrentVideoTime",(function(){return e.videoPlayerRef&&e.videoPlayerRef.video?e.videoPlayerRef.video.currentTime*p.gJ:0})),O(S(e),"getVideoResourceTiming",(function(){var t,n;if(null!==(t=window)&&void 0!==t&&null!==(n=t.performance)&&void 0!==n&&n.getEntriesByName&&e.playbackPerformance.srcString){var r=window.performance.getEntriesByName(e.playbackPerformance.srcString);return r.length>0&&r[0]||null}return null})),O(S(e),"handleCanPlayVideo",(function(t){var n=e.props,r=n.contextLogData,o=void 0===r?{}:r,i=n.onReady,a=n.playing,l=o.is_closeup_video,c=void 0!==l&&l,s=e.state.canPlayVideo;(0,d.tE)("handleCanPlayVideo",!1,c,{firstCanPlayEvent:!s,playing:a}),e.playbackPerformance.hasFatalError=!1,s||(e.playbackPerformance.canPlayTime=new Date),e.setState({canPlayVideo:!0}),i&&i(t)})),O(S(e),"handleEnded",(function(t){var n=e.props,r=n.loop,o=n.onEnded,i=e.playbackPerformance.segments,a=i&&i[i.length-1];r&&e.videoPlayerRef&&e.videoPlayerRef.video?(e.updateWatchDurationForCurrentSegment(),a&&(a.lastStartPlayTime=0),e.hasSegmentStarted=!1):r||e.logPlaybackPerformance(p.$f,{initiator:"videoEnded",loop:r}),e.setState({playbackState:p.Cy.ENDED}),o&&o(t)})),O(S(e),"handleError",(function(){var t,n,r,o,i,a,l,c,s=e.props.contextLogData,u=(void 0===s?{}:s).is_closeup_video,f=void 0!==u&&u,_=e.videoPlayerRef&&e.videoPlayerRef.video;(null==_||null===(t=_.error)||void 0===t?void 0:t.code)!==p.lG.MEDIA_ERR_ABORTED&&(e.playbackPerformance.hasFatalError=!0),e.playbackPerformance.detailedErrors+="".concat(e.playbackPerformance.detailedErrors.length>0?", ":"").concat((null==_||null===(n=_.error)||void 0===n?void 0:n.message)||""),e.playbackPerformance.errorCode=(null==_||null===(r=_.error)||void 0===r?void 0:r.code)||0,e.playbackPerformance.errorName=(null==_||null===(o=_.error)||void 0===o||null===(i=o.message)||void 0===i?void 0:i.slice(0,100))||"unknown",e.playbackPerformance.errorReason=(null==_||null===(a=_.error)||void 0===a||null===(l=a.message)||void 0===l?void 0:l.slice(0,100))||"unknown";var h={errorName:e.playbackPerformance.errorCode,errorReason:e.playbackPerformance.errorName,errorRetryCount:e.errorRetryCount,playbackState:e.state.playbackState,networkState:(null==_?void 0:_.networkState)||"unknown"};switch((0,d.tE)("fatalError",!1,f,h),null==_||null===(c=_.error)||void 0===c?void 0:c.code){case p.lG.MEDIA_ERR_ABORTED:break;case p.lG.MEDIA_ERR_NETWORK:case p.lG.MEDIA_ERR_DECODE:case p.lG.MEDIA_ERR_SRC_NOT_SUPPORTED:default:e.errorRetryCount>0&&(null==_||_.load(),e.errorRetryCount-=1)}e.updateWatchDurationForCurrentSegment(),e.setState({playbackState:p.Cy.FAILED})})),O(S(e),"handleLoadedMetadata",(function(){e.setState({playbackState:p.Cy.LOADED_METADATA})})),O(S(e),"handleLoadStart",(function(){e.playbackPerformance.loadStartTime=new Date,e.setState({playbackState:p.Cy.LOAD_START})})),O(S(e),"handleLoadedData",(function(){e.setState({playbackState:p.Cy.LOADED_DATA})})),O(S(e),"handlePlaying",(function(){e.playbackPerformance.hasFatalError=!1,e.setPlaybackStartTime(),e.hasSegmentStarted||e.addSegment(),e.setLastSegmentStartPlayTime(),e.setLastSegmentPlaybackStartDate(),e.updateStallDuration(),e.updatePauseDuration(),e.setState({playbackState:p.Cy.PLAYING}),e.props.setSeekTime&&e.props.setSeekTime(void 0)})),O(S(e),"handleUserPause",(function(t){var n=e.props.onControlsPause;e.lastPauseTime=new Date,n&&n(t)})),O(S(e),"handleVideoPause",(function(){e.state.playbackState!==p.Cy.STALLING&&e.state.playbackState!==p.Cy.SEEKING&&(e.updateWatchDurationForCurrentSegment(),e.lastPauseTime||e.updateStallDuration()),e.setState({playbackState:p.Cy.PAUSED})})),O(S(e),"handleSeeking",(function(){e.playbackPerformance.numberOfSeeks+=1;var t=e.playbackPerformance.segments,n=t&&t[t.length-1];n&&(n.lastStartPlayTime=null),e.state.playbackState!==p.Cy.ENDED&&e.setState({playbackState:p.Cy.SEEKING})})),O(S(e),"handleStalled",(function(){null===e.lastStallTime&&e.state.playbackState!==p.Cy.ENDED&&(e.lastStallTime=new Date,e.playbackPerformance.numberOfStalls+=1,e.setState({playbackState:p.Cy.STALLING}))})),O(S(e),"handleTimeUpdate",(function(t){var n=e.props.onTimeChange;n&&n(t),e.state.playbackState===p.Cy.PLAYING&&(e.updateWatchDurationForCurrentSegment(),e.setLastSegmentStartPlayTime())})),O(S(e),"resetPlaybackMetrics",(function(){e.hasSegmentStarted=!0,e.hasPlaybackStarted=!1,e.hasVideoSessionStarted=!1,e.hasVideoSessionEnded=!0,e.lastStallTime=null,e.lastPauseTime=null,e.videoSessionId="",e.videoVisibleTime=null,e.logSessionStartOnNextPlay=!1;var t=m(m({},e.playbackPerformance.segments[e.playbackPerformance.segments.length-1]),{},{lastStartPlayTime:null,playbackStartDate:null,watchedDurationMs:0});e.playbackPerformance.detailedErrors="",e.playbackPerformance.errorCode=0,e.playbackPerformance.errorName="",e.playbackPerformance.errorReason="",e.playbackPerformance.hasFatalError=!1,e.playbackPerformance.numberOfStalls=0,e.playbackPerformance.numberOfSeeks=0,e.playbackPerformance.playbackStartTimestamp=null,e.playbackPerformance.totalStallDurationMs=0,e.playbackPerformance.segments=[t]})),O(S(e),"setLastSegmentStartPlayTime",(function(){var t=e.playbackPerformance.segments,n=t&&t[t.length-1];n&&null===n.lastStartPlayTime&&(n.lastStartPlayTime=e.getCurrentVideoTime())})),O(S(e),"setLastSegmentPlaybackStartDate",(function(){var t=e.playbackPerformance.segments,n=t&&t[t.length-1];n&&null===n.playbackStartDate&&(n.playbackStartDate=Date.now())})),O(S(e),"setPlaybackStartTime",(function(){e.hasPlaybackStarted||(e.playbackPerformance.playbackStartTimestamp=Date.now(),e.hasPlaybackStarted=!0)})),O(S(e),"setVideoPlayerRef",(function(t){var n=e.props.setVideoRef;if(t&&(n&&n(t),e.videoPlayerRef=t,e.videoPlayerRef.video)){var r=e.videoPlayerRef.video;r.addEventListener("loadedmetadata",e.handleLoadedMetadata),r.addEventListener("loadeddata",e.handleLoadedData),r.addEventListener("pause",e.handleVideoPause),r.readyState>=3&&(e.setState({canPlayVideo:!0}),e.playbackPerformance.canPlayTime=new Date)}})),O(S(e),"updateStallDuration",(function(){if(null!==e.lastStallTime){var t=e.lastStallTime;e.playbackPerformance.totalStallDurationMs+=new Date-t,e.lastStallTime=null}})),O(S(e),"updatePauseDuration",(function(){if(null!==e.lastPauseTime){var t=e.lastPauseTime;e.playbackPerformance.totalPauseDurationMs+=new Date-t,e.lastPauseTime=null}})),O(S(e),"updateWatchDurationForCurrentSegment",(function(){var t=e.playbackPerformance.segments,n=t&&t[t.length-1],r=n?n.lastStartPlayTime:null,o=e.getCurrentVideoTime();if(n&&null!==r&&"number"==typeof o&&"number"==typeof r){var i=o-r;i>0&&(n.watchedDurationMs+=i,n.lastStartPlayTime=null)}})),O(S(e),"logPlaybackPerformance",(function(t,n){var r=e.props,o=r.contextLogData,i=void 0===o?{}:o,a=r.userId,l=r.isAutoPlay,c=r.logContextEvent,s=i.is_closeup_video,u=void 0!==s&&s,f=e.playbackPerformance,y=f.canPlayTime,v=f.detailedErrors,g=f.errorCode,b=f.errorName,P=f.errorReason,w=f.hasFatalError,S=f.loadStartTime,x=f.totalPauseDurationMs,O=f.totalStallDurationMs,A=f.numberOfStalls,j=f.numberOfSeeks,E=f.playbackStartTimestamp,T=f.segments,I=f.srcString,C=e.videoPlayerRef&&e.videoPlayerRef.video,D=t===p.DR,R=D&&!e.hasVideoSessionStarted,k=!D&&!e.hasVideoSessionEnded&&e.hasVideoSessionStarted;if(C&&(R||k)){var z,N=-1;y&&S&&(N=y>S?y-S:0);var L=-1;y&&e.videoVisibleTime&&(L=y>e.videoVisibleTime?y-e.videoVisibleTime:0),D&&(e.videoSessionId=(0,p.Y7)(a),e.playerId=e.playerId||(0,p.EB)());var M=e.getVideoResourceTiming(),B={averageVideoKbps:-1,autoplaying:l,detailedErrors:v,downloadedKiloBytes:"number"==typeof(null==M?void 0:M.decodedBodySize)&&M.decodedBodySize/p.Fm||0,errorCode:g,errorName:b,errorReason:P,fatalError:w,isCellular:!1,nativeVideoDurationMs:C.duration*p.gJ||-1,numberOfStalls:A,numberOfSeeks:j,overallPausedDurationMs:x,overallBufferDurationMs:O,overallWatchedDurationMs:-1,rebufferRate:-1,playbackSessionId:e.videoSessionId,playbackStartTimestamp:E||-1,segments:[],sessionMark:t,screenPixelScale:null!==(z=window)&&void 0!==z&&z.devicePixelRatio?window.devicePixelRatio:-1,startupPlayerWidth:C.clientWidth,startupPlayerHeight:C.clientHeight,startupTimeMs:N,startupLatencyMs:L,startupVariantKbps:-1,startupVariantWatchedDurationMs:-1,startupVariantWidth:C.videoWidth,startupVariantHeight:C.videoHeight,videoUrl:I};if(!D){e.updateWatchDurationForCurrentSegment(),e.updateStallDuration();var Z=T.reduce((function(e,t){return e+(t.watchedDurationMs||0)}),0);B.overallWatchedDurationMs=Z,B.startupVariantWatchedDurationMs=Z,B.segments=e.playbackPerformance.segments,0===Z?(B.errorName="invalid_watch_duration",B.rebufferRate=-1):B.rebufferRate=O/Z}(0,d.ZP)(B,!1,u,m({playbackState:e.state.playbackState},n)),c({event_type:3606,event_data:{videoPerformanceData:B},view_type:i.view,view_parameter:i.viewParameter,component:i.component,element:i.element,object_id_str:i.objectId,aux_data:m(m({},h(i,_)),{},{is_closeup_video:u,playback_session_id:e.videoSessionId})}),D?(e.hasVideoSessionStarted=!0,e.hasVideoSessionEnded=!1):e.resetPlaybackMetrics(),(0,d.tE)(D?"sessionStart":"sessionEnd",!1,u,m({playbackState:e.state.playbackState},n))}})),e}return t=i,(n=[{key:"componentWillUnmount",value:function(){var e=this.props.loop;this.updatePauseDuration(),this.logPlaybackPerformance(p.$f,{initiator:"unmount",loop:e})}},{key:"render",value:function(){var e=this.props,t=e.accessibilityMaximizeLabel,n=e.accessibilityMinimizeLabel,r=e.accessibilityMuteLabel,o=e.accessibilityPauseLabel,i=e.accessibilityPlayLabel,a=e.accessibilityProgressBarLabel,l=e.accessibilityUnmuteLabel,c=e.aspectRatio,s=e.captions,d=e.controls,p=e.loop,_=e.loopOverride,h=e.objectFit,y=e.onDurationChange,m=e.onFullscreenChange,v=e.onLoadedChange,g=e.onControlsPlay,b=e.onPlayheadDown,P=e.onPlayheadUp,w=e.onSeek,S=e.onVolumeChange,x=e.playbackRate,O=e.playing,A=e.playsInline,E=e.poster,T=e.preload,I=e.src,C=e.videoStartTime,D=e.volume,R=this.state.canPlayVideo;return(0,f.jsx)(u.nk,{autoplay:R&&O,accessibilityMaximizeLabel:t,accessibilityMinimizeLabel:n,accessibilityMuteLabel:r,accessibilityPauseLabel:o,accessibilityPlayLabel:i,accessibilityProgressBarLabel:a,accessibilityUnmuteLabel:l,aspectRatio:c,captions:s,controls:d,loop:void 0===_?p:_,objectFit:h,onDurationChange:y,onEnded:this.handleEnded,onError:this.handleError,onFullscreenChange:m,onLoadedChange:v,onLoadStart:this.handleLoadStart,onControlsPause:this.handleUserPause,onControlsPlay:g,onPlaying:this.handlePlaying,onPlayheadDown:b,onPlayheadUp:P,onReady:this.handleCanPlayVideo,onSeek:w,onSeeking:this.handleSeeking,onStalled:this.handleStalled,onTimeChange:this.handleTimeUpdate,onVolumeChange:S,onWaiting:this.handleStalled,playbackRate:x,onPlay:function(){},onPlayError:function(){},playing:R&&O,playsInline:A,poster:E,preload:T,ref:this.setVideoPlayerRef,src:j(I,this.props.quicExpGroup),startTime:C||void 0,volume:D})}}])&&g(t.prototype,n),r&&g(t,r),i}(r.Component);var T=(0,r.memo)((function(e){var t=(0,a.v)().logContextEvent,n=(0,s.B)(),r=n.country,u=n.isAuthenticated,p=n.isBot,_=n.isSocialBot,h=n.unauthId,y=n.userAgent,v=y.browserName,g=y.browserVersion,b=y.isMobile,P=e.contextLogData,w=void 0===P?{}:P,S=w.is_closeup_video,x=void 0!==S&&S,O=w.view,A=w.viewParameter,j=(0,i.I)().appUI.appInFocus,T=(0,l.F)().checkExperiment,I=(0,c.RC)().updateSeekTime,C=null;u&&(C=T("web_video_quic").group.length?T("web_video_quic").group:null);var D=(0,o.Z)(),R={browserName:v,browserVersion:g,country:r,isAuthenticated:u,isBot:p,is_closeup_video:x,isMobile:b,isSocialBot:_,view:O,viewParameter:A};return(0,d.r$)(R),(0,f.jsx)(E,m(m({},e),{},{userId:D.id||h,appInFocus:j,quicExpGroup:C,logContextEvent:t,setSeekTime:I}))})),I=n(562559),C=n(366284);function D(e){return(D="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function R(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function k(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?R(Object(n),!0).forEach((function(t){F(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):R(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function z(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function N(e,t){return(N=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function L(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Z(e);if(t){var o=Z(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return M(this,n)}}function M(e,t){if(t&&("object"===D(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return B(e)}function B(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Z(e){return(Z=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function F(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var U=function(e){if(Array.isArray(e)){var t=e.find((function(e){return"video/m3u8"===e.type}));return t?t.src:void 0}return RegExp("m3u8$").test(e)?e:void 0},G=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&N(e,t)}(i,e);var t,n,r,o=L(i);function i(e){var t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),F(B(t=o.call(this,e)),"componentDidUpdate",(function(e,n){var r;e.videoStartTime&&t.props.videoStartTime&&e.videoStartTime<t.props.videoStartTime&&null!==(r=t.videoPlayerRef)&&void 0!==r&&r.video&&(t.videoPlayerRef.video.currentTime=t.props.videoStartTime)})),F(B(t),"setVideoPlayerRef",(function(e){e&&(t.videoPlayerRef=e)})),F(B(t),"handleOnEnded",(function(e){var n=e.event,r=t.props,o=r.loop,i=r.onLoop,a=r.onEnded;a&&(a({event:n}),t.videoPlayerRef&&t.videoPlayerRef.video&&o&&(t.videoPlayerRef.video.play(),i&&i()))}));var n=U(e.src);return t.state={useHlsVideo:!e.preferMp4&&!(0,C.G6)(e.requestContext.userAgent.browserName)&&!!n},t}return t=i,(n=[{key:"render",value:function(){var e=this.props,t=e.accessibilityMaximizeLabel,n=e.accessibilityMinimizeLabel,r=e.accessibilityMuteLabel,o=e.accessibilityPauseLabel,i=e.accessibilityPlayLabel,a=e.accessibilityProgressBarLabel,l=e.accessibilityUnmuteLabel,c=e.aspectRatio,s=e.appInFocus,u=e.backgroundColor,d=e.captions,p=e.contextLogData,_=e.controls,h=e.hlsConfig,y=e.isAutoPlay,m=e.loop,v=e.objectFit,g=e.onDurationChange,b=e.onEnded,P=e.onFullscreenChange,w=e.onLoadedChange,S=e.onControlsPause,x=e.onControlsPlay,O=e.onPlayheadDown,A=e.onPlayheadUp,j=e.onReady,E=e.onSeek,C=e.onTimeChange,D=e.onVolumeChange,R=e.playbackRate,z=e.playing,N=e.playsInline,L=e.poster,M=e.preferMp4,B=e.preload,Z=e.src,F=e.videoStartTime,G=e.visible,V=e.volume,H=this.state.useHlsVideo,W=U(Z),K=k(k({},h),{},{startPosition:F||-1}),Y=!b&&m;return H&&W?(0,f.jsx)(I.Z,{accessibilityMaximizeLabel:t,accessibilityMinimizeLabel:n,accessibilityMuteLabel:r,accessibilityPauseLabel:o,accessibilityPlayLabel:i,accessibilityProgressBarLabel:a,accessibilityUnmuteLabel:l,aspectRatio:c,appInFocus:s,backgroundColor:u,captions:d,contextLogData:p,controls:_,hlsConfig:K,isAutoPlay:y,loop:m,loopOverride:Y,onDurationChange:g,onEnded:this.handleOnEnded,onFullscreenChange:P,onLoadedChange:w,onControlsPause:S,onControlsPlay:x,onPlayheadDown:O,onPlayheadUp:A,onReady:j,onSeek:E,onTimeChange:C,onVolumeChange:D,playbackRate:R,onPlay:function(){},onPlayError:function(){},playing:z,playsInline:N,poster:L,preload:B,setVideoRef:this.setVideoPlayerRef,src:W,visible:G,volume:V}):(0,f.jsx)(T,{accessibilityMaximizeLabel:t,accessibilityMinimizeLabel:n,accessibilityMuteLabel:r,accessibilityPauseLabel:o,accessibilityPlayLabel:i,accessibilityProgressBarLabel:a,accessibilityUnmuteLabel:l,aspectRatio:c,captions:d,contextLogData:p,controls:_,isAutoPlay:y,loop:m,loopOverride:Y,objectFit:v,onDurationChange:g,onEnded:this.handleOnEnded,onFullscreenChange:P,onLoadedChange:w,onControlsPause:S,onControlsPlay:x,onPlayheadDown:O,onPlayheadUp:A,onReady:j,onSeek:E,onTimeChange:C,onVolumeChange:D,playbackRate:R,onPlay:function(){},onPlayError:function(){},playing:z,playsInline:N,poster:L,preload:B,setVideoRef:this.setVideoPlayerRef,src:M?Z:W||Z,videoStartTime:F,visible:G,volume:V})}}])&&z(t.prototype,n),r&&z(t,r),i}(r.PureComponent);function V(e){var t=(0,i.I)().appUI.appInFocus,n=(0,s.B)();return(0,f.jsx)(G,k(k({},e),{},{appInFocus:t,requestContext:n}))}},944546:function(e,t,n){"use strict";n.d(t,{HJ:function(){return o},VS:function(){return r},iM:function(){return i}});var r=2,o="V_HLSV3_MOBILE",i=[0,.01,.02,.03,.04,.05,.06,.07,.08,.09,.1,.11,.12,.13,.14,.15,.16,.17,.18,.19,.2,.21,.22,.23,.24,.25,.26,.27,.28,.29,.3,.31,.32,.33,.34,.35,.36,.37,.38,.39,.4,.41,.42,.43,.44,.45,.46,.47,.48,.49,.5,.51,.52,.53,.54,.55,.56,.57,.58,.59,.6,.61,.62,.63,.64,.65,.66,.67,.68,.69,.7,.71,.72,.73,.74,.75,.76,.77,.78,.79,.8,.81,.82,.83,.84,.85,.86,.87,.88,.89,.9,.91,.92,.93,.94,.95,.96,.97,.98,.99,1]},855838:function(e,t,n){var r=n(472063);e.exports=function(e){return"function"==typeof e?e:r}},480578:function(e,t,n){var r=n(399111),o=n(855838),i=n(603919),a=4294967295,l=Math.min;e.exports=function(e,t){if((e=i(e))<1||e>9007199254740991)return[];var n=a,c=l(e,a);t=o(t),e-=a;for(var s=r(c,t);++n<e;)t(n);return s}},620332:function(e,t,n){var r=n(371151),o=1/0;e.exports=function(e){return e?(e=r(e))===o||e===-1/0?17976931348623157e292*(e<0?-1:1):e==e?e:0:0===e?e:0}},603919:function(e,t,n){var r=n(620332);e.exports=function(e){var t=r(e),n=t%1;return t==t?n?t-n:t:0}}}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/33361-65c53b064b855894.js.map