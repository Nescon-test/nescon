"use strict";(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[2731,51798],{166379:function(e){var t,r,n,o,a={fragment:{argumentDefinitions:t=[{defaultValue:null,kind:"LocalArgument",name:"inviteType"},{defaultValue:null,kind:"LocalArgument",name:"objectId"}],kind:"Fragment",metadata:null,name:"ShareInviteCreateExternalInviteGraphQLQuery",selections:[{alias:null,args:r=[{kind:"Variable",name:"inviteType",variableName:"inviteType"},{kind:"Variable",name:"objectId",variableName:"objectId"}],concreteType:null,kind:"LinkedField",name:"v3InviteUserExternalQuery",plural:!1,selections:[{kind:"InlineFragment",selections:[n={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},o={alias:null,args:null,concreteType:"InviteUserExternal",kind:"LinkedField",name:"data",plural:!1,selections:[{alias:"invite_code",args:null,kind:"ScalarField",name:"inviteCode",storageKey:null},{alias:"invite_url",args:null,kind:"ScalarField",name:"inviteUrl",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null}],storageKey:null}],type:"V3InviteUserExternal",abstractKey:null}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:t,kind:"Operation",name:"ShareInviteCreateExternalInviteGraphQLQuery",selections:[{alias:null,args:r,concreteType:null,kind:"LinkedField",name:"v3InviteUserExternalQuery",plural:!1,selections:[n,{kind:"InlineFragment",selections:[o],type:"V3InviteUserExternal",abstractKey:null}],storageKey:null}]},params:{id:"ab55ea9f382837bc92cb5dab03686e16868a27912a9e4237e2ddbe7a15540d21",metadata:{},name:"ShareInviteCreateExternalInviteGraphQLQuery",operationKind:"query",text:null}};a.hash="9c91c46b70b37b163403747442a8c1d4",e.exports=a},380465:function(e){var t,r,n,o,a={fragment:{argumentDefinitions:t=[{defaultValue:null,kind:"LocalArgument",name:"invite_category"},{defaultValue:null,kind:"LocalArgument",name:"url"}],kind:"Fragment",metadata:null,name:"ShareInviteCreateShareLinkGraphQLQuery",selections:[{alias:null,args:r=[{kind:"Variable",name:"inviteCategory",variableName:"invite_category"},{kind:"Literal",name:"name",value:""},{kind:"Variable",name:"url",variableName:"url"}],concreteType:null,kind:"LinkedField",name:"v3CreateShareLinkQuery",plural:!1,selections:[{kind:"InlineFragment",selections:[n={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},o={alias:null,args:null,concreteType:"ShareLink",kind:"LinkedField",name:"data",plural:!1,selections:[{alias:"invite_code",args:null,kind:"ScalarField",name:"inviteCode",storageKey:null},{alias:"invite_url",args:null,kind:"ScalarField",name:"inviteUrl",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null}],storageKey:null}],type:"V3CreateShareLink",abstractKey:null},{kind:"InlineFragment",selections:[n],type:"ClientError",abstractKey:null}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:t,kind:"Operation",name:"ShareInviteCreateShareLinkGraphQLQuery",selections:[{alias:null,args:r,concreteType:null,kind:"LinkedField",name:"v3CreateShareLinkQuery",plural:!1,selections:[n,{kind:"InlineFragment",selections:[o],type:"V3CreateShareLink",abstractKey:null}],storageKey:null}]},params:{id:"8d8e9da7f5f5830ad00711d5fa1aa68c48b859aac0680cc0e49d58d3c1ccea88",metadata:{},name:"ShareInviteCreateShareLinkGraphQLQuery",operationKind:"query",text:null}};a.hash="e485abf49d319ba9c47587981f2a86be",e.exports=a},656177:function(e){var t,r,n,o,a,i,l,s,c={fragment:{argumentDefinitions:[t={defaultValue:null,kind:"LocalArgument",name:"inviteCode"},r={defaultValue:null,kind:"LocalArgument",name:"inviteType"},n={defaultValue:null,kind:"LocalArgument",name:"objectId"}],kind:"Fragment",metadata:null,name:"ShareInviteMutation",selections:[{alias:null,args:o=[{fields:[{kind:"Variable",name:"inviteCode",variableName:"inviteCode"},{kind:"Variable",name:"inviteType",variableName:"inviteType"},{kind:"Variable",name:"objectId",variableName:"objectId"}],kind:"ObjectValue",name:"input"}],concreteType:null,kind:"LinkedField",name:"v3InviteSentExternalMutation",plural:!1,selections:[{kind:"InlineFragment",selections:[a={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{alias:null,args:null,concreteType:"InviteCode",kind:"LinkedField",name:"data",plural:!1,selections:[i={alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},l={alias:null,args:null,kind:"ScalarField",name:"fromUserId",storageKey:null}],storageKey:null}],type:"V3InviteSentExternal",abstractKey:null},{kind:"InlineFragment",selections:[a,s={alias:null,args:null,concreteType:"ErrorInfo",kind:"LinkedField",name:"error",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"message",storageKey:null}],storageKey:null}],type:"InvalidParameters",abstractKey:null}],storageKey:null}],type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[r,t,n],kind:"Operation",name:"ShareInviteMutation",selections:[{alias:null,args:o,concreteType:null,kind:"LinkedField",name:"v3InviteSentExternalMutation",plural:!1,selections:[a,{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"InviteCode",kind:"LinkedField",name:"data",plural:!1,selections:[i,l,{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null}],type:"V3InviteSentExternal",abstractKey:null},{kind:"InlineFragment",selections:[s],type:"InvalidParameters",abstractKey:null}],storageKey:null}]},params:{id:"30e03e1f3b6dded5c6d93bfecfb50065b254f1307aec34dfa67719890b615b82",metadata:{},name:"ShareInviteMutation",operationKind:"mutation",text:null}};c.hash="c33b898a613c3dc2792113fb7e97b0f5",e.exports=c},743473:function(e,t,r){r.d(t,{Z:function(){return k}});var n=r(567831),o=r(794230),a=r(107193),i=r(402201),l=r(704115),s=r(6637);var c={open:function(e){var t,r,d=(r=e,c._validParams.reduce((function(e,t){return r&&Object.prototype.hasOwnProperty.call(r,t)&&(e[t]=r[t]),e}),{})),u=c._getDialogType(e),_=c.generateFbRef(null!==(t=e.unauthId)&&void 0!==t?t:""),b=e.object_type&&e.object_id&&"feed"===u,h=(0,n.Z)(e.path),f=(0,l.Z)();if(f.ptrf&&(h=(0,o.Z)(h,{ptrf:f.ptrf})),b&&(h=(0,o.Z)(h,{fb_ref:_})),d.method=u,"feed"===d.method){var p=(0,i.Z)({width:e.width,height:e.height}),v="http://www.facebook.com/sharer/sharer.php?u="+h;d.picture&&(v+="&picture="+d.picture),d.name&&(v+="&title="+d.name),d.description&&(v+="&description="+d.description),d.caption&&(v+="&caption="+d.caption),window.open(encodeURI(v),"sharer",p)}else"send"===d.method?d.link=h:"share"===d.method&&(d.href=h),(0,a.default)((function(t){t.getLoginStatus((function(){if("send"===d.method){t.ui(d);var r,n=10,o=setInterval((function(){!(r=function(){if(document){var e=Array.from(document.querySelectorAll(".fb_dialog_iframe iframe"));if(e.length){if(1===e.length)return e[0];for(var t=e.splice(0,e.length-1),r=0;r<t.length;r+=1){var n=t[r].parentNode;n&&n.removeChild(t[r])}return e[0]}}}())&&n||(clearInterval(o),r&&c.executeMessengerCallback(r,e.callback)),n-=1}),1e3)}else"share"===d.method&&t.ui(d,(function(t){b&&t&&!t.error_message&&s.Z.create("LogFacebookFeedShare",{object_type:e.object_type,object_id:e.object_id,fb_ref:_}).callCreate({showError:!1}),e.callback&&e.callback(t)}))}))}),e.viewer)},_validParams:["description","name","picture","to","href","caption","display"],_validOptions:["send","feed","share"],executeMessengerCallback:function(e,t){var r=10,n=setInterval((function(){"0px"!==e.style.width&&r||(clearInterval(n),e.style.width="575px"),r-=1}),1e3);t&&t()},generateFbRef:function(e){for(var t="";t.length<20;)t+=Math.floor(65535*Math.random()).toString(16);return e+":"+t},_getDialogType:function(e){return c._validOptions.includes(e.type)?e.type:"feed"}},d=c;function u(e,t,r){var n=function(e,t){var r=window.screen.width,n=window.screen.height;return"scrollbars=yes,resizable=yes,toolbar=no,location=yes,width="+e+",height="+t+",left="+Math.round((r-e)/2)+",top="+(n>t?Math.round((n-t)/2):0)}(t,r);window.open(e,void 0,n)}var _,b,h={DIALOG_WIDTH:510,DIALOG_HEIGHT:525,openDialog:function(e){u(h._getWindowUrl(e.share_path,e.share_text),h.DIALOG_WIDTH,h.DIALOG_HEIGHT)},_getWindowUrl:function(e,t){return(0,o.Z)("https://social-plugins.line.me/lineit/share",{url:e?(0,n.Z)(e):void 0,text:t})}},f=h,p={DIALOG_WIDTH:550,DIALOG_HEIGHT:420,openDialog:function(e){u(p._getWindowUrl(e.tweet_path,e.tweet_text),p.DIALOG_WIDTH,p.DIALOG_HEIGHT)},_getWindowUrl:function(e,t){return(0,o.Z)("https://twitter.com/intent/tweet",{via:"pinterest",url:e?(0,n.Z)(e):void 0,text:t||void 0})}},v=p,m=r(704217);function g(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function y(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?g(Object(r),!0).forEach((function(t){x(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):g(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function x(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function j(e,t,r,n,o,a,i){try{var l=e[a](i),s=l.value}catch(c){return void r(c)}l.done?t(s):Promise.resolve(s).then(n,o)}function P(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var a=e.apply(t,r);function i(e){j(a,n,o,i,l,"next",e)}function l(e){j(a,n,o,i,l,"throw",e)}i(void 0)}))}}var C=void 0!==_?_:_=r(166379),w=void 0!==b?b:b=r(380465),O=function(){var e=P(regeneratorRuntime.mark((function e(t,r,n){var o,a,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=function(e){var t,r,n;return{invite_code:null!==(t=null==e?void 0:e.invite_code)&&void 0!==t?t:"",invite_url:null!==(r=null==e?void 0:e.invite_url)&&void 0!==r?r:"",title:null!==(n=null==e?void 0:e.title)&&void 0!==n?n:""}},e.next=3,(0,m.fetchQuery)(t,w,{invite_category:n.toString(),url:r}).toPromise();case 3:return i=e.sent,e.abrupt("return",a(null==i||null===(o=i.v3CreateShareLinkQuery)||void 0===o?void 0:o.data));case 5:case"end":return e.stop()}}),e)})));return function(t,r,n){return e.apply(this,arguments)}}(),A=function(){var e=P(regeneratorRuntime.mark((function e(t,r,n,o,a){var i,l,s,c;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return l=function(e){var t,r,n;return{invite_code:null!==(t=null==e?void 0:e.invite_code)&&void 0!==t?t:"",invite_url:null!==(r=null==e?void 0:e.invite_url)&&void 0!==r?r:"",title:null!==(n=null==e?void 0:e.title)&&void 0!==n?n:""}},s={invite_category:r,invite_object:n,invite_channel:o},e.next=4,(0,m.fetchQuery)(t,C,{inviteType:JSON.stringify(s),objectId:a}).toPromise();case 4:return c=e.sent,e.abrupt("return",l(null==c||null===(i=c.v3InviteUserExternalQuery)||void 0===i?void 0:i.data));case 6:case"end":return e.stop()}}),e)})));return function(t,r,n,o,a){return e.apply(this,arguments)}}(),I={ObjectTypeToInviteObject:{pin:1,board:2,pinner:3,article:5,did_it:6,today_article:8,search:0},_convertToInviteObject:function(e){return this.ObjectTypeToInviteObject[e]||0},_logShareInvite:function(e,t,r){var n=this._convertToInviteObject(e.object_type),o=e.invite_channel,a=null==e.invite_category?3:e.invite_category,i=e.object_id;return s.Z.create("SentExternalInviteCallbackResource",{invite_type:{invite_category:a,invite_object:n,invite_channel:o},invite_code:t,object_id:i,client_tracking_params:e.client_tracking_params}).callCreate()},createShareInviteData:function(e,t){var r=this._convertToInviteObject(e.object_type),n=e.invite_channel,o=null==e.invite_category?3:e.invite_category,a=e.orbac_subject_id;if(10===o&&e.path)return t?O(t,e.path,o):s.Z.create("ShareLinkResource",{invite_category:o,url:e.path}).callCreate().then((function(e){return Promise.resolve(e.resource_response.data)}),(function(e){return Promise.reject(e)}));if(t)return A(t,o,r,n.toString(),e.object_id);var i=e.object_id;return s.Z.create("CreateExternalInviteResource",y({invite_type:{invite_category:o,invite_object:r,invite_channel:n},object_id:i},a?{orbac_subject_id:a}:{})).callCreate().then((function(e){return Promise.resolve(e.resource_response.data)}),(function(e){return Promise.reject(e)}))},logShareInvite:function(e,t,r){t&&I._logShareInvite(e,t.invite_code,r)},shareFacebookInvite:function(e,t){var r=e.options,n=e.unauthId,o=e.viewer;return I.createShareInviteData(r,t).then((function(e){var a=e.invite_url,i=e.invite_code;if(a){var l={type:"share",object_type:r.object_type,object_id:r.object_id,name:r.name,caption:e.title,description:r.description,path:a,picture:r.picture,callback:function(e){e&&!e.error_message&&I._logShareInvite(r,i,t)}};d.open(y(y({},l),{},{display:"popup",unauthId:n,viewer:o}))}return Promise.resolve(e)}),(function(e){return Promise.reject(e)}))},shareTwitterInvite:function(e,t){var r=this._convertToInviteObject(e.object_type);return I.createShareInviteData(e,t).then((function(n){var o=n.invite_url,a=n.invite_code,i=e.description;return 6===r&&e.name&&(i=e.name),i.trim()||(i="".concat(n.title,"\n")),o&&v.openDialog({tweet_path:o,tweet_text:i}),I._logShareInvite(e,a,t),Promise.resolve(n)}),(function(e){return Promise.reject(e)}))},shareLineInvite:function(e,t){var r=this._convertToInviteObject(e.object_type);return I.createShareInviteData(e,t).then((function(n){var o=n.invite_url,a=n.invite_code,i=e.description;return 6===r&&e.name&&(i=e.name),i.trim()||(i="".concat(n.title,"\n")),o&&f.openDialog({share_path:o,share_text:i}),I._logShareInvite(e,a,t),Promise.resolve(n)}),(function(e){return Promise.reject(e)}))},shareFbMessengerInvite:function(e,t){var r=e.options,n=e.unauthId,o=e.viewer;return I.createShareInviteData(r,t).then((function(e){var a=e.invite_url,i=e.invite_code;return a&&d.open({type:"send",object_type:r.object_type,object_id:r.object_id,name:r.name,caption:e.title,description:r.description,path:a,picture:r.picture,callback:function(e){e&&e.success&&I._logShareInvite(r,i,t)},display:"popup",unauthId:n,viewer:o}),Promise.resolve(e)}),(function(e){return Promise.reject(e)}))}},k=I},720247:function(e,t,r){function n(e){var t=!1;return{promise:new Promise((function(r,n){e.then((function(e){return t?n({isCanceled:!0}):r(e)}),(function(e){return n(t?{isCanceled:!0}:e)}))})),cancel:function(){t=!0}}}r.d(t,{Z:function(){return n}})},107193:function(e,t,r){r.r(t);var n=r(336882),o=r(935879),a=r(713930),i=r(6637),l=r(966113),s=r(867820),c=!1,d=function(e){return e.isAuth&&!!e.facebookId&&!e.isLimitedLogin};t.default=function e(t,r){var u=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"en-US",_=arguments.length>3?arguments[3]:void 0;_&&(0,s.dy)({event:"load_script_start",provider:"facebook"}),(0,a.Z)((0,o.Z)(u),"FACEBOOK").then((function(){_&&(0,s.dy)({event:"load_script_success",provider:"facebook"});var o=window.FB;o?(c||(_&&(0,s.dy)({event:"initialize_library",provider:"facebook"}),o.init({appId:l.GH,status:!0,version:"v2.2"}),FB.Event.subscribe("auth.statusChange",(function(){d(r)&&e((function(e){if(e.getUserID()){var t=e.getAccessToken();t&&i.Z.create("ApiResource",{url:"/v3/connect/facebook/",data:{facebook_token:t}}).callCreate({showError:!1})}}),r)})),c=!0,window.fb_init=n.Z.FINISHED),t(o)):_&&(0,s.dy)({event:"global_object_not_found",provider:"facebook"})})),window.fb_init=n.Z.STARTED}},730447:function(e,t,r){r.d(t,{Z:function(){return a}});var n=r(76911),o=r(254469);function a(e){var t=e.allowSearchOnMount,r=e.children,a=e.onTypeaheadSuggestionsChange,i=e.resourceName,l=e.resourceOptions,s=e.value,c=(0,o.Z)({allowSearchOnMount:t,resourceName:i,resourceOptions:l,value:s});return(0,n.useEffect)((function(){null!=c&&c.length&&a(c)}),[c]),r||null}},936776:function(e,t){var r=/^[\w.!#$%&'*+\-\/=?\^`{|}~]+@[a-z\d\-]+(\.[a-z\d\-]+)+$/i;t.Z=function(e){return r.test(e)}},149230:function(e,t,r){var n=r(954931);t.Z=function(e){var t=e.url;return!(!t||!t.match(/^https{0,1}:\/\//)||(0,n.Z)(t))}},619415:function(e,t,r){r.d(t,{Z:function(){return a}});var n=r(908390),o=r(515198);function a(e){var t=e.iconNode,r=e.title,a=e.subtitle,i=e.accessory,l=e.inContactsSearchform;return(0,o.jsxs)(n.xu,{display:"flex",alignItems:"center",paddingX:4,paddingY:2,children:[(0,o.jsx)(n.xu,{marginEnd:l?4:2,children:t}),(0,o.jsxs)(n.kC,{alignItems:"start",direction:"column",flex:"grow",justifyContent:"start",children:[(0,o.jsx)(n.xv,{color:"default",size:"300",lineClamp:1,weight:"bold",children:r}),(0,o.jsx)(n.xv,{lineClamp:1,size:"100",color:"subtle",children:a})]}),i&&(0,o.jsx)(n.xu,{children:i})]})}},962424:function(e,t,r){r.d(t,{Z:function(){return J}});var n=r(76911),o=r(722177),a=r(607989),i=r(908390),l=r(515198),s=function(e){var t=e.label,r=e.labelId;return r?(0,l.jsx)(i.__,{htmlFor:r,children:(0,l.jsx)(i.xv,{size:"100",children:t})}):(0,l.jsx)(i.xv,{size:"100",children:t})};function c(e){var t=e.children,r=e.label,o=e.labelId;return(0,l.jsxs)(n.Fragment,{children:[(0,l.jsx)(i.xu,{marginBottom:2,children:(0,l.jsx)(s,{label:r,labelId:o})}),t]})}var d=r(898781),u=r(780280);function _(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==r)return;var n,o,a=[],i=!0,l=!1;try{for(r=r.call(e);!(i=(n=r.next()).done)&&(a.push(n.value),!t||a.length!==t);i=!0);}catch(s){l=!0,o=s}finally{try{i||null==r.return||r.return()}finally{if(l)throw o}}return a}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return b(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return b(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function b(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var h=138;function f(e){var t=e.coverPin,r=e.handleShowBoardCoverEditModal,o=(0,d.ZP)(),a=_((0,n.useState)(!1),2),s=a[0],b=a[1],f=(0,u.B)().isRTL;return(0,l.jsx)(c,{label:o._('Board cover', 'BoardForm.BoardFormCoverButton', 'Form label for updating board cover'),children:(0,l.jsx)(i.xu,{width:h,position:"relative",children:(0,l.jsx)(i.iP,{onMouseEnter:function(){return b(!0)},onMouseLeave:function(){return b(!1)},onTap:r,rounding:4,children:null!=t&&t.custom_cover?(0,l.jsxs)(n.Fragment,{children:[(0,l.jsx)(i.zd,{height:h,rounding:4,width:h,children:(0,l.jsx)(i.Ee,{alt:t.image_url,color:"gray",fit:"cover",naturalHeight:t.size&&t.size[0]||h,naturalWidth:t.size&&t.size[0]||h,src:t.image_url})}),(0,l.jsx)(i.xu,{position:"absolute",left:f,right:!f,bottom:!0,padding:2,children:(0,l.jsx)(i.xu,{alignItems:"center",display:"flex",height:44,justifyContent:"center",rounding:"circle",width:44,dangerouslySetInlineStyle:{__style:{background:s?"white":"rgba(255, 255, 255, 0.8)"}},children:(0,l.jsx)(i.JO,{accessibilityLabel:o._('Edit board cover', 'BoardForm.BoardFormBoardCoverButton', 'Accessibility label on icon'),icon:"edit",color:"default",size:16})})})]}):(0,l.jsx)(i.xu,{alignItems:"center",color:s?"darkWash":"secondary",display:"flex",height:h,justifyContent:"center",rounding:4,width:h,children:(0,l.jsx)(i.JO,{accessibilityLabel:o._('Add cover photo', 'BoardForm.BoardFormCoverButton', 'Accessibility label on icon'),color:"default",icon:"add",size:24})})})})})}function p(e){var t=e.children,r=e.label,o=e.labelId,a=e.subtext;return(0,l.jsx)(n.Fragment,{children:(0,l.jsxs)(i.xu,{alignItems:"center",display:"flex",justifyContent:"start",paddingY:1,children:[t,(0,l.jsx)(i.xu,{marginStart:2,children:(0,l.jsxs)(i.__,{htmlFor:o,children:[(0,l.jsx)(i.xv,{size:"300",weight:"bold",children:r}),a]})})]})})}function v(e){var t=e.hasCollabBoardEmail,r=e.isCollaborative,n=e.onCheckboxChange,o=(0,d.ZP)();return r&&(0,l.jsx)(p,{label:o._('Email notifications', 'BoardForm.BoardFormCollaboratorsEmailCheckbox', 'Form label'),labelId:"emailNotificationsCheckbox",subtext:(0,l.jsx)(i.xv,{color:"subtle",size:"300",children:o._('Get an email when someone saves Pins to this board', 'BoardForm.BoardFormCollaboratorsEmailCheckbox', 'Text explaing field on board form')}),children:(0,l.jsx)(i.kC,{alignItems:"center",justifyContent:"start",children:(0,l.jsx)(i.xu,{marginEnd:1,children:(0,l.jsx)(i.XZ,{checked:t,id:"emailNotificationsCheckbox",name:"email",onChange:n})})})})}var m=r(960278),g=r(349700);function y(e){var t,r=e.board,n=e.onCollaboratorInviteClick,o=(0,d.ZP)(),a=(0,m.Z)({boardId:r.id,ownerName:null!==(t=r.owner.full_name)&&void 0!==t?t:"",ownerUsername:r.owner.username,ownerImgSrc:r.owner.image_medium_url||r.owner.image_small_url||""}),s=a.slice(0,3).map((function(e){return e.name})),c="";switch(a.length){case 3:c=(0,g.Wc)("".concat(o._('{{ first }}, {{ second }}, and {{ last }}', 'CollaboratorsFacePile.AvatarGroup.accessibilityLabel.usernames.ThreeAvatars', 'List of three usernames')),{first:"".concat(s[0]),second:"".concat(s[1]),last:"".concat(s[2])});break;case 2:c=(0,g.Wc)("".concat(o._('{{ first }} and {{ second }}', 'CollaboratorsFacePile.AvatarGroup.accessibilityLabel.usernames.TwoAvatars', 'List of two usernames.')),{first:"".concat(s[0]),second:"".concat(s[1])});break;default:c=s.join(", ")}var u=a.length>3?(0,g.Wc)(o.ngettext('Collaborators: {{ userNames }} and {{ leftCount }} more.', 'Collaborators: {{ userNames }} and {{ leftCount }} more.', a.length - 3, 'CollaboratorsFacePile.AvatarGroup.accessibilityLabel.aboveThree', 'Accessibility label that lists the names of collaborators and a final count of non-displayed avatars'),{userNames:c,leftCount:"".concat(a.length-3)}):(0,g.Wc)("".concat(o._('Collaborators: {{ userNames }}.', 'CollaboratorsFacePile.AvatarGroup.accessibilityLabel.notAboveThree', 'Accessibility label that lists the names of collaborators')),{userNames:c});return(0,l.jsxs)(i.kC,{alignItems:"center",justifyContent:"between",children:[(0,l.jsx)(i.HE,{accessibilityLabel:u,collaborators:a.map((function(e){var t=e.name,r=e.src;return{src:null!=r&&r.endsWith("/default_75.png")?void 0:r,name:t}})),size:"md"}),(0,l.jsx)(i.hU,{accessibilityLabel:o._('Invite collaborators', 'BoardEdit.BoardCollaboratorsAndInviteSection', 'Accessibility label on button'),bgColor:"lightGray",icon:"add",iconColor:"darkGray",onClick:n,size:"lg"})]})}var x=r(948618);function j(e){var t=e.board,r=e.onCollaboratorInviteClick,n=(0,d.ZP)(),o=(0,l.jsxs)(i.kC,{alignItems:"center",justifyContent:"start",children:[(0,l.jsx)(i.xv,{size:"100",inline:!0,children:n._('Collaborators', ' - ', ' -- ')}),(0,l.jsx)(x.Z,{}),(0,l.jsx)(i.xv,{inline:!0,size:"100",weight:"bold",children:(0,l.jsx)(i.rU,{display:"inlineBlock",target:"blank",href:"https://www.pinterest.com/_/_/help/article/group-boards?source=board_create",underline:"hover",children:n._('Learn more', ' - ', ' -- ')})})]});return(0,l.jsx)(c,{label:o,labelId:"collaborators",children:(0,l.jsx)(y,{board:t,onCollaboratorInviteClick:r})})}function P(e){var t=e.collaboratorInvitesEnabled,r=e.isCollaborative,n=e.onCheckboxChange,o=(0,d.ZP)();return r&&(0,l.jsx)(p,{label:o._('Let collaborators add people', 'BoardForm.BoardFormCollaboratorsInviteToggle', 'Form label'),labelId:"collaboratorInvitesEnabledCheckbox",children:(0,l.jsx)(i.XZ,{checked:t,id:"collaboratorInvitesEnabledCheckbox",name:"collaboratorInvitesEnabled",onChange:n})})}function C(e){var t=e.description,r=e.descriptionValidatorErrors,n=e.onChange,o=(0,d.ZP)(),a="boardEditDescription";return(0,l.jsx)(c,{label:o._('Description', 'BoardForm.BoardFormDescription', ' Form field label'),labelId:a,children:(0,l.jsx)(i.Kx,{errorMessage:r.join(", "),id:a,name:"description",onChange:n,placeholder:o._('What\'s your board about?', ' - ', ' -- '),value:t})})}var w=function(e){var t=e.children;return(0,l.jsx)(i.xu,{paddingX:8,role:"list",children:n.Children.map(t,(function(e,r){return e&&(0,l.jsx)(i.xu,{role:"listitem",marginBottom:r===n.Children.count(t)-1?1:8,children:e},r)}))})},O=r(27255);function A(e){var t=e.isProtectedToggler,r=e.isToggleDisable,o=e.onChange,a=e.onCheckboxChange,s=e.privacy,c=(0,d.ZP)();if(!0===t)return(0,l.jsx)(p,{label:c._('Protected board (not listed on user\'s profile)', 'BoardForm.BoardFormSecretToggle', 'protected board'),labelId:"protected",children:(0,l.jsx)(i.xu,{paddingY:2,children:(0,l.jsx)(i.rs,{onChange:o,switched:s===O.Z.BoardPrivacy.PROTECTED,id:"protected",disabled:r})})});if(s!==O.Z.BoardPrivacy.PROTECTED){var u=c._('Keep this board secret', 'BoardForm.BoardFormSecretToggle', 'Caption for board settings to set visibility'),_=(0,l.jsx)(n.Fragment,{children:(0,l.jsxs)(i.xv,{color:"subtle",size:"300",children:[c._('So only you and collaborators can see it.', 'BoardForm.BoardFormSecretToggle', 'notifying the board owner only they and the collaborators can see the board if it set to secret')," ",(0,l.jsx)(i.rU,{display:"inlineBlock",target:"blank",href:"https://www.pinterest.com/_/_/help/article/change-board-privacy?source=secret_create",underline:"hover",children:c._('Learn more', 'BoardForm.BoardFormSecretToggle', 'Link to learn more about secret boards')})]})});return(0,l.jsx)(p,{label:u,labelId:"secret",subtext:_,children:(0,l.jsx)(i.kC,{alignItems:"center",justifyContent:"start",children:(0,l.jsx)(i.XZ,{checked:s===O.Z.BoardPrivacy.SECRET,id:"secret",name:"secret",onChange:a,disabled:r})})})}return null}function I(e){var t=e.allowHomefeedRecommendations,r=e.onCheckboxChange,n=(0,d.ZP)();return(0,l.jsx)(p,{label:n._('Personalization', 'BoardForm.BoardFormRecommendationToggle', 'form label'),labelId:"recommendation",subtext:(0,l.jsx)(i.xv,{color:"subtle",size:"300",children:n._('Show Pins inspired by this board in your home feed.', 'BoardForm.BoardFormRecommendationToggle', 'Caption for board settings to set visibility')}),children:(0,l.jsx)(i.XZ,{checked:t,id:"recommendation",name:"recommendation",onChange:r})})}function k(e){var t=e.name,r=e.nameValidatorErrors,n=e.onChange,o=(0,d.ZP)();return(0,l.jsx)(c,{label:o._('Name', 'BoardForm.BoardFormTitleInput', 'Form field label'),labelId:"boardEditName",children:(0,l.jsx)(i.nv,{errorMessage:r.join(", "),id:"boardEditName",name:"boardName",onChange:n,placeholder:o._('Like "Places to Go" or "Recipes to Make"', ' - ', ' -- '),size:"lg",value:t})})}var S=r(66699),z=r(995228),E=r(50286),B=r(121151),D=r(343341),T=r(134906);function F(e){return(F="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function L(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Z(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?L(Object(r),!0).forEach((function(t){K(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):L(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function M(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function R(e,t){return(R=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function U(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=V(e);if(t){var o=V(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return H(this,r)}}function H(e,t){if(t&&("object"===F(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return N(e)}function N(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function V(e){return(V=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function K(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var G=(0,n.lazy)((function(){return r.e(3613).then(r.bind(r,903613))})),X=function(e,t){return(0,T.Gy)({max:e,maxErrorString:(0,S.Z)(t._('Please enter no more than {{ maxLength }} characters.', 'Validation error when a string is too long', 'Validation error when a string is too long'),{maxLength:e})})},W=function(e){return[X(O.Z.MAX_CHARS_FOR_BOARD_PIN_DESCRIPTION,e)]},q=function(e){return[(0,T.aH)({message:e._('Don\'t forget to name your board!', ' - ', ' -- ')}),X(O.Z.MAX_CHARS_FOR_BOARD_TITLE,e)]},Q=function(e){var t=e.condition,r=e.children;return t?(0,l.jsx)(i.xu,{position:"absolute",zIndex:B.b7,children:r}):r},Y=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&R(e,t)}(d,e);var t,r,s,c=U(d);function d(e){var t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,d),K(N(t=c.call(this,e)),"handleChangeName",(function(e){var r=e.value,n=(0,T.FU)(q(t.props.i18n),r);t.setState({name:r,nameValidatorErrors:n})})),K(N(t),"handleChangeDescription",(function(e){var r=e.value,n=(0,T.FU)(W(t.props.i18n),r);t.setState({description:r,descriptionValidatorErrors:n})})),K(N(t),"handleChangePrivacyToggle",(function(e){var r="public";e.value&&(r=t.props.isAdAccount?"protected":"secret"),t.state.privacy!==r&&t.setState({privacy:r})})),K(N(t),"handleEnableSecret",(function(){t.setState({privacy:"secret",showSecretConfirmation:!1})})),K(N(t),"handleHideSecretConfirmation",(function(){t.setState({showSecretConfirmation:!1})})),K(N(t),"handleChangeRecommendationToggle",(function(e){var r=e.value;t.setState({allowHomefeedRecommendations:r})})),K(N(t),"handleChangeCollabBoardEmail",(function(e){var r=e.value;t.setState({collab_board_email:r})})),K(N(t),"handleChangeCollaboratorInvitesEnabled",(function(e){var r=e.value;t.setState({collaboratorInvitesEnabled:r})})),K(N(t),"handleCheckboxChange",(function(e){return function(t){var r=t.event,n=t.checked;return e({event:r,value:n})}})),K(N(t),"handleSubmit",(function(e){var r=t.props.onSubmit,n=t.state,o=n.collab_board_email,a=n.collaboratorInvitesEnabled,i=n.description,l=n.name,s=n.privacy,c=n.allowHomefeedRecommendations;if(e.preventDefault&&e.preventDefault(),!t.submitDisabled()){var d=l.trim(),u=i.trim();t.setState({submitting:!0,submitError:""}),r({name:d,collab_board_email:o,collaborator_invites_enabled:a,description:u,privacy:s,allow_homefeed_recommendations:c}).then((function(){t.setState({submitting:!1})})).catch((function(e){var r=t.props.i18n._('Uh oh! Something went wrong.', ' - ', ' -- ');if(e.message){var n=e.message,o=e.message_detail;r=o?"".concat(n," ").concat(o):n}else"string"==typeof e&&(r=e);t.setState({submitting:!1,submitError:r})}))}})),K(N(t),"handleShowBoardCoverEditModal",(function(){t.setState({showBoardCoverEdit:!0})})),K(N(t),"handleHideBoardCoverEditModal",(function(){t.setState({showBoardCoverEdit:!1})})),K(N(t),"handleShowCollaboratorsModal",(function(){t.setState({showCollaboratorsModal:!0})})),K(N(t),"handleHideCollaboratorsModal",(function(){t.setState({showCollaboratorsModal:!1})})),K(N(t),"handleSaveBoardCoverEditModal",(function(e){t.handleHideBoardCoverEditModal();var r=t.props.onCropChange;r&&r(e)}));var r=e.board,n=r.collab_board_email,o=r.collaborator_invites_enabled,a=r.description,i=r.name,l=r.pin_count,s=r.privacy,u=r.allow_homefeed_recommendations;return t.state={collab_board_email:n,description:a,name:i,pin_count:l,privacy:s,allowHomefeedRecommendations:u,collaboratorInvitesEnabled:o,nameValidatorErrors:[],descriptionValidatorErrors:[],showBoardCoverEdit:!1,showCollaboratorsModal:!1,showSecretConfirmation:!1,submitting:!1,previousName:i,previousDescription:a,previousPrivacy:s},t}return t=d,s=[{key:"getDerivedStateFromProps",value:function(e,t){var r={};return e.board.name&&e.board.name!==t.previousName&&(r.previousName=e.board.name,r.nameValidatorErrors=(0,T.FU)(q(e.i18n),e.board.name)),e.board.description&&e.board.description!==t.previousDescription&&(r.previousDescription=e.board.description,r.descriptionValidatorErrors=(0,T.FU)(W(e.i18n),e.board.description)),e.board.privacy&&e.board.privacy!==t.previousPrivacy&&(r.previousPrivacy=e.board.privacy),r}}],(r=[{key:"getFormFooter",value:function(){var e=this.props.submitText,t=this.state.submitError;return(0,l.jsxs)(n.Fragment,{children:[(0,l.jsx)(i.kC,{alignItems:"center",justifyContent:"end",wrap:!0,children:(0,l.jsx)(i.xu,{children:(0,l.jsx)(i.kC,{alignItems:"stretch",justifyContent:"start",children:(0,l.jsx)(i.xu,{height:48,children:(0,l.jsx)(i.zx,{color:"red",disabled:this.submitDisabled(),onClick:this.handleSubmit,size:"lg",text:e,type:"submit"})})})})}),t&&(0,l.jsx)(i.xu,{paddingX:1,"aria-live":"polite",tabIndex:"0",children:(0,l.jsx)(i.xv,{color:"error",children:t})})]})}},{key:"submitDisabled",value:function(){var e=this.state,t=e.descriptionValidatorErrors,r=e.name,n=e.nameValidatorErrors,o=e.submitting;return!r||n.length>0||t.length>0||o}},{key:"render",value:function(){var e=this.props,t=e.board,r=e.board,s=r.archived_by_me_at,c=r.cover_pin,d=r.id,u=r.is_collaborative,_=e.coverImageHeight,b=e.coverImageWidth,h=e.currentUserIsOwner,p=e.handleBoardLeave,m=e.isAdAccount,y=e.isAdAccountOwner,x=e.isDeletable,O=e.isDesktop,S=e.isEditable,E=e.isNameAndSecretView,D=e.onClose,T=e.onDeleteButtonClick,F=e.requestContext,L=e.title,Z=e.useModalWithNoLayer,M=this.state,R=M.allowHomefeedRecommendations,U=M.collab_board_email,H=M.collaboratorInvitesEnabled,N=M.description,V=M.descriptionValidatorErrors,K=M.name,X=M.nameValidatorErrors,W=M.pin_count,q=M.privacy,Y=M.showBoardCoverEdit,J=M.showCollaboratorsModal,$=M.showSecretConfirmation,ee=S&&W>0,te=(0,l.jsxs)(w,{children:[ee&&(0,l.jsx)(f,{coverPin:c,handleShowBoardCoverEditModal:this.handleShowBoardCoverEditModal}),(0,l.jsx)(k,{name:K,nameValidatorErrors:X,onChange:this.handleChangeName}),(0,l.jsx)(C,{description:N,descriptionValidatorErrors:V,onChange:this.handleChangeDescription}),h&&!!p&&(0,l.jsx)(j,{board:t,onCollaboratorInviteClick:this.handleShowCollaboratorsModal}),(0,l.jsx)(i.xu,{marginBottom:-7,children:(0,l.jsx)(i.xv,{size:"100",children:this.props.i18n._('Settings', 'BoardForm.BoardForm', 'Section heading in board edit form')})}),(0,l.jsx)(A,{isProtectedToggler:!!m,isToggleDisable:!!m&&!y,onChange:this.handleChangePrivacyToggle,onCheckboxChange:this.handleCheckboxChange(this.handleChangePrivacyToggle),privacy:q}),!s&&(0,l.jsx)(I,{allowHomefeedRecommendations:R,onCheckboxChange:this.handleCheckboxChange(this.handleChangeRecommendationToggle)}),(0,l.jsx)(v,{hasCollabBoardEmail:U,isCollaborative:u,onCheckboxChange:this.handleCheckboxChange(this.handleChangeCollabBoardEmail)}),(0,l.jsx)(P,{collaboratorInvitesEnabled:H,isCollaborative:u,onCheckboxChange:this.handleCheckboxChange(this.handleChangeCollaboratorInvitesEnabled)}),x&&(0,l.jsxs)(i.xu,{marginTop:-6,paddingY:4,children:[(0,l.jsx)(i.xv,{size:"100",children:this.props.i18n._('Action', 'BoardForm.BoardForm.Action', 'Section heading in board edit form')}),(0,l.jsxs)(i.iP,{onTap:T,children:[(0,l.jsx)(i.xu,{marginTop:2,marginBottom:1,"data-test-id":"deleteBoardButton",children:(0,l.jsx)(i.X6,{size:"400",children:this.props.i18n._('Delete board', 'BoardForm.Delete', 'Delete board label')})}),(0,l.jsx)(i.xv,{size:"300",color:"subtle",children:this.props.i18n._('Delete this board and all its Pins forever.', 'BoardForm.BoardForm.Delete.Label', 'Delete board warning text')}),(0,l.jsx)(i.xv,{size:"300",color:"subtle",children:this.props.i18n._('You can\'t undo this!', 'BoardForm.BoardForm.Delete.LabelTwo', 'Delete board warning text')})]})]})]});h?E&&(te=(0,l.jsxs)(w,{children:[(0,l.jsx)(k,{name:K,nameValidatorErrors:X,onChange:this.handleChangeName}),(0,l.jsx)(A,{isProtectedToggler:!!m,isToggleDisable:!!m&&!y,onChange:this.handleChangePrivacyToggle,privacy:q,onCheckboxChange:this.handleCheckboxChange(this.handleChangePrivacyToggle)})]})):te=(0,l.jsxs)(w,{children:[!!p&&(0,l.jsx)(j,{board:t,onCollaboratorInviteClick:this.handleShowCollaboratorsModal}),(0,l.jsx)(v,{hasCollabBoardEmail:U,isCollaborative:u,onCheckboxChange:this.handleCheckboxChange(this.handleChangeCollabBoardEmail)}),!s&&(0,l.jsx)(I,{allowHomefeedRecommendations:R,onCheckboxChange:this.handleCheckboxChange(this.handleChangeRecommendationToggle)}),(0,l.jsx)(i.xv,{color:"subtle",size:"300",children:(0,g.nk)(this.props.i18n._('Only the board\u2019s owner ({{ boardOwner }}) can manage the rest of its features', 'BoardForm.CollaboratorPermissionsCopy', 'Copy on board edit form letting collaborators know of their permissions on a board'),{boardOwner:(0,l.jsx)(i.xv,{color:"subtle",inline:!0,size:"300",weight:"bold",children:t.owner.full_name})})})]});var re=Z?i.u_:B.ZP,ne=this.props.i18n._('Change board cover', 'BoardForm.BoardCoverEdit.heading', 'Change board cover heading'),oe=(0,l.jsxs)(i.xu,{paddingY:8,position:"relative",children:[(0,l.jsx)(i.X6,{align:"center",size:"500",children:ne}),(0,l.jsx)(i.xu,{position:"absolute",top:!0,left:F.isRTL,right:!F.isRTL,paddingY:8,paddingX:6,children:(0,l.jsx)(i.hU,{accessibilityLabel:this.props.i18n._('Cancel change board cover', 'BoardForm.BoardCoverEdit.cancel', 'Cancel change board cover heading'),icon:"cancel",iconColor:"darkGray",onClick:this.handleHideBoardCoverEditModal,size:"md"})})]});return(0,l.jsxs)(n.Fragment,{children:[(0,l.jsx)(Q,{condition:!!Z,children:!Y&&!J&&(0,l.jsx)(re,{accessibilityModalLabel:this.props.i18n._('Board form', 'BoardForm.BoardForm', 'Accessibility label on board form'),size:"sm",onDismiss:D,footer:this.getFormFooter(),heading:L,children:(0,l.jsx)(i.xu,{marginEnd:"auto",marginStart:"auto",rounding:2,children:(0,l.jsx)("form",{method:"post",onSubmit:this.handleSubmit,children:te})})})}),Y&&O&&(0,l.jsx)(z.Z,{children:(0,l.jsx)(G,{boardId:d,boardName:K,coverPinId:null==c?void 0:c.pin_id,frameHeight:_,frameWidth:b,heading:oe,onCancel:this.handleHideBoardCoverEditModal,onSave:this.handleSaveBoardCoverEditModal})}),$&&(0,l.jsx)(a.Z,{confirmButtonLabel:this.props.i18n._('Make secret', 'Setting the boards visibility to secret', 'Setting the boards visibility to secret'),heading:this.props.i18n._('Are you sure?', 'Warning label asking users to be sure of their action', 'Warning label asking users to be sure of their action'),message:this.props.i18n._('If you make this board secret, some active ads will stop running', 'Explicitly warning users of the board visibility action they are doing', 'Explicitly warning users of the board visibility action they are doing'),onCancel:this.handleHideSecretConfirmation,onConfirm:this.handleEnableSecret}),J&&(0,l.jsx)(o.Z,{board:t,fromBoardEditModal:!0,onDismiss:this.handleHideCollaboratorsModal})]})}}])&&M(t.prototype,r),s&&M(t,s),d}(n.Component);function J(e){var t=(0,d.ZP)(),r="desktop"===(0,E.ZP)();return(0,l.jsx)(Y,Z(Z({},e),{},{isDesktop:r,i18n:t,requestContext:(0,u.B)(),toastManagerContext:(0,D.F9)()}))}K(Y,"defaultProps",{isNameAndSecretView:!1})},607989:function(e,t,r){r.d(t,{Z:function(){return l}});var n=r(121151),o=r(898781),a=r(908390),i=r(515198);function l(e){var t=e.cancelButtonLabel,r=e.confirmButtonLabel,l=e.heading,s=e.message,c=e.onCancel,d=e.onConfirm,u=(0,o.ZP)(),_=l||u._('Are you sure?', ' - ', ' -- '),b=t||u._('Cancel', ' - ', ' -- ');return(0,i.jsx)(n.ZP,{accessibilityModalLabel:_,footer:(0,i.jsxs)(a.xu,{marginEnd:-1,marginStart:-1,children:[(0,i.jsx)(a.xu,{"data-test-id":"cancel-button",padding:1,children:(0,i.jsx)(a.zx,{fullWidth:!0,onClick:c,size:"lg",text:b})}),(0,i.jsx)(a.xu,{"data-test-id":"confirm-button",padding:1,children:(0,i.jsx)(a.zx,{fullWidth:!0,color:"red",onClick:d,size:"lg",text:r})})]}),heading:_,onDismiss:c,role:"alertdialog",children:(0,i.jsx)(a.xu,{padding:4,children:(0,i.jsx)(a.xv,{children:s})})})}},781165:function(e,t,r){r.d(t,{A8:function(){return v},Cf:function(){return h},GJ:function(){return j},Jn:function(){return _},OA:function(){return c},SD:function(){return m},pS:function(){return d},q1:function(){return u},sJ:function(){return x},xx:function(){return p}});var n=r(6637);function o(e,t,r,n,o,a,i){try{var l=e[a](i),s=l.value}catch(c){return void r(c)}l.done?t(s):Promise.resolve(s).then(n,o)}function a(e){return function(){var t=this,r=arguments;return new Promise((function(n,a){var i=e.apply(t,r);function l(e){o(i,n,a,l,s,"next",e)}function s(e){o(i,n,a,l,s,"throw",e)}l(void 0)}))}}function i(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function l(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?i(Object(r),!0).forEach((function(t){s(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function s(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function c(e,t,r){return n.Z.create("BoardEmailInviteResource",l({board_id:e,emails:t},r?{orbac_subject_id:r}:Object.freeze({}))).callCreate()}function d(e,t,r){return n.Z.create("BoardInviteResource",l({board_id:e,invited_user_ids:t},r?{orbac_subject_id:r}:Object.freeze({}))).callCreate()}function u(e,t){return function(r){return n.Z.create("BoardInviteResource",{board_id:e,invited_user_id:t}).callUpdate().catch((function(){}))}}function _(e,t,r,o){return function(){var t=a(regeneratorRuntime.mark((function t(a){var i,s,c;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i=e.invited_user,s=e.status,c=e.board.id,i){t.next=3;break}return t.abrupt("return");case 3:return t.next=5,n.Z.create("accepted"===s?"BoardCollaboratorResource":"BoardInviteResource",l({ban:r,board_id:c,field_set_key:"boardEdit",invited_user_id:i.id},o?{orbac_subject_id:o}:{})).callDelete({showError:!1});case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}function b(e,t){return{type:"BOARD_OWNERSHIP_TRANSFER_REQUEST",payload:{boardId:e,collaboratorId:t}}}function h(e,t){return function(){var r=a(regeneratorRuntime.mark((function r(o){return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,n.Z.create("ApiResource",{url:"/v3/boards/".concat(e,"/collaborators/requests/ownership/"),data:{collaborator:t}}).callCreate();case 2:o(b(e,t));case 3:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}()}function f(e){return{type:"BOARD_OWNERSHIP_TRANSFER_REQUEST_CANCEL",payload:{boardId:e}}}function p(e,t){return function(){var r=a(regeneratorRuntime.mark((function r(o){return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,n.Z.create("ApiResource",{url:"/v3/boards/".concat(e,"/collaborators/requests/ownership/"),data:{collaborator:t}}).callDelete();case 2:o(f(e));case 3:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}()}var v=function(e,t){return{type:"BOARD_INVITE_ACCEPTED_BY_VIEWER",payload:{boardId:e,collaboratingUser:t}}},m=function(e,t){return function(r){r(v(e,t)),n.Z.create("BoardInviteResource",{board_id:e,invited_user_id:t.id}).callUpdate()}};function g(e,t){return{type:"BOARD_REQUEST_TO_JOIN",payload:{boardId:e,value:t}}}function y(e,t){return n.Z.create("BoardCollaboratorRequestResource",{board_id:e,requesting_user_id:t})}function x(e,t){return function(r){y(e,t).callCreate().catch((function(){r(g(e,!1))})),r(g(e,!0))}}function j(e,t){return function(r){y(e,t).callDelete({showError:!1}).catch((function(){r(g(e,!0))})),r(g(e,!1))}}},576028:function(e,t,r){r.d(t,{V:function(){return c},u:function(){return s}});var n=r(6637),o=r(254176);function a(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function i(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?a(Object(r),!0).forEach((function(t){l(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):a(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function l(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var s=function(e){return function(t){var r={board_id:e};return n.Z.create("BoardResource",r).callGet().then((function(e){var r=e&&e.resource_response&&e.resource_response.data;return r&&t((0,o.yT)(r)),e}))}};function c(e,t,r){return function(a,l){var s=l().boards[e],c=void 0===t.collaborator_requests_enabled||null===t.collaborator_requests_enabled?Object.freeze({}):{collaborator_requests_enabled:t.collaborator_requests_enabled},d=i(i({allow_homefeed_recommendations:t.allow_homefeed_recommendations,category:t.category,collab_board_email:t.collab_board_email,collaborator_invites_enabled:t.collaborator_invites_enabled,collaborator_permissions_setting:t.collaborator_permissions_setting,description:t.description,name:t.name,privacy:t.privacy,sensitivity:t.sensitivity||null},r?{orbac_subject_id:r}:Object.freeze({})),c);return a((0,o.yT)(i(i({},d),{},{id:e}))),n.Z.create("BoardResource",i(i({},d),{},{board_id:e})).callUpdate().then((function(e){var r=e&&e.resource_response&&e.resource_response.data||t;return a((0,o.yT)(r)),e})).catch((function(e){throw s&&a((0,o.yT)(s)),e}))}}},960278:function(e,t,r){r.d(t,{I:function(){return _}});var n=r(845772),o=r(784590),a=r(773285),i=["children"];function l(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}function s(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function c(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?s(Object(r),!0).forEach((function(t){d(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):s(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function d(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var u=function(e){var t=e.boardId,r=e.ownerUsername,i=e.ownerName,l=e.ownerImgSrc,s=(0,a.F)().checkExperiment("web_m10n_business_access_orbac_ga").anyEnabled,d=(0,n.Z)(),u=(0,o.Z)({name:"BoardInvitesResource",options:c({board_id:t,field_set_key:"boardEdit",status_filters:"new,accepted,contact_request_not_approved",sort:"viewer_first",include_inactive:!0},s&&d?{orbac_subject_id:d}:{})}),_=u.data,b=u.isLoaded,h=[{name:i,src:l,href:"/".concat(r,"/"),isDim:!1}];return b&&_&&_.length>0&&_.forEach((function(e){h.push({name:e&&e.invited_user?e.invited_user.full_name:"",src:e&&e.invited_user?e.invited_user.image_medium_url:"",href:e&&e.invited_user?"/".concat(e.invited_user.username,"/"):"",isDim:e&&["new","contact_request_not_approved"].includes(e.status)})})),h};function _(e){var t=e.children,r=l(e,i);return t(u(r))}t.Z=u},722177:function(e,t,r){r.d(t,{Z:function(){return Pe}});var n=r(76911),o=r(319915),a=r(947599),i=r(499128),l=r(898781),s=r(343341),c=r(908390),d=r(515198),u=(0,n.lazy)((function(){return r.e(4603).then(r.t.bind(r,128731,23))}));function _(e){var t=e.linkURL,r=e.onDidFocus,n=e.onDidClickCopyButton,_=(0,l.ZP)(),b=(0,s.F9)().showOneToast,h=_._('Copy link', '[button] copy a URL link shown, to paste in another place', '[button] copy a URL link shown, to paste in another place');return(0,d.jsxs)(c.xu,{display:"flex",alignItems:"center",paddingX:4,children:[(0,d.jsx)(c.xu,{flex:"grow",marginEnd:2,children:(0,d.jsx)(c.nv,{id:"copylinkurl",onChange:function(){},onFocus:r,size:"lg",type:"url",value:t})}),(0,d.jsx)(o.Z,{name:"SafeSuspense_CopyableLink_CopyToClipboard",children:(0,d.jsx)(a.Z,{fallback:(0,d.jsx)(c.zx,{text:h,disabled:!0}),children:(0,d.jsx)(u,{text:t,onCopy:function(e,t){t&&b((function(e){var t=e.hideToast;return(0,d.jsx)(i.ZP,{onHide:t,text:_._('Link copied to clipboard!', 'toast message to confirm if users copied the url successfully', 'toast message to confirm if users copied the url successfully')})})),n()},children:(0,d.jsx)(c.zx,{text:h,size:"lg"})})})})]})}var b=r(720247),h=r(845772),f=r(750869),p=r(407043),v=r(773285),m=r(743473);function g(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==r)return;var n,o,a=[],i=!0,l=!1;try{for(r=r.call(e);!(i=(n=r.next()).done)&&(a.push(n.value),!t||a.length!==t);i=!0);}catch(s){l=!0,o=s}finally{try{i||null==r.return||r.return()}finally{if(l)throw o}}return a}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return y(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return y(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function y(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function x(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function j(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?x(Object(r),!0).forEach((function(t){P(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):x(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function P(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var C=function(e,t){return j({invite_category:4,invite_channel:12,object_type:f.d.BOARD,object_id:e},t?{orbac_subject_id:t}:{})};function w(e){var t=e.boardId,r=(0,p.v)().logContextEvent,o=g((0,n.useState)(!1),2),a=o[0],i=o[1],l=g((0,n.useState)(null),2),s=l[0],c=l[1],u=(0,v.F)().checkExperiment("web_m10n_business_access_orbac_ga").anyEnabled,f=(0,h.Z)();(0,n.useEffect)((function(){if(!s){var e=C(t,u?f:""),r=(0,b.Z)(m.Z.createShareInviteData(e)),n=r.cancel;return r.promise.then((function(e){return c(e)})),function(){n()}}}),[]);var y=s?s.invite_url:"...",x=function(){null===s||a||(i(!0),m.Z.logShareInvite(C(t),s))};return(0,d.jsx)(_,{linkURL:y,onDidClickCopyButton:function(){r(j({event_type:101},function(e){return{component:13305,element:10921,object_id_str:e,view_type:5,view_parameter:3059}}(t))),x()},onDidFocus:x})}var O=r(774763),A=r(116303),I=r(784590);function k(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function S(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?k(Object(r),!0).forEach((function(t){z(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):k(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function z(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function E(e){var t=e.boardId,r=e.invitedUserId,o=e.isInvited,a=e.onClick,i=e.buttonSize,s=void 0===i?"sm":i,u=(0,l.ZP)(),_=(0,v.F)().checkExperiment("web_m10n_business_access_orbac_ga").anyEnabled,b=(0,h.Z)(),f=(0,I.Z)({name:"BoardInviteResource",options:S({board_id:t,invited_user_id:r},_&&b?{orbac_subject_id:b}:{})});(0,n.useEffect)((function(){f.refresh()}),[]);var p={text:u._('Invite', '[button] invite someone to collaborate on a board', 'it appears in the list expanded when click invite button at the top of board page'),color:"red",disabled:!1};return f.isFetching&&(p.text=u._('Loading', '[button] disabled button status text when checking if the user has been invited', 'it appears in the list expanded when click invite button at the top of board page'),p.color="gray",p.disabled=!0),(o||f.isLoaded&&f.data)&&(p.text=u._('Invited', '[button] disabled button status text when a user has been invited to a board', 'it appears in the list expanded when click invite button at the top of board page'),p.color="gray",p.disabled=!0),(0,d.jsx)(c.zx,{fullWidth:!0,color:p.color,size:s,disabled:p.disabled,onClick:a,text:p.text})}var B=r(29459),D=r(619415),T=r(936776),F=r(172071),L=r(730447),Z=r(717615),M=r(19121),R=r(231947),U=r(781165);function H(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function N(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?H(Object(r),!0).forEach((function(t){V(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):H(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function V(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function K(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==r)return;var n,o,a=[],i=!0,l=!1;try{for(r=r.call(e);!(i=(n=r.next()).done)&&(a.push(n.value),!t||a.length!==t);i=!0);}catch(s){l=!0,o=s}finally{try{i||null==r.return||r.return()}finally{if(l)throw o}}return a}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return G(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return G(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function G(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function X(e){var t,r,o,a=e.boardId,i=e.onInvitesDidUpdate,s=e.onInviteDidComplete,u=e.shareSuggestions,_=(0,p.v)().logContextEvent,b=(0,l.ZP)(),h=(0,v.F)().checkExperiment("web_m10n_business_access_orbac_ga").anyEnabled,f=(0,M.Z)(),m=(0,Z.Z)(),g=h?(0,R.lJ)(f,m):"",y=K((0,n.useState)(""),2),x=y[0],j=y[1],P=K((0,n.useState)([]),2),C=P[0],w=P[1],O=K((0,n.useState)({}),2),I=O[0],k=O[1],S=K((0,n.useState)({}),2),z=S[0],H=S[1],V=function(e){switch(e.type){case"user":case"user_share_suggestion":return e.username||b._('On Pinterest', 'is a user of Pinterest', 'is a user of Pinterest');case"emailcontact":case"email_share_suggestion":return e.email||b._('Email Contact', 'invited user has an email', 'invited user has an email')}return""},G=function(e,t){var r=e.id,n=e.full_name,o=e.debug_reason,l="";o&&(l=o.reason),function(e,t){_({event_type:101,component:13029,element:x?1044:1039,object_id_str:a,view_type:5,view_parameter:3059,aux_data:{entered_query:x,result_index:e+1,rs:t}})}(t,l);var c=N({},I);c[r]=!0,k(c),(0,U.pS)(a,[r],g).then((function(){s(n,!0)})).catch((function(e){s(n,!1,e);var t=N({},I);t[r]=!1,k(t)})).finally(i)},X=u;return x&&(X=C),(0,d.jsxs)(c.kC,{alignItems:"stretch",justifyContent:"start",direction:"column",minHeight:0,children:[(0,d.jsx)(c.xu,{paddingY:4,flex:"none",display:"flex",alignItems:"center",children:(0,d.jsx)(c.xu,{flex:"grow",children:(0,d.jsx)(L.Z,{onTypeaheadSuggestionsChange:function(e){F.Z.increment("web_contacts_search",1,{source:"board_invite"}),w(e)},resourceName:"ShareSuggestionsTypeaheadResource",resourceOptions:N({suggestion_type:"group_board",count:25},g?{orbac_subject_id:g}:Object.freeze({})),value:x,children:(0,d.jsx)(c.xu,{paddingX:4,children:(0,d.jsx)(c.Um,{accessibilityLabel:b._('Search for a name or email', 'accessible label for contact search input field', 'accessible label for contact search input field'),id:"search",onChange:function(e){var t=e.value;j(t),_({event_type:4113,component:13029,element:1043,view_parameter:3059,aux_data:{entered_query:t}})},placeholder:b._('Search by name or email', 'search input field prompt for finding contacts', 'search input field prompt for finding contacts'),size:"lg",value:x})})})})}),(0,d.jsxs)(c.xu,{overflow:"scrollY",maxHeight:414,children:[x&&((0,T.Z)(x)?(0,d.jsx)(B.Z,{name:x,title:x,accessory:(t=!!z[x],r=function(){var e=x;if((0,T.Z)(e)){var t=N({},z);t[e]=!0,H(t),(0,U.OA)(a,[e],g).then((function(){s(e,!0),j("")})).catch((function(t){s(e,!1,t);var r=N({},z);r[e]=!1,H(r)})).finally(i)}},o="lg",(0,d.jsx)(c.zx,{fullWidth:!0,color:t?"gray":"red",disabled:!!t,size:o,onClick:r,text:t?b._('Invited', '[button] disabled button status text when a user has been invited to a board', '[button] disabled button status text when a user has been invited to a board'):b._('Invite', '[button] invite someone to collaborate on a board', '[button] invite someone to collaborate on a board')}))}):(0,d.jsx)(D.Z,{iconNode:(0,d.jsx)(A.Z,{name:x,size:"md"}),title:x,subtitle:b._('Keep typing!', 'boardCollabInviterForm.label', 'Message for user to keep typing')})),X.map((function(e,t){var r,n=e.username?"/".concat(e.username,"/"):null;return(0,d.jsx)(c.xu,{children:(0,d.jsx)(B.Z,{imageUrl:e.image_medium_url||"",name:e.full_name||e.email,title:e.full_name||e.email,subtitle:V(e),accessory:(0,d.jsx)(E,{boardId:a,invitedUserId:e.id,isInvited:(r=e.id,!!I[r]),onClick:function(){return G(e,t)},buttonSize:"lg"}),linkURL:n})},t)}))]})]})}var W=r(349700);function q(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Q(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?q(Object(r),!0).forEach((function(t){Y(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):q(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Y(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function J(e){var t=e.boardId,r=(0,p.v)().logContextEvent,o=(0,l.ZP)(),a=(0,s.F9)(),u=(0,(0,v.F)().checkExperiment)("web_m10n_business_access_orbac_ga").anyEnabled,_=(0,h.Z)(),b=(0,I.Z)({name:"BoardInvitesResource",options:Q({board_id:t,field_set_key:"boardEdit",status_filters:"new,accepted,contact_request_not_approved",sort:"viewer_first",include_inactive:!0},u&&_?{orbac_subject_id:_}:{}),noCache:!0}).refresh,f=(0,I.Z)({name:"BoardInvitesResource",options:Q({board_id:t,field_set_key:"boardEdit",status_filters:"pending_approval"},u&&_?{orbac_subject_id:_}:{}),noCache:!0}).refresh,m=(0,I.Z)({name:"ShareSuggestionsResource",options:Q({page_size:5,field_set_key:"default",suggestion_type:"group_board"},_?{orbac_subject_id:_}:{}),noCache:!0}),g=m.data,y=m.isLoaded;(0,n.useEffect)((function(){r({event_type:7120,object_id_str:t,view_type:5,view_parameter:3059})}),[]),(0,n.useEffect)((function(){if(y){var e=g&&g.length>0?7511:7512;r({event_type:e,component:13305,element:10592,view_type:5,view_parameter:3059})}}),[y]);var x=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];a.showOneToast((function(r){var n=r.hideToast;return(0,d.jsx)(i.ZP,{duration:3e3,onHide:n,text:e,variant:t?"error":void 0})}))};return y?(0,d.jsx)(X,{boardId:t,onInvitesDidUpdate:function(){b(),f()},onInviteDidComplete:function(e,t,r){t?x(o._('1 invite sent!', 'BoardCollabInviteFormContainer.showInviteSuccessToast.text', 'Toast for successfully sending invitation of collaborating a board')):function(e,t){var r=o._('Failed to invite {{userIdentifier}} to collaborate', 'Toast for failing to send invitation of collaborating a board', 'Toast for failing to send invitation of collaborating a board');x(t&&t.message?t.message:(0,W.nk)(r,{userIdentifier:e}).join(""),!0)}(e,r)},shareSuggestions:g||[]}):(0,d.jsx)(c.xu,{display:"flex",justifyContent:"center",paddingY:12,width:"100%",children:(0,d.jsx)(c.$j,{accessibilityLabel:o._('Loading contacts', 'BoardCollab.BoardCollabInviteFormContainer', 'Accessibility label on loading spinner'),show:!0})})}var $="INVITE_SETTING",ee="REQUEST_TO_JOIN_SETTING";function te(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function re(e){var t,r=e.boldHeading,o=e.setting,a=e.viewerIsOwner,i=(0,l.ZP)(),s=(te(t={},0,{name:i._('Do (almost) everything', 'save.board.BoardPage.ModalContents.BoardCollabSettings', 'Heading explaining collaborator permission setting'),description:i._('Add, move or delete Pins and sections, comment and react', 'save.board.BoardPage.ModalContents.BoardCollabSettings', 'Text explaining collaborator permission setting')}),te(t,1,{name:i._('Save and comment', 'save.board.BoardPage.ModalContents.BoardCollabSettings', 'Heading explaining collaborator permission setting'),description:a?i._('Save Pins, organize them, comment and react', 'save.board.BoardPage.ModalContents.BoardCollabSettings', 'Text explaining collaborator permission setting'):i._('Save Pins, organize them, comment, and react. For more permissions, reach out to the board owner!', 'save.board.BoardPage.ModalContents.BoardCollabSettings.SaveOnly.Collab', 'Text explaining collaborator permission setting')}),te(t,$,{name:i._('Invite other people', 'save.board.BoardPage.ModalContents.BoardCollabSettings', 'Heading explaining collaborator permission setting'),description:i._('Collaborators can invite others to this board', 'save.board.BoardPage.ModalContents.BoardCollabSettings', 'Text explaining collaborator permission setting')}),te(t,ee,{name:i._('Board requests', 'save.board.BoardPage.ModalContents.BoardCollabSettings', 'Heading explaining collaborator permission setting'),description:i._('People can request to join this board', 'save.board.BoardPage.ModalContents.BoardCollabSettings', 'Text explaining collaborator permission setting')}),t);return(0,d.jsxs)(n.Fragment,{children:[(0,d.jsx)(c.xv,{color:"default",size:r?"300":"200",weight:r?"bold":"normal",children:s[o].name}),(0,d.jsx)(c.xu,{paddingY:1,children:(0,d.jsx)(c.xv,{color:"subtle",size:"300",children:s[o].description})})]})}var ne=r(741),oe=r(121151),ae=r(150963),ie=r(609500),le=r(780280);function se(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function ce(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function de(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==r)return;var n,o,a=[],i=!0,l=!1;try{for(r=r.call(e);!(i=(n=r.next()).done)&&(a.push(n.value),!t||a.length!==t);i=!0);}catch(s){l=!0,o=s}finally{try{i||null==r.return||r.return()}finally{if(l)throw o}}return a}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return ue(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ue(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ue(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function _e(e){var t,r,o=e.board,a=e.currentPermissionLevel,i=e.fromBoardEditModal,s=e.navigateToPermissions,u=e.onDismiss,_=(0,l.ZP)(),b="number"==typeof o.collaborator_count&&o.collaborator_count>0,f=de((0,n.useState)(!b),2),p=f[0],v=f[1],m=(0,le.B)(),g=(0,M.Z)(),y=(0,ie.useHistory)(),x=(0,h.Z)(),j=g.isAuth&&((null===(t=o.owner)||void 0===t?void 0:t.id)===g.id||(null===(r=o.owner)||void 0===r?void 0:r.id)===x),P=j||o.collaborator_invites_enabled,C=p&&!b||!p;return(0,d.jsx)(ae.k,{boardName:o.name,pendingOwnershipTransfer:o.pending_ownership_transfer,viewerIsOwner:j,children:(0,d.jsx)(oe.ZP,{_dangerouslyDisableScrollBoundaryContainer:!0,accessibilityModalLabel:p?_._('Invite collaborators', 'save.board.BoardPage.ModalContents.BoardCollaboratorsModal', 'Accessibility label on a modal'):_._('Collaborators', 'save.board.BoardPage.ModalContents.BoardCollaboratorsModal', 'Accessibility label on a modal'),footer:P&&!p?(0,d.jsx)(c.iP,{onTap:function(){return v(!0)},rounding:8,children:(0,d.jsxs)(c.kC,{alignItems:"center",justifyContent:"start",children:[(0,d.jsx)(c.hU,{accessibilityLabel:_._('Invite collaborators', 'save.board.BoardPage.ModalContents.BoardCollaboratorsModal', 'accessibility label on icon button'),icon:"add",bgColor:"red",iconColor:"white",size:"md"}),(0,d.jsx)(c.xu,{paddingX:3,children:(0,d.jsx)(c.xv,{size:"300",weight:"bold",children:_._('Invite collaborators', 'save.board.BoardPage.ModalContents.BoardCollaboratorsModal', 'Clickable text to show invite form')})})]})}):null,heading:(0,d.jsxs)(c.xu,{marginStart:5,padding:8,children:[i&&(0,d.jsx)(c.xu,{position:"absolute",top:!0,left:!m.isRTL,right:m.isRTL,paddingY:8,paddingX:6,children:(0,d.jsx)(c.hU,{accessibilityLabel:_._('Back', 'save.board.BoardPage.ModalContents.BoardCollaboratorsModal', 'Accessibility label on a button'),icon:"arrow-back",iconColor:"darkGray",onClick:u,size:"md"})}),(0,d.jsx)(c.X6,{align:"center",size:"500",children:p?_._('Invite collaborators', 'save.board.BoardPage.ModalContents.BoardCollaboratorsModal', 'Heading for a modal'):_._('Collaborators', 'save.board.BoardPage.ModalContents.BoardCollaboratorsModal', 'Heading for a modal')})]}),onDismiss:u,children:(0,d.jsxs)(c.xu,{marginBottom:5,children:[C&&(0,d.jsxs)(c.xu,{paddingX:6,children:[(0,d.jsx)(c.xu,{paddingY:3,children:(0,d.jsx)(c.xv,{size:"100",children:j?_._('Collaborators can...', 'save.board.BoardPage.ModalContents.BoardCollaboratorsModal', 'Text before explaining current collaborator permission setting'):_._('You can...', 'save.board.BoardPage.ModalContents.BoardCollaboratorsModal', 'Text before explaining current collaborator permission setting')})}),(0,d.jsxs)(c.xu,{alignItems:"start",display:"flex",justifyContent:"between",marginBottom:4,children:[(0,d.jsx)(c.xu,{width:"60%",children:(0,d.jsx)(re,{boldHeading:!0,viewerIsOwner:j,setting:a})}),j&&(0,d.jsx)(c.hU,{accessibilityLabel:_._('Edit board permissions', 'save.board.BoardPage.ModalContents.BoardCollaboratorsModal', 'Accessibility label on icon button'),icon:"arrow-forward",onClick:s,iconColor:"gray",size:"md"})]})]}),p?(0,d.jsxs)(c.xu,{paddingX:2,children:[(0,d.jsx)(w,{boardId:o.id}),(0,d.jsx)(J,{boardId:o.id})]}):(0,d.jsxs)(n.Fragment,{children:[(0,d.jsx)(c.xu,{paddingX:6,paddingY:5,children:(0,d.jsx)(c.xv,{size:"100",children:_._('Collaborators', 'save.board.BoardPage.ModalContents.BoardCollaboratorsModal', 'Header before listing collaborators on a group board')})}),(0,d.jsx)(ne.Z,{board:o,scrollInfo:null,onBoardLeave:function(){var e=g.isAuth?"/".concat(g.username):"/";y.replace(e)},renderInvite:function(e,t,r){if(!e.invited_user)return null;var n={invite:e,invitedUser:e.invited_user,onBoardLeave:t,onInviteDidUpdate:r,useGestaltModal:!0,isDim:!1};return(0,d.jsx)(O.Z,function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?se(Object(r),!0).forEach((function(t){ce(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):se(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},n))}})]})]})})})}var be=r(506979),he=r(576028);function fe(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function pe(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?fe(Object(r),!0).forEach((function(t){ve(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):fe(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function ve(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function me(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==r)return;var n,o,a=[],i=!0,l=!1;try{for(r=r.call(e);!(i=(n=r.next()).done)&&(a.push(n.value),!t||a.length!==t);i=!0);}catch(s){l=!0,o=s}finally{try{i||null==r.return||r.return()}finally{if(l)throw o}}return a}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return ge(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ge(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ge(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function ye(e){var t=e.board,r=t.collaborator_invites_enabled,o=t.collaborator_requests_enabled,a=t.id,i=e.currentPermissionLevel,s=e.navigateToCollaborators,u=e.onDismiss,_=(0,p.v)().logContextEvent,b=(0,l.ZP)(),h=me((0,n.useState)(i),2),f=h[0],v=h[1],m=me((0,n.useState)(r),2),g=m[0],y=m[1],x=me((0,n.useState)(o),2),j=x[0],P=x[1],C=me((0,n.useState)(!1),2),w=C[0],O=C[1],A=(0,le.B)(),I=(0,be.useDispatch)();return(0,d.jsx)(oe.ZP,{accessibilityModalLabel:b._('Board permissions', 'save.board.BoardPage.ModalContents.BoardCollaboratorsModal', 'Accessibility label on a modal'),heading:(0,d.jsxs)(c.xu,{paddingY:8,position:"relative",children:[(0,d.jsx)(c.xu,{position:"absolute",top:!0,left:!A.isRTL,right:A.isRTL,paddingY:8,paddingX:6,children:(0,d.jsx)(c.hU,{accessibilityLabel:b._('Back', 'save.board.BoardPage.ModalContents.BoardCollaboratorsModal', 'Accessibility label on a button'),icon:"arrow-back",iconColor:"darkGray",onClick:s,size:"md"})}),(0,d.jsx)(c.X6,{align:"center",size:"500",children:b._('Collaborators can...', 'save.board.BoardPage.ModalContents.BoardCollaboratorsModal', 'Heading for a modal')}),(0,d.jsx)(c.xu,{position:"absolute",top:!0,left:A.isRTL,right:!A.isRTL,paddingY:8,paddingX:6,children:(0,d.jsx)(c.hU,{accessibilityLabel:b._('Close', 'save.board.BoardPage.ModalContents.BoardCollaboratorsModal', 'Accessibility label on a button'),icon:"cancel",iconColor:"darkGray",onClick:u,size:"md"})})]}),footer:(0,d.jsx)(c.kC,{alignItems:"stretch",justifyContent:"end",children:(0,d.jsx)(c.zx,{color:"red",disabled:w||f===i&&g===r&&j===o,onClick:function(){O(!0);var e={},t={view_type:5,view_parameter:3472};g!==r&&(e.collaborator_invites_enabled=g,_(pe({event_type:g?106:107,element:11896},t))),f!==i&&(e.collaborator_permissions_setting=f,_(pe({event_type:8841},t))),j!==o&&(e.collaborator_requests_enabled=j),I((0,he.V)(a,e)).then((function(){return u()}))},size:"lg",text:b._('Done', 'save.board.BoardPage.ModalContents.PermissionsModal', 'Submit button on a form')})}),onDismiss:u,children:(0,d.jsxs)(c.xu,{paddingX:12,children:[(0,d.jsx)(c.xu,{paddingY:3,children:(0,d.jsx)(c.xv,{size:"100",children:b._('Permissions', 'save.board.BoardPage.ModalContents.PermissionsModal', 'Heading before listing possible board permissions')})}),(0,d.jsxs)(c.FX,{id:"permissions_modal_invite_options",legend:b._('Permissions', 'save.board.BoardPage.ModalContents.PermissionsModal', 'Heading before listing possible board permissions'),legendDisplay:"hidden",children:[(0,d.jsxs)(c.kC,{alignItems:"center",children:[(0,d.jsx)(c.FX.RadioButton,{checked:0===f,id:"ALL",onChange:function(){return v(0)},value:0}),(0,d.jsx)(c.xu,{marginEnd:12,paddingX:2,children:(0,d.jsx)(re,{setting:0})})]}),(0,d.jsxs)(c.xu,{display:"flex",paddingY:6,"data-test-id":"invite-radio-container",children:[(0,d.jsx)(c.FX.RadioButton,{checked:1===f,id:"SAVE_ONLY",onChange:function(){return v(1)},value:1}),(0,d.jsx)(c.xu,{marginEnd:12,paddingX:2,children:(0,d.jsx)(re,{setting:1})})]})]}),(0,d.jsx)(c.xu,{paddingY:3,children:(0,d.jsx)(c.xv,{size:"100",children:b._('Invitations', 'save.board.BoardPage.ModalContents.PermissionsModal', 'Heading before group board invitation permission form setting')})}),(0,d.jsxs)(c.xu,{display:"flex",marginBottom:6,"data-test-id":"invite-checkbox-container",children:[(0,d.jsx)(c.XZ,{checked:g,id:"inviteSetting",onChange:function(e){var t=e.checked;return y(t)}}),(0,d.jsx)(c.xu,{marginEnd:12,paddingX:2,children:(0,d.jsx)(re,{setting:$})})]}),(0,d.jsxs)(c.kC,{alignItems:"center",justifyContent:"start",children:[(0,d.jsx)(c.XZ,{checked:j,id:"inviteSetting",onChange:function(e){var t=e.checked;return P(t)}}),(0,d.jsx)(c.xu,{marginEnd:12,paddingX:2,children:(0,d.jsx)(re,{setting:ee})})]})]})})}function xe(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==r)return;var n,o,a=[],i=!0,l=!1;try{for(r=r.call(e);!(i=(n=r.next()).done)&&(a.push(n.value),!t||a.length!==t);i=!0);}catch(s){l=!0,o=s}finally{try{i||null==r.return||r.return()}finally{if(l)throw o}}return a}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return je(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return je(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function je(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Pe(e){var t=e.board,r=e.fromBoardEditModal,o=e.onDismiss,a=xe((0,n.useState)("collaboratorsView"),2),i=a[0],l=a[1],s=t.collaborator_permissions_setting;return"collaboratorsView"===i?(0,d.jsx)(_e,{board:t,currentPermissionLevel:s,fromBoardEditModal:r,navigateToPermissions:function(){return l("permissionsView")},onDismiss:o}):(0,d.jsx)(ye,{board:t,currentPermissionLevel:s,navigateToCollaborators:function(){return l("collaboratorsView")},onDismiss:o})}},750869:function(e,t,r){r.d(t,{d:function(){return n}});var n={BOARD:"board",PIN:"pin",DID_IT:"did_it",PINNER:"pinner",USER:"user",TODAY_ARTICLE:"today_article"}}}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/2731-11a1cbf03a328ad7.js.map