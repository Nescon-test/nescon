"use strict";(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[17309],{28543:function(e,t,n){n.r(t),n.d(t,{default:function(){return s}});var r=n(567831);var i=n(55259),o=n(966113);function s(e,t,n){if(!i.Z[e])throw new Error("unknown url key: ".concat(e));n||(n={});var s=i.Z[e](n),a=function(e,t){var n=null;return e&&(n=e.advertiserId||null),!n&&t&&(n=t.id),n}(n,t);return"string"==typeof a&&(s="/advertiser/"+a+s),!!n.absolutify&&(s=(0,r.Z)(s,void 0,o.KU)),s}},21353:function(e,t,n){n.d(t,{Z:function(){return o}});var r=n(506979),i=n(28543);function o(){var e=(0,r.useSelector)((function(e){return e.advertiser}));return function(t,n){return(0,i.default)(t,e,n)}}},406519:function(e,t,n){n.d(t,{N_:function(){return d},PD:function(){return s},Qq:function(){return c},ZU:function(){return o},_S:function(){return i},gl:function(){return a},kV:function(){return l},kt:function(){return u},qS:function(){return r}});var r="/product-catalogs/data-source/",i="/product-catalogs/product-groups/",o="/product-catalogs/product-groups/create/",s="/product-catalogs/product-groups/edit/",a="/product-catalogs/feed-debugger/",c="/product-catalogs/",l="https://www.pinterest.com/product-catalogs",u="https://www.pinterest.com/product-catalogs/data-source/",d="https://www.pinterest.com/product-catalogs/product-groups/"},384960:function(e,t,n){n.d(t,{t:function(){return a}});var r=n(794230),i=n(966113),o=n(24220),s={analyticsRoot:function(e){return"/"},overview:function(e){return"/overview/"},audience_insights:function(e){var t="/audience-insights/";if(e.audienceId){var n=(0,o.dk)("custom",e.audienceId);return(0,r.Z)(t,{audience_1:n})}return t}};function a(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!s[e])throw new Error("unknown url key: ".concat(e));var n=s[e](t),o=t.advertiserId||t.advertiserIdFromStore||null,a=!!t.absolutify;return"string"==typeof o&&(n=(0,r.Z)(n,{advertiserId:o})),a&&(n=i._O+n),n}},438112:function(e,t,n){function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,{aI:function(){return a}});var i=Object.freeze({ACF_RELEASE_ALPHA:"aid_exp_acf_alpha",ACF_RELEASE_BETA:"aid_exp_acf_beta",ACF_RELEASE_GA:"aid_exp_acf_ga"}),o=Object.freeze({ALPHA:"ALPHA",BETA:"BETA",GA:"GA"}),s=[o.ALPHA,o.BETA,o.GA],a=function(e){return s.some((function(t){return function(e,t){var n,s=(r(n={},o.ALPHA,i.ACF_RELEASE_ALPHA),r(n,o.BETA,i.ACF_RELEASE_BETA),r(n,o.GA,i.ACF_RELEASE_GA),n)[e],a=s?t.checkExperiment(s):void 0;return"enabled"===(null==a?void 0:a.group)||!1}(t,e)}))}},5739:function(e,t,n){n.d(t,{$F:function(){return i},$m:function(){return o},av:function(){return r}});var r={"/":12,"/reporting/campaigns/":6,"/reporting/adgroups/":6,"/reporting/ads/":12,"/reporting/adGroupPositiveKeywords/":12,"/audiences/":6,"/billing/history/":12,"/conversions/tag/":6,"/conversions/history/":12,"/ads/create/":60,"/conversions/upload/":100},i={"/reporting/campaigns/":100,"/reporting/adgroups/":100,"/reporting/ads/":100,"/reporting/adGroupPositiveKeywords/":100,"/audiences/":100,"/billing/history/":100,"/conversions/tag/":100,"/conversions/history/":100,"/ads/create/":160,"/conversions/upload/":200};function o(e){return e.replace(new RegExp("/advertiser/\\d+"),"")}},924551:function(e,t,n){var r=n(76911),i=n(506979),o=n(56641),s=n(506708),a=n(6637),c=n(589428),l=n(384960),u=n(438112),d=n(406519),p=n(407043),_=n(773285),f=n(21353),v=n(898781),g=n(780280),b=n(908390),h=n(966113),y=n(515198);function m(e){return(m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function A(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function w(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?A(Object(n),!0).forEach((function(t){C(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):A(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function P(e){return function(e){if(Array.isArray(e))return x(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return x(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return x(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function x(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function E(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function O(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function k(e,t){return(k=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function I(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=z(e);if(t){var i=z(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return S(this,n)}}function S(e,t){if(t&&("object"===m(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return j(e)}function j(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function z(e){return(z=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function C(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var L=function(e,t,n){var r;return e.user.id===t&&null!==e.businesses&&(null===(r=e.businesses)||void 0===r?void 0:r.includes(n))},M=function(){var e=window.location.hostname;return e.includes("pinterdev")&&e.includes("trends-dev")?"https://".concat(e):h.zz},R=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&k(e,t)}(c,e);var t,n,r,i=I(c);function c(){var e;E(this,c);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return C(j(e=i.call.apply(i,[this].concat(n))),"state",{actions:e.props.actions||[],accountBusinessAssigner:""}),C(j(e),"handleActionDataRequests",(function(t,n,r,i,o){t=t||[];var s,a,c,l=0,u=e.state.actions;n&&(u=(null===(a=t[l])||void 0===a||null===(c=a.resource_response)||void 0===c?void 0:c.data)||[],l+=1);var d=i||"";if(o!==i){var p,_,f,v,g=(null===(p=t[l])||void 0===p||null===(_=p.resource_response)||void 0===_?void 0:_.data)||[],b=new Set(g.filter((function(e){return L(e,o,i)})).map((function(e){return e.businesses})).reduce((function(e,t){return e.concat(t)}),[]));s=(null===(f=t[l+=1])||void 0===f||null===(v=f.resource_response)||void 0===v?void 0:v.data.data)||[];var h=new Set(s.map((function(e){return e.id}))),y=new Set(s.filter((function(e){return e.biz_roles.includes("BIZ_ADMIN")})).map((function(e){return e.id}))),m=new Set(P(b).filter((function(e){return!h.has(e)}))),A=new Set(P(b).filter((function(e){return y.has(e)})));d=m.size>0&&o?o||"":A.size>0&&P(A)[0]||""}e.setState({actions:u,accountBusinessAssigner:d})})),C(j(e),"fetchActionData",(function(){var t=e.props,n=t.advertiserId,r=t.requestContext,i=t.userId,o=t.accountOwnerId,s=[],c=(e.props.actions||[]).length<1;if(c){var l=a.Z.create("ApiResource",{url:"/ads/v4/advertisers/".concat(n,"/actions/")});s.push(l.callGet())}if(i!==o){var u=a.Z.create("ApiResource",{url:"/ads/v4/advertisers/".concat(n,"/policy/")});s.push(u.callGet());var d=a.Z.create("ApiResource",{url:"/ads/internal/business_access/users/me/employers/"});s.push(d.callGet())}Promise.all(s).then((function(t){return e.handleActionDataRequests(t,c,r,o,i)}))})),C(j(e),"advertiserActionList",(function(){var t=e.props,n=t.advertiserId,r=t.experimentsClient,i=t.getSterlingURL,o=t.isAnalyticsSite,a=t.isOwnerUserSuspended,c=t.merchantId,p=t.isWwwSite,_=t.VMPstatus,f=t.isInMuaMigratedWave1,v=t.isInMuaMigratedWave2,g=t.isInMuaMigratedWave2OptOutOrAlreadyMigrated,b=t.isBPMPageEnabled,y=t.reduxAdvertiserId,m=e.state,A=m.actions,w=m.accountBusinessAssigner,P=o||p,x={enabled:A.includes(8),text:e.props.i18n._('View account settings', '[m10n] link to user\'s account settings', '[m10n] link to user\'s account settings'),url:i("accounts_manager",{advertiserId:n,absolutify:P})},E=[{enabled:!a&&A.includes(11),text:e.props.i18n._('View reporting', '[m10n] link to the reporting page', '[m10n] link to the reporting page'),url:i("campaigns",{advertiserId:n,absolutify:P})},{enabled:!a&&A.includes(56),text:e.props.i18n._('View billing', '[m10n] link to user\'s billing settings', '[m10n] link to user\'s billing settings'),url:i("billing",{advertiserId:n,absolutify:P})},{enabled:!a&&A.includes(32),text:e.props.i18n._('View audiences', '[m10n] link to audiences manager page', '[m10n] link to audiences manager page'),url:i("audiences",{advertiserId:n,absolutify:P})},{enabled:!a&&A.includes(35),text:e.props.i18n._('View conversion tags', '[m10n] link to conversion tags page', '[m10n] link to conversion tags page'),url:i("pinterest_tag",{advertiserId:n,absolutify:P})},{enabled:!a&&A.includes(55),text:e.props.i18n._('View audience insights', '[m10n] link to user\'s audience insights', '[m10n] link to user\'s audience insights'),url:(0,l.t)("audience_insights",{advertiserId:n,absolutify:!o,advertiserIdFromStore:y})},{enabled:!a&&A.includes(55),text:e.props.i18n._('View analytics', '[m10n] link to view analytics as a different advertiser on analytics site', '[m10n] link to view analytics as a different advertiser on analytics site'),url:(0,l.t)("overview",{advertiserId:n,absolutify:!o,advertiserIdFromStore:y})},{enabled:!a&&A.includes(49),text:e.props.i18n._('Create ad', '[m10n] link to create an ad', '[m10n] link to create an ad'),url:(0,u.aI)(r)?i("campaignMode",{advertiserId:n,absolutify:P}):i("create",{advertiserId:n,absolutify:P})},x,{enabled:!!(w&&w.length>0),text:e.props.i18n._('Manage access', '[m10n] link to business access', '[m10n] link to business access'),url:"https://".concat((0,s.Z)(),"/business/business-access/").concat(w,"/ad-accounts/").concat(n,"/details/")},{enabled:!a,text:e.props.i18n._('View trends', '[m10n] link to view trends as a different advertiser on trends site', '[m10n] The link to view trends as a different advertiser on trends.pinterest.com'),url:"".concat(M(),"/?advertiserId=").concat(n)}];return c&&E.push({enabled:!a&&A.includes(68),text:e.props.i18n._('View Catalogs', '[m10n] link to user\'s catalogs', '[m10n] link to user\'s catalogs'),url:"".concat(d.kV,"/?advertiserId=").concat(n)}),_&&E.push({enabled:!a&&A.includes(68),text:e.props.i18n._('View verified merchant status', '[m10n] link to user\'s verified merchant status', '[m10n] link to user\'s verified merchant status'),url:"".concat(h.sr,"/?advertiserId=").concat(n)}),b&&E.push({enabled:!a,text:e.props.i18n._('View branded Pins', '[m10n]advertiserSwitcher.actions', 'Link to view Branded Pins page for selected aaccount'),url:"https://".concat((0,s.Z)(),"/branded-pins/?advertiserId=").concat(n)}),(f||v||g)&&E.splice(E.indexOf(x),1),E})),e}return t=c,(n=[{key:"componentDidMount",value:function(){this.fetchActionData()}},{key:"render",value:function(){var e=this;return(0,y.jsx)(b.xu,{paddingX:4,paddingY:2,children:this.advertiserActionList().filter((function(e){return e.enabled})).map((function(t,n){return(0,y.jsx)(b.xu,{marginTop:1,marginBottom:1,children:(0,y.jsx)(b.iP,{onTap:function(){var n,r,i;n=e.props.userId,r=e.props.advertiserId,i=t.text,(0,e.props.logContextEvent)({event_type:9709,component:13770,view_type:465,aux_data:{user_id:n,business_id:r,modal_link_clicked:i}}),(0,o.Z)(t.url)},children:(0,y.jsxs)(b.kC,{alignItems:"center",justifyContent:"start",children:[(0,y.jsx)(b.xu,{paddingY:3,flex:"grow",children:(0,y.jsxs)(b.kC,{alignItems:"stretch",justifyContent:"start",children:[(0,y.jsx)(b.xv,{color:"subtle",weight:"bold",children:t.text}),t.isNew&&(0,y.jsx)(b.xu,{paddingX:2,children:(0,y.jsx)(b.Ct,{text:e.props.i18n._('New', '[m10n]advertiserActions.newBadge', 'badge to signify that this is a new product'),position:"middle"})})]})}),(0,y.jsx)(b.xu,{marginStart:2,children:(0,y.jsx)(b.JO,{icon:"arrow-forward",color:"subtle",size:14,accessibilityLabel:e.props.i18n._('Go', '[m10n] accessibility label for an arrow icon on a link', '[m10n] accessibility label for an arrow icon on a link')})})]})})},n)}))})}}])&&O(t.prototype,n),r&&O(t,r),c}(r.Component);t.Z=function(e){var t=(0,p.v)().logContextEvent,n=(0,v.ZP)(),r=(0,g.B)(),o=(0,_.F)().checkExperiment,s=o("business_access_mua_deprecated_wave1").anyEnabled,a=o("business_access_mua_deprecated_wave2").anyEnabled,l=o("business_access_mua_deprecated_wave2_optout_or_already_migrated").anyEnabled,u=o("ad_formats_bpm_mvp").anyEnabled,d=(0,i.useSelector)(c.iC);return(0,y.jsx)(R,w(w({requestContext:r,experimentsClient:(0,_.F)()},e),{},{isInMuaMigratedWave1:s,isInMuaMigratedWave2:a,isInMuaMigratedWave2OptOutOrAlreadyMigrated:l,isBPMPageEnabled:u,i18n:n,logContextEvent:t,getSterlingURL:(0,f.Z)(),reduxAdvertiserId:d}))}}}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/17309-882422ec02d20045.js.map