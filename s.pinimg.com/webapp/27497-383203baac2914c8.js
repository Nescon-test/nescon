(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[27497],{124237:function(e,r,t){"use strict";var n=t(908911),o=t.n(n),i={};i._showErrorCallback=i._showErrorCallback||null,i.setShowHtmlErrorCallback=function(e){i._showErrorCallback=e},i.showError=function(e,r,t){var n=o()(e);return i.showHtmlError(n,r,t)},i.showHtmlError=function(e,r,t){"function"==typeof i._showErrorCallback&&i._showErrorCallback(e,r,t)},r.Z=i},542554:function(e,r,t){"use strict";t.r(r),t.d(r,{AMPPageContainer:function(){return a}});var n=t(908390),o=t(134879),i=t(444445),c=t(780280),d=t(995081),u=t(515198),a=function(e){var r=e.children,t=e.dataLayoutShiftBoundaryId,a=e.hasFixedHeader,s=void 0!==a&&a,l=e.hasGutter,f=void 0===l||l,_=e.height,I=e.showKeychainError,p=void 0!==I&&I,b=e.useViewport,E=void 0!==b&&b,v=(0,c.B)(),D=(0,d.jd)(v.userAgent.platform)?d.Vf:0;return(0,u.jsx)(n.xu,{"data-layout-shift-boundary-id":t||"PageContainer",height:E?"calc(100vh - ".concat(D,"px)"):_,paddingX:f?i.D6:void 0,paddingY:s||p?void 0:3,children:(0,u.jsx)(o.C,{value:!!f,children:r})})};r.default=a},876442:function(e,r,t){"use strict";t.d(r,{Z:function(){return i}});var n=t(351356),o=t(272029);function i(e){var r=e.action,t=e.collaboratedByMe,i=e.collaboratorPermissions,c=e.ownerId,d=(0,n.Z)(c),u=(0,o.Z)(t);return d||u&&!(null==i||!i.includes(r))}},351356:function(e,r,t){"use strict";t.d(r,{Z:function(){return o}});var n=t(19121);function o(e){return e===(0,n.Z)().id}},272029:function(e,r,t){"use strict";t.d(r,{Z:function(){return o}});var n=t(19121);function o(e){return(0,n.Z)().isAuth&&e}},678638:function(e,r,t){"use strict";t.d(r,{$n:function(){return h},A4:function(){return R},CE:function(){return b},ET:function(){return w},F$:function(){return O},Kw:function(){return P},Nv:function(){return m},PA:function(){return B},X_:function(){return A},d9:function(){return S},e1:function(){return p},o4:function(){return T},vB:function(){return v}});var n=t(563339),o=t(483025),i=t(254176),c=t(422946),d=t(379725),u=t(833314),a=t(6637),s=t(956800),l=t(414327);function f(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,n)}return t}function _(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?f(Object(t),!0).forEach((function(r){I(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):f(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}function I(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function p(e){return function(r){var t=e.boardId,n=e.sectionIdBefore,o=e.sectionIdAfter,i=e.sourceSectionId,d=e.targetSectionId;r((0,s._f)({feedType:c.DV.BOARD_SECTIONS,feedId:t,itemType:"board_section",sourceItemId:i,targetItemId:d}));var u={section_id:i,section_before:n||void 0,section_after:o||void 0};return a.Z.create("BoardSectionsReorderResource",u).callUpdate({showError:!1})}}function b(e,r){return function(t){return t((0,d.U)("BoardSectionResource",{options:{field_set_key:r||"board_page",section_id:e}}))}}function E(e,r){return{type:"SECTION_ADDED",payload:{boardId:e,section:r}}}function v(e,r,t){var o=e.boardId,d=e.name,u=e.nameSource,f=e.pinImport,I=e.initialPinIds,p=void 0===I?[]:I,b=0;"RECOMMENDATION"===u?b=1:"EDITED_RECOMMENDATION"===u&&(b=2);var v=_({board_id:o,initial_pins:f&&!f.all?f.pinIds:p,name:d,name_source:b},t?{orbac_subject_id:t}:Object.freeze({}));return function(e){return a.Z.create("BoardSectionResource",v).callCreate({showError:!1}).then((function(t){var d=t.resource_response.data;e(E(o,d)),e((0,s.vX)({feedId:o,feedType:c.DV.BOARD_SECTIONS,itemIds:[d.id],itemType:"board_section"})),e((0,i.Tq)(o,"pin_count")),e((0,l.jB)("BoardSectionsRepinResource",{board_id:o}));var u=f||{all:!1,pinIds:[]},a=u.all,_=u.pinIds;return a?new Promise((function(t,i){return e((0,n.Z)({inverseSelection:!0,selectedPinIds:_,source:{boardId:o,sectionId:null},target:{boardId:o,sectionId:d.id}},r)).then((function(){return t(d)})).catch(i)})):(_.length>0&&e((0,s.N8)(c.DV.BOARDFEED,o)),d)}))}}function D(e,r){return{type:"SECTION_DELETED",payload:{boardId:e,sectionId:r}}}function O(e,r,t){return function(n){return a.Z.create("BoardSectionEditResource",_({section_id:r},t?{orbac_subject_id:t}:Object.freeze({}))).callDelete({showError:!1}).then((function(){return Promise.all([n(D(e,r)),n((0,s.EX)({feedId:e,feedType:c.DV.BOARD_SECTIONS,itemIds:[r],itemType:"board_section"})),n((0,i.Tq)(e,"pin_count")),n((0,l.jB)("BoardSectionsRepinResource",{board_id:e}))])}))}}function h(e,r,t,n){return function(o){return a.Z.create("BoardSectionEditResource",_({section_id:r,title:t},n?{orbac_subject_id:n}:Object.freeze({}))).callCreate({showError:!1}).then((function(r){var t=r.resource_response.data;return o(function(e,r){return function(t){var n,o,d,u,a,l=r.board;l&&l.id!==e?(t(D(e,null!==(n=r.id)&&void 0!==n?n:"")),t((0,s.EX)({feedId:e,feedType:c.DV.BOARD_SECTIONS,itemIds:[null!==(o=r.id)&&void 0!==o?o:""],itemType:"board_section"})),t((0,i.Tq)(e,"pin_count")),t(E(null!==(d=l.id)&&void 0!==d?d:"",r)),t((0,s.vX)({feedId:null!==(u=l.id)&&void 0!==u?u:"",feedType:c.DV.BOARD_SECTIONS,itemIds:[null!==(a=r.id)&&void 0!==a?a:""],itemType:"board_section"})),t((0,i.Tq)(e,"pin_count"))):t({type:"SECTION_UPDATED",payload:{boardId:e,section:r}})}}(e,t)),o((0,l.jB)("BoardSectionsRepinResource",{board_id:e})),t}))}}function S(e,r,t){return function(n){return a.Z.create("BoardSectionsMergeResource",{source_section_id:r,target_section_id:t}).callUpdate({showError:!1}).then((function(o){return Promise.all([n(D(e,r)),n((0,l.jB)("BoardSectionsRepinResource",{board_id:e})),n(b(t)),n((0,s.N8)(c.DV.BOARD_SECTION_PINS,t))]).then((function(){return o}))}))}}var y=function(e,r){return{type:"BOARD_SECTION_EDIT",payload:r}},B=function(e,r){return function(t){return a.Z.create("BoardSectionEditResource",_(_({},r),{},{section_id:e})).callCreate().then((function(e){return t(y(0,r)),e.resource_response.data}))}},R=function(e){return function(r){var t={section_id:e};return a.Z.create("BoardSectionResource",t).callGet().then((function(e){var t,n=(null===(t=e.resource_response)||void 0===t?void 0:t.data)||{id:"",title:""};return r(y(0,n)),e}))}},T=function(e,r,t,n){return function(o){var i=a.Z.create("BoardSectionEditResource",{section_id:r}).callDelete();return o(function(e,r,t,n){return{type:"BOARD_SECTION_DELETE",payload:{userId:e,boardSectionId:r,boardId:t,pinCount:n}}}(e,r,t,n)),i}},m=function(e,r,t){return function(n){var i={board_id:e,initial_pins:r,name:t},c="BoardSectionResource";return a.Z.create(c,i).callCreate().then((function(t){var d=t.resource_response.data,a=(0,u.Fv)(d,o.Z[c]);return n((0,l.XM)(c,i,t,a)),r.length&&n({type:"PINS_MOVE",payload:{source:{boardId:e},target:{boardId:e,sectionId:d.id},pinIds:r}}),t}))}},P=function(e){return function(r){var t=e.source,n=e.target,i=e.pinIds;if(r({type:"PINS_MOVE",payload:e}),t.boardlessPins||n.boardId!==t.boardId){var c={board_id:n.boardId,pin_ids:i,section_id:n.sectionId};return a.Z.create("BulkEditResource",c).callUpdate()}if(n.sectionId){var d={section_id:n.sectionId,pins:i},s="BoardSectionEditResource";return a.Z.create(s,d).callUpdate().then((function(e){var t=(0,u.Fv)(e.resource_response.data,o.Z[s]);return r((0,l.XM)(s,d,e,t)),e}))}var f={section_id:t.sectionId,pins:i};return a.Z.create("BoardSectionPinsResource",f).callDelete()}},A=function(e){return function(r){r({type:"PINS_MOVE_ALL",payload:e});var t=e.source,n=e.target,o=e.excludePinIds,i={board_id:t.boardId,new_board_id:n.boardId,pin_ids:o,old_section_id:t.sectionId,new_section_id:n.sectionId};return a.Z.create("BulkEditSelectAllResource",i).callUpdate()}},w=function(e,r,t,n){return function(o){return o(m(e,[],r)).then((function(r){var i=r.resource_response.data.id;return o(A({source:{boardId:e,sectionId:n},target:{boardId:e,sectionId:i},excludePinIds:t}))}))}}},563339:function(e,r,t){"use strict";t.d(r,{Z:function(){return _},S:function(){return f}});var n=t(6637),o=t(254176),i=t(422946),c=t(678638),d=t(124237);var u=function(e){return function(r){d.Z.showError(function(e,r){switch(e.api_error_code){case 2171:case 2172:case 2173:return r._('Please wait until the previous board action finishes.', ' - ', ' -- ');default:return e.message}}(r,e))}},a=t(956800),s=function(e){return(0,a.N8)(e.sectionId?i.DV.BOARD_SECTION_PINS:i.DV.BOARDFEED,e.sectionId||e.boardId)};function l(e,r){var t=e.source,n=e.target;n.boardId!==t.boardId?(r((0,o.Tq)(t.boardId,"pin_count")),r((0,o.Tq)(n.boardId,"pin_count"))):t.sectionId&&n.sectionId||r((0,o.Tq)(n.boardId,"pin_count")),t.sectionId&&r((0,c.CE)(t.sectionId)),n.sectionId&&r((0,c.CE)(n.sectionId))}function f(e){return function(r){var t=e.selectedPinIds,n=e.source,o=e.target;r((0,a.EX)({feedId:n.sectionId||n.boardId,feedType:n.sectionId?i.DV.BOARD_SECTION_PINS:i.DV.BOARDFEED,itemIds:t,itemType:"pin"})),r((0,a.vX)({feedId:o.sectionId||o.boardId,feedType:o.sectionId?i.DV.BOARD_SECTION_PINS:i.DV.BOARDFEED,itemIds:t,itemType:"pin"})),l(e,r)}}function _(e,r){return function(t){return function(e,r,t){var o=e.inverseSelection,c=e.selectedPinIds,d=e.source,l=e.target,f=e.orbacSubjectId;if(d.boardId===l.boardId&&(d.sectionId||null)===(l.sectionId||null))return Promise.reject();if(o){var _={board_id:d.boardId,new_board_id:l.boardId,old_section_id:d.sectionId||void 0,new_section_id:l.sectionId||void 0,pin_ids:c,orbac_subject_id:f};return n.Z.create("BulkEditSelectAllResource",_).callUpdate({showError:!1}).then((function(){return Promise.all([r(s(d)),r(s(l))])})).catch(u(t))}var I=function(e,t){r((0,a.EX)({feedId:e.sectionId||e.boardId,feedType:e.sectionId?i.DV.BOARD_SECTION_PINS:i.DV.BOARDFEED,itemIds:c,itemType:"pin"})),r((0,a.vX)({feedId:t.sectionId||t.boardId,feedType:t.sectionId?i.DV.BOARD_SECTION_PINS:i.DV.BOARDFEED,itemIds:c,itemType:"pin"}))};I(d,l);var p=function(){return I(l,d)};if(l.boardId===d.boardId){if(l.sectionId){var b={section_id:l.sectionId,pins:c,orbac_subject_id:f};return n.Z.create("BoardSectionEditResource",b).callUpdate({showError:!1}).catch((function(e){p(),u(t)(e)}))}var E={section_id:d.sectionId,pins:c,orbac_subject_id:f};return n.Z.create("BoardSectionPinsResource",E).callDelete({showError:!1}).catch((function(e){p(),u(t)(e)}))}var v={board_id:l.boardId,section_id:l.sectionId||void 0,pin_ids:c,orbac_subject_id:f};return n.Z.create("BulkEditResource",v).callUpdate({showError:!1}).catch((function(e){p(),u(t)(e)}))}(e,t,r).then((function(){return l(e,t)}))}}},150180:function(e){e.exports=function(e){return function(r){return null==e?void 0:e[r]}}},171490:function(e,r,t){var n=t(150180)({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});e.exports=n},908911:function(e,r,t){var n=t(171490),o=t(434051),i=/[&<>"']/g,c=RegExp(i.source);e.exports=function(e){return(e=o(e))&&c.test(e)?e.replace(i,n):e}}}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/27497-383203baac2914c8.js.map