"use strict";(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[63061],{454074:function(e,t,r){function n(e){var t=[];return e.items?Array.from(e.items).forEach((function(e){if("file"===e.kind){var r=e.getAsFile();r&&t.push(r)}})):t.concat(Array.from(e.files)),t}r.d(t,{Z:function(){return n}})},556663:function(e,t,r){r.d(t,{Z:function(){return b}});var n=r(76911),o=r(908390),i=r(515198);function u(e){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function a(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function c(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?a(Object(r),!0).forEach((function(t){y(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):a(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function f(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function s(e,t){return(s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function p(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=v(e);if(t){var o=v(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return d(this,r)}}function d(e,t){if(t&&("object"===u(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return h(e)}function h(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function v(e){return(v=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function y(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var g={default:{backgroundColor:"#efefef",boxShadow:"none"},drag:{backgroundColor:"rgba(74, 144, 226, 0.08)",boxShadow:"0 0 0 1px #0074e8"},error:{backgroundColor:"rgba(230, 0, 35, 0.03)",boxShadow:"0 0 0 1px #e60023"}},O={error:{backgroundColor:"#FFE0E0",boxShadow:"0 0 0 2px #CC0000"}},b=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&s(e,t)}(a,e);var t,r,n,u=p(a);function a(){var e;f(this,a);for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return y(h(e=u.call.apply(u,[this].concat(r))),"state",{isDraggingOver:!1,isHoveringOver:!1}),y(h(e),"handleOnDragEnter",(function(t){var r=e.props.onDragEnter;t.preventDefault(),t.stopPropagation(),e.setState({isDraggingOver:!0}),r&&r(t)})),y(h(e),"handleOnDragLeave",(function(t){var r=e.props.onDragLeave;t.preventDefault(),t.stopPropagation(),e.setState({isDraggingOver:!1}),r&&r(t)})),y(h(e),"handleOnDragOver",(function(t){var r=e.props.onDragOver;t.preventDefault(),t.stopPropagation(),r&&r(t)})),y(h(e),"handleOnDrop",(function(t){var r=e.props.onDrop;t.preventDefault(),t.stopPropagation(),e.setState({isDraggingOver:!1}),r&&r(t)})),y(h(e),"handleMouseEnter",(function(){var t=e.props.onMouseEnter;t&&t(),e.setState({isHoveringOver:!0})})),y(h(e),"handleMouseLeave",(function(){var t=e.props.onMouseLeave;t&&t(),e.setState({isHoveringOver:!1})})),e}return t=a,(r=[{key:"getDragContainerStyles",value:function(e,t){var r=this.props.experimentsClient,n=null==r?void 0:r.checkExperiment("aid_exp_error_handling_pin_builder");return t&&"default"===e?c(c({},g[e]),{},{backgroundColor:t}):n&&"error"===e?O[e]:g[e]}},{key:"render",value:function(){var e=this.props,t=e.children,r=e.color,n=e.dropRounding,u=e.hasError,a=e.height,f=e.position,l=e.width,s=this.state,p=s.isDraggingOver,d=s.isHoveringOver,h=p?"drag":u?"error":"default";return(0,i.jsx)(o.xu,{dangerouslySetInlineStyle:{__style:c(c({},this.getDragContainerStyles(h,r)),n?{borderRadius:n}:{})},height:a||"100%","data-test-id":"drag-behavior-container",onDragEnter:this.handleOnDragEnter,onDragLeave:this.handleOnDragLeave,onDragOver:this.handleOnDragOver,onDrop:this.handleOnDrop,onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave,position:f,rounding:2,width:l,children:t(p,d)})}}])&&l(t.prototype,r),n&&l(t,n),a}(n.Component)},281139:function(e,t,r){r.d(t,{Z:function(){return g}});var n=r(76911),o=r(556663),i=r(908390),u=r(515198);function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function f(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function l(e,t){return(l=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function s(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=h(e);if(t){var o=h(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return p(this,r)}}function p(e,t){if(t&&("object"===a(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return d(e)}function d(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function h(e){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function v(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var y={cursor:"pointer",height:"100%",opacity:0,position:"absolute",width:"100%",left:0,top:0,fontSize:0},g=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&l(e,t)}(p,e);var t,r,n,a=s(p);function p(){var e;c(this,p);for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return v(d(e=a.call.apply(a,[this].concat(r))),"handleChange",(function(t){var r=e.props.onChange;t.preventDefault(),t.stopPropagation(),r&&r(t),t.target.value=""})),v(d(e),"handleClick",(function(t){var r=e.props.onClick;r&&r(t)})),e}return t=p,(r=[{key:"render",value:function(){var e=this,t=this.props,r=t.accept,n=t.accessibilityLabel,a=t.allowMultipleFiles,c=t.children,f=t.color,l=t.dropRounding,s=t.hasError,p=t.height,d=t.id,h=t.onDrop,v=t.position,g=t.rounding,O=void 0===g?2:g,b=t.width,_=t.isAriaHidden,E=void 0===_?void 0:_,m=t.experimentsClient;return(0,u.jsx)(o.Z,{color:f,dropRounding:l,hasError:s,height:p,onDrop:h,position:v,width:b,experimentsClient:m,children:function(t){return(0,u.jsxs)(i.xu,{height:"100%",position:"relative",rounding:O,children:[c(t),(0,u.jsx)("input",{"aria-label":n,id:d,"data-test-id":d,style:y,type:"file",accept:r,onChange:e.handleChange,onClick:e.handleClick,multiple:a,"aria-hidden":E,tabIndex:E?-1:0})]})}})}}])&&f(t.prototype,r),n&&f(t,n),p}(n.Component)},531245:function(e,t,r){r.d(t,{P7:function(){return o},Zx:function(){return a},sc:function(){return u},ss:function(){return i},xl:function(){return n}});var n=["image/bmp","image/gif","image/jpeg","image/png","image/tiff","image/webp"],o=["bmp","gif","jpg","jpeg","png","tiff","webp"],i=["video/mp4","video/x-m4v","video/quicktime"],u=["mp4","m4v","mov"],a={border:"2px dashed #DADADA",borderRadius:"32px",pointerEvents:"none"}},62087:function(e,t,r){var n=r(41703),o=r(353356);t.Z=function(e){return function(t){return new Promise((function(r,i){var u=new Image;u.addEventListener("load",(function(){return r({fileSrc:t,height:u.height,id:(0,o.Z)(),name:t.name,size:t.size,src:u.src,type:"localImage",width:u.width})})),u.addEventListener("error",(function(){return function(e){return function(t){return t((0,n.Z)("IMAGE_UNRECOGNIZED_TYPE",e))}}(e)(i)})),u.src=URL.createObjectURL(t)}))}}},275988:function(e,t,r){var n=r(41703),o=r(353356);t.Z=function(e){return function(t){return new Promise((function(r,i){var u=new FileReader,a=URL.createObjectURL(t);u.addEventListener("load",(function(){var u=document.createElement("video");u.addEventListener("loadedmetadata",(function(){return r({id:(0,o.Z)(),duration:u.duration,fileSrc:t,height:u.videoHeight,name:t.name,size:t.size,src:u.src,thumbnail:0,type:"localVideo",width:u.videoWidth})})),u.addEventListener("error",(function(){return function(e){return function(t){return t((0,n.Z)("VIDEO_UNRECOGNIZED_ENCODING",e))}}(e)(i)})),u.src=a})),u.readAsDataURL(t)}))}}},123463:function(e,t,r){r.d(t,{Z:function(){return h}});var n=r(41703),o=r(62087),i=r(665866),u=r(451105);function a(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==r)return;var n,o,i=[],u=!0,a=!1;try{for(r=r.call(e);!(u=(n=r.next()).done)&&(i.push(n.value),!t||i.length!==t);u=!0);}catch(c){a=!0,o=c}finally{try{u||null==r.return||r.return()}finally{if(a)throw o}}return i}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return c(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return c(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function f(e,t,r){return t.size>20971520?Promise.resolve((0,n.Z)("IMAGE_OVER_MAX_FILE_SIZE",e)):(0,o.Z)(e)(t).then((function(t){return function(e,t,r){var n=a(i.Z.enabled("pinQuality")?[300,200]:[100,100],2),o=n[0],c=n[1],f=(null==r?void 0:r.minHeight)||o,l=(null==r?void 0:r.minWidth)||c;return t.height*t.width>89478485?(0,u.ZP)("IMAGE_OVER_MAX_DIMENSIONS",e):t.height<f||t.width<l?(0,u.ZP)("IMAGE_UNDER_MIN_DIMENSIONS",e):t}(e,t,r)})).catch((function(e){return e}))}var l=r(275988),s=r(299295);function p(e,t,r){var o=(r||{}).forStoryPin,u=o?s.Lr:2147483648;return t.size>u?Promise.resolve((0,n.Z)(o?"STORY_PIN_VIDEO_OVER_MAX_FILE_SIZE":"VIDEO_OVER_MAX_FILE_SIZE",e)):(0,l.Z)(e)(t).then((function(t){return function(e,t,r){var o=!(null==r||!r.forStoryPin),u=o&&i.Z.enabled("ideaPinExtendVideoLength"),a=u?s.FH:s.P9,c=o?s.W_:4,f=o?a:900;if(t.duration<c)return(0,n.Z)(o?"STORY_PIN_VIDEO_BELOW_MIN_DURATION":"VIDEO_BELOW_MIN_DURATION",e);if(t.duration>f){var l=u?"EXTEND_STORY_PIN_VIDEO_OVER_MAX_DURATION":"STORY_PIN_VIDEO_OVER_MAX_DURATION";return(0,n.Z)(o?l:"VIDEO_OVER_MAX_DURATION",e)}return t.width&&t.height?t.width/t.height<.5||t.width/t.height>1.91?(0,n.Z)("VIDEO_UNSUPPORTED_RATIO",e):t.width<100||t.height<100?(0,n.Z)("VIDEO_UNDER_MIN_DIMENSIONS",e):t:(0,n.Z)("VIDEO_UNRECOGNIZED_ENCODING",e)}(e,t,r)})).catch((function(e){return e}))}var d=r(531245);function h(e,t,r){var o=r||{},i=o.allowVideo,u=o.videoOnly;return d.ss.includes(t.type)&&i?p(e,t,r):d.xl.includes(t.type)&&!u?f(e,t,r):Promise.resolve((0,n.Z)("FILE_UNRECOGNIZED_TYPE",e))}}}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/63061-a4cb7385c64e0a48.js.map