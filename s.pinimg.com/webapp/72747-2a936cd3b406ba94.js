(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[72747],{182750:function(e,t,r){"use strict";r.d(t,{Z:function(){return P}});var n=r(76911),o=r(954931),i=r(845620),a=r.n(i),u=r(89254),c=r(610248),s=r(908390),l=r(515198);function d(e){return(d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function f(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function p(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function y(e,t){return(y=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function m(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=h(e);if(t){var o=h(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return b(this,r)}}function b(e,t){if(t&&("object"===d(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function h(e){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var v=new(a());v.tlds(c),v.add("#",{validate:function(e,t,r){var n=e.slice(t);return r.re.hashtag||(r.re.hashtag=new RegExp("^([a-zA-Z0-9_]){1,15}(?!_)(?=$|"+r.re.src_ZPCc+")")),r.re.hashtag.test(n)?!(t>=2&&"#"===n[t-2])&&n.match(r.re.hashtag)[0].length:0},normalize:function(e){e.url="https://pinterest.com/search/pins/?q=".concat(encodeURIComponent(e.text),"&rs=hashtag_pinrep")}});var g=function(e){var t=e.decoratedHref,r=e.decoratedText,n=e.index,o=e.isTrusted;return(0,l.jsx)(s.rU,{href:t,onClick:function(e){e.event.stopPropagation()},target:o?null:"blank",children:r},n)},P=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&y(e,t)}(c,e);var t,r,i,a=m(c);function c(){return f(this,c),a.apply(this,arguments)}return t=c,(r=[{key:"parseString",value:function(e){if(""===e)return e;var t,r=(t=e,v.match(t));if(!r)return e;var n=[],i=0;return r.forEach((function(t,r){t.index>i&&n.push(e.substring(i,t.index));var a=t.url,c=(0,o.Z)(t.url)&&!t.url.match(/help.pinterest/g);if(c){var s=(0,u.Z)(t.url);a=a.replace(s.origin,"")}var d=t.text,f=(0,l.jsx)(g,{decoratedHref:a,decoratedText:d,index:r,isTrusted:c});n.push(f),i=t.lastIndex})),e.length>i&&n.push(e.substring(i)),1===n.length?n[0]:n}},{key:"parse",value:function(e){var t=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return"string"==typeof e?this.parseString(e):(0,n.isValidElement)(e)&&"a"!==e.type&&"button"!==e.type?(0,n.cloneElement)(e,{key:r},this.parse(e.props.children)):Array.isArray(e)?e.map((function(e,r){return t.parse(e,r)})):e}},{key:"render",value:function(){return(0,l.jsx)("span",{children:this.parse(this.props.children)})}}])&&p(t.prototype,r),i&&p(t,i),c}(n.PureComponent)},964569:function(e,t,r){"use strict";r.d(t,{Z:function(){return h}});var n,o=r(506979),i=r(6637),a=r(422946),u=r(956800),c=r(274415),s=r(600147),l=r(139405),d=r(664569);function f(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function p(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?f(Object(r),!0).forEach((function(t){m(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):f(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function y(e,t,r,n,o,i,a){try{var u=e[i](a),c=u.value}catch(s){return void r(s)}u.done?t(c):Promise.resolve(c).then(n,o)}function m(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var b=(m(n={},d.o.aggregatedComment,"AggregatedCommentReplyResource"),m(n,d.o.pin,"AggregatedCommentResource"),m(n,d.o.didIt,"DidItCommentsResource"),n);function h(){var e=(0,o.useDispatch)(),t=(0,l.nf)(),r=t.aggregatedCommentCreated,n=t.updateCommentCount;return function(){var t,o=(t=regeneratorRuntime.mark((function t(o){var l,d,f,y,m,h,v,g,P,S,_,w,E,O,R;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return l=o.force,d=void 0===l||l,f=o.fromUnifiedComment,y=o.objectId,m=o.objectType,h=o.orbacSubjectId,v=o.pinId,g=o.replyToCommentId,P=o.tags,S=o.text,_=b[m],w=p({force:d,objectId:y,pinId:v,tags:P,text:S,replyToCommentId:g},h?{orbacSubjectId:h}:{}),E=a.DV.AGGREGATED_COMMENTS,f&&(E="pin"===m?a.DV.UNIFIED_COMMENTS:a.DV.AGGREGATED_COMMENT_REPLIES),t.next=7,i.Z.create(_,w).callCreate({showError:!1});case 7:return O=t.sent,R=O.resource_response.data,r(y,R),e((0,u.vX)({feedType:E,feedId:y,itemIds:[R.id],itemType:R.type})),"pin"===m&&v?e((0,c.R)(v,1)):"aggregatedComment"===m?n(y,1):e((0,s.L8)(y,1)),t.abrupt("return",R.id||O);case 13:case"end":return t.stop()}}),t)})),function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(e){y(i,n,o,a,u,"next",e)}function u(e){y(i,n,o,a,u,"throw",e)}a(void 0)}))});return function(e){return o.apply(this,arguments)}}()}},91564:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});var n=r(898781),o=r(908390),i=r(515198);function a(){var e=(0,n.ZP)();return(0,i.jsx)(o.xu,{alignItems:"center",color:"default",display:"flex",height:155,justifyContent:"center",rounding:2,width:300,dangerouslySetInlineStyle:{__style:{outline:"none"}},children:(0,i.jsx)(o.$j,{accessibilityLabel:e._('Tried it', ' - ', ' -- '),show:!0})})}},558068:function(e,t,r){"use strict";r.d(t,{Hv:function(){return b},aX:function(){return g},nK:function(){return P}});var n=r(76911),o=r(425288),i=r(609500),a=r(515198);function u(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==r)return;var n,o,i=[],a=!0,u=!1;try{for(r=r.call(e);!(a=(n=r.next()).done)&&(i.push(n.value),!t||i.length!==t);a=!0);}catch(c){u=!0,o=c}finally{try{a||null==r.return||r.return()}finally{if(u)throw o}}return i}(e,t)||s(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function c(e){return function(e){if(Array.isArray(e))return l(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||s(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function s(e,t){if(e){if("string"==typeof e)return l(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?l(e,t):void 0}}function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function d(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function f(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?d(Object(r),!0).forEach((function(t){p(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):d(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function p(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var y=(0,o.Z)("HistoryStackContext",{previous:[],current:null,forward:[]}),m=y.Provider,b=y.useHook,h=function(e){return e&&e.pathname?e.pathname+(e.search||""):""};function v(e,t){var r,n={action:t.type,location:t.location,match:t.match};if(t.location===(null===(r=e.current)||void 0===r?void 0:r.location))return e;switch(t.type){case"POP":return e.forward.length>0&&h(e.forward[0].location)===h(n.location)?f(f({},e),{},{forward:e.forward.slice(1),current:f(f({},e.forward[0]),{},{action:t.type}),previous:e.current?[].concat(c(e.previous),[{action:e.current.action,location:e.current.location,match:e.current.match}]):e.previous}):f(f({},e),{},{forward:e.current?[{action:e.current.action,location:e.current.location,match:e.current.match}].concat(c(e.forward)):e.forward,current:f(f({},e.previous.slice(-1)[0]),{},{action:t.type}),previous:e.previous.slice(0,-1)});case"PUSH":return f(f({},e),{},{forward:e.forward.length>0?[]:e.forward,current:n,previous:e.current?[].concat(c(e.previous),[{action:e.current.action,location:e.current.location,match:e.current.match}]):e.previous});case"REPLACE":return f(f({},e),{},{current:n});default:return e}}function g(){var e=b(),t=e.current,r=e.previous;return(0,n.useMemo)((function(){return t?r.concat(t):r}),[t,r])}function P(e){var t=e.children,r=(0,i.useHistory)(),o=(0,i.useLocation)(),c=(0,i.useRouteMatch)(),s={forward:[],current:{action:r.action,location:o,match:c},previous:[]},l=u((0,n.useReducer)(v,s),2),d=l[0],f=l[1];return(0,n.useEffect)((function(){var e=r.action;f({type:e,location:o,match:c})}),[o]),(0,a.jsx)(m,{value:d,children:t})}},391254:function(e,t,r){"use strict";r.d(t,{Z:function(){return d}});r(674631);var n=r(515198),o=["css","unsafeCSS"];function i(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function a(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?i(Object(r),!0).forEach((function(t){u(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function u(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function c(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}function s(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var l=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._private_safe_value=t.trim().replace(">",">").replace("<","<").replace("&","&").replace('"','"').replace("'","'")}var t,r,n;return t=e,n=[{key:"factory",value:function(t){return t instanceof e?t:new e(String(t))}}],(r=[{key:"toString",value:function(){return this._private_safe_value}}])&&s(t.prototype,r),n&&s(t,n),e}();function d(e){var t=e.css,r=e.unsafeCSS,i=c(e,o),u=String(t||"")||r||"";return!!u?(0,n.jsx)("style",a(a({},i),{},{dangerouslySetInnerHTML:{__html:String(l.factory(u))}})):null}},941646:function(e,t,r){"use strict";r.d(t,{Z:function(){return i}});var n=r(908390),o=r(515198);function i(e){var t=e.children,r=e.display,i=e.id;return(0,o.jsx)(n.xu,{"data-test-id":i,display:r,children:t})}},366284:function(e,t,r){"use strict";r.d(t,{G6:function(){return i},i7:function(){return a},oi:function(){return n},u$:function(){return o},un:function(){return c},vU:function(){return u}});var n=Object.freeze({OTHER:0,CHROME:1,SAFARI:2,IE:3,FIREFOX:4,OPERA:5,EDGE:6}),o=function(e){switch(!0){case e.includes("Chrome"):return n.CHROME;case e.includes("Safari"):return n.SAFARI;case e.includes("Firefox"):return n.FIREFOX;case e.includes("Opera"):return n.OPERA;case e.includes("IE"):return n.IE;case e.includes("Edge"):return n.EDGE;default:return n.OTHER}};function i(e){return o(e)===n.SAFARI}function a(e){return o(e)===n.CHROME}function u(e){return o(e)===n.FIREFOX}function c(e){return o(e)===n.EDGE}},792182:function(e,t,r){"use strict";r.d(t,{Z:function(){return c}});var n=r(76911),o=r(664229),i=r.n(o);function a(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==r)return;var n,o,i=[],a=!0,u=!1;try{for(r=r.call(e);!(a=(n=r.next()).done)&&(i.push(n.value),!t||i.length!==t);a=!0);}catch(c){u=!0,o=c}finally{try{a||null==r.return||r.return()}finally{if(u)throw o}}return i}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return u(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return u(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function c(){var e=a((0,n.useState)(null),2),t=e[0],r=e[1];return(0,n.useEffect)((function(){var e=function(){return r({width:window.innerWidth,height:window.innerHeight})};e();var t=i()(e,50);return window.addEventListener("resize",t),function(){return window.removeEventListener("resize",t)}}),[]),t}},834911:function(e,t,r){"use strict";r.d(t,{Z:function(){return i}});var n=r(835209),o=r(341732);function i(e){var t=e.carouselData,r=e.images,i=e.richMetadata,a=e.richSummary,u=e.shouldUnifyImageSizes,c=e.additionalImages,s=(0,n.Z)({richPinData:i||a});return s&&c&&c.length>0?(0,o.Z)(null,c,t&&t.index,u,s.id):s&&s.additional_images&&s.additional_images.length>0?(0,o.Z)(r,s.additional_images,t&&t.index,u,s.id):t||void 0}},341732:function(e,t,r){"use strict";function n(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function o(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?n(Object(r),!0).forEach((function(t){i(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function i(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function a(e){return function(e){if(Array.isArray(e))return u(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return u(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return u(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}r.d(t,{Z:function(){return l}});var c=["236x","474x","564x","736x"];function s(e){function t(e,t){var r=t.imageKey,n=t.height,a=t.width;return e.images&&e.images[r]&&(e=o(o({},e),{},{images:o(o({},e.images),{},i({},r,o(o({},e.images[r]),{},{height:n,width:a})))})),e}var r=c.map((function(t){var r=Math.min.apply(Math,a(e.map((function(e){return e.images&&e.images[t]&&e.images[t].height||1/0})))),n=Math.min.apply(Math,a(e.map((function(e){return e.images&&e.images[t]&&e.images[t].width||1/0}))));return{imageKey:t,height:r,width:n}}));return e.map((function(e){return r.reduce(t,e)}))}function l(e,t,r,n,o){var i=(null==t?void 0:t.map((function(e){return{images:e.canonical_images||void 0,image_signature:e.image_signature||void 0}})))||[],u=e?[{images:e}].concat(a(i)):i;return{carousel_slots:n?s(u):u,index:r||0,id:o}}},112690:function(e,t,r){"use strict";var n=r(407043);t.Z=function(){return(0,n.v)().logContextEvent}},643010:function(e,t,r){"use strict";r.d(t,{F6:function(){return p},Hs:function(){return f},Uf:function(){return c},Yc:function(){return l},vs:function(){return d}});var n=r(76911),o=r(867820),i=r(957161);function a(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==r)return;var n,o,i=[],a=!0,u=!1;try{for(r=r.call(e);!(a=(n=r.next()).done)&&(i.push(n.value),!t||i.length!==t);a=!0);}catch(c){u=!0,o=c}finally{try{a||null==r.return||r.return()}finally{if(u)throw o}}return i}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return u(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return u(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var c="theme",s="dark"===(0,i.qn)(c),l=function(){return s};function d(){var e=a((0,n.useState)(!1),2),t=e[0],r=e[1];return(0,n.useEffect)((function(){r(l())}),[r]),t}var f=function(){(0,i.Nh)(c,"dark"),(0,o.My)("mweb.dark_mode.enable"),window.location.reload()},p=function(){(0,i.L_)(c),(0,o.My)("mweb.dark_mode.disable"),window.location.reload()}},81226:function(e,t,r){"use strict";function n(e){var t=Math.round(e/1e3),r=t%60;return Math.floor(t/60)+":"+(r<10?"0":"")+r}r.d(t,{Z:function(){return n}})},966476:function(e,t,r){"use strict";var n=r(76911);function o(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==r)return;var n,o,i=[],a=!0,u=!1;try{for(r=r.call(e);!(a=(n=r.next()).done)&&(i.push(n.value),!t||i.length!==t);a=!0);}catch(c){u=!0,o=c}finally{try{a||null==r.return||r.return()}finally{if(u)throw o}}return i}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return i(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return i(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}t.Z=function(){var e=o((0,n.useState)(!1),2),t=e[0],r=e[1];return(0,n.useEffect)((function(){r(!0)}),[]),t}},722767:function(e,t,r){"use strict";var n=r(76911),o=r(945790);function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function c(e,t){return(c=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function s(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=f(e);if(t){var o=f(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return l(this,r)}}function l(e,t){if(t&&("object"===i(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return d(e)}function d(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function f(e){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function p(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var y=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&c(e,t)}(f,e);var t,r,i,l=s(f);function f(){var e;a(this,f);for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return p(d(e=l.call.apply(l,[this].concat(r))),"observer",null),p(d(e),"handleVisibilityChanged",(function(t,r){e.props.onVisibilityChange(t,r)})),e}return t=f,(r=[{key:"componentDidMount",value:function(){var e=o.findDOMNode(this);e instanceof HTMLElement&&(this.node=e),this.node&&(this.observer=new window.IntersectionObserver(this.handleVisibilityChanged,this.props.options),this.observer.observe(this.node))}},{key:"componentWillUnmount",value:function(){this.observer&&(this.observer.unobserve(this.node),delete this.observer)}},{key:"render",value:function(){return n.Children.only(this.props.children)}}])&&u(t.prototype,r),i&&u(t,i),f}(n.Component);t.Z=y},11363:function(e,t,r){"use strict";r.d(t,{Bx:function(){return o},N4:function(){return a},is:function(){return u},lt:function(){return n},oM:function(){return i}});var n=function(e){return e._('You\'re almost there! Log in to access all of Pinterest', 'loginModal.limitedLogin.subheader', 'Subheader text on personalized login modal/flyout to remind users to log in')},o=function(e){return e._('Log in to save this Pin', 'limitedLogin.modalHeader.repin', 'Title on mobile web limited login modal to prompt users to login after they clicked save button.')},i=function(e){return e._('Log in to edit this Pin', 'limitedLogin.modalHeader.editPin', 'Title on mobile web limited login modal to prompt users to login after they clicked edit button.')},a=function(e){var t=e.i18n;return e.toFollow?t._('Log in to follow', 'limitedLogin.modalHeader.follow', 'Title on mobile web limited login modal to prompt users to login to follow a user or board.'):t._('Log in to unfollow', 'limitedLogin.modalHeader.unfollow', 'Title on mobile web limited login modal to prompt users to login to unfollow a user or board.')},u=function(e){return e._('Log in to create a Pin or board', 'limitedLogin.modalHeader.create', 'Title on mobile web limited login modal to prompt users to login to create a Pin or board.')}},946984:function(e,t,r){"use strict";var n=r(898781),o=r(11363),i=r(987318);t.Z=function(){var e=(0,i.H)(),t=e.loginForMore,r=e.viewer,a=e.limitedLoginModalSubheader,u=(0,n.ZP)();return"AUTH"===r.type?null:function(e){null==t||t.setVisible(!0),null==a||a.setText((null==e?void 0:e.loginModalHeader)||(0,o.lt)(u))}}},332611:function(e,t,r){"use strict";r.d(t,{CK:function(){return y},N:function(){return g},Qu:function(){return m},UT:function(){return p},YX:function(){return v},d9:function(){return b},fO:function(){return l},kd:function(){return h},pz:function(){return d}});var n=r(6637),o=r(764990),i=r(172071),a=r(957191);function u(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==r)return;var n,o,i=[],a=!0,u=!1;try{for(r=r.call(e);!(a=(n=r.next()).done)&&(i.push(n.value),!t||i.length!==t);a=!0);}catch(c){u=!0,o=c}finally{try{a||null==r.return||r.return()}finally{if(u)throw o}}return i}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return c(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return c(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var s,l=function(e,t){return function(r){var o=t?{extra_context:e,targeting:t}:{extra_context:e};return n.Z.create("UserExperiencePlatformResource",o).callGet().then((function(e){return e.resource_response?r((0,a.OD)(e.resource_response.data)):void 0}))}},d=function(e,t,r,i){return function(u,c){if(t)return Promise.resolve();if(i&&(s=i),1===e.length){var l=e[0],d=c().experiences[l],f=(null==d?void 0:d.extraContext)||null;if(JSON.stringify(f)===JSON.stringify(r)||(0,o.E3)(d)&&!(r&&Object.keys(r).length>0))return Promise.resolve()}return n.Z.create("UserExperienceResource",{placement_ids:e,extra_context:r||null,targeting:i}).callGet().then((function(e){return e.resource_response?u((0,a.cL)(e.resource_response.data)):void 0}))}},f=function(e,t){return function(r,o,i){var u=arguments.length>3&&void 0!==arguments[3]&&arguments[3],c=arguments.length>4?arguments[4]:void 0,d=arguments.length>5?arguments[5]:void 0;return function(f,p){var y,m=p(),b=m.experiences,h=m.experiencesMulti,v=null,g=!0;u||(v=(g=b[r]&&b[r].experience_id===o)?b[r]:Array.isArray(h[r])&&(null===(y=h[r])||void 0===y?void 0:y.find((function(e){return e.experience_id===o}))));if(v&&v.experience_id===o||u&&r&&o){var P=n.Z.create(e,{placed_experience_id:"".concat(r,"%3A").concat(o),extra_context:null!=c?c:{},targeting:d}),S=g?a.Yb:a.xW;switch(t){case"dismissed":return P.callDelete().then((function(){f(S(r,o,t)),f(l(void 0,s))}));case"completed":return P.callUpdate().then((function(){i||(f(S(r,o,t)),f(l(void 0,s)))}));case"viewed":return f(S(r,o,t)),P.callUpdate().then((function(){1000162===r&&f(l())}));case"completedWithoutHomefeed":return P.callUpdate().then((function(){i||f(S(r,o,t))}));default:return Promise.resolve()}}return Promise.resolve()}}},p=f("UserExperienceViewedResource","viewed"),y=f("UserExperienceCompletedResource","completed"),m=f("UserExperienceResource","dismissed"),b=f("UserExperienceCompletedResource","completedWithoutHomefeed"),h=function(e,t){return function(r,o){var a=o().experiences[e];a&&a.triggerable_placed_exps&&a.triggerable_placed_exps.length&&a.triggerable_placed_exps.forEach((function(r){var o=u(r.split(":"),2)[1],c=t;a.metadata&&a.metadata[o]&&(c=Object.assign({},t,a.metadata[o])),n.Z.create("UserExperienceTriggerResource",{placed_experience_id:r.replace(":","%3A"),extra_context:c}).callUpdate().then((function(){!function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};i.Z.increment("".concat(e,".").concat(t),1,r)}("experienceservice","experimentTriggerCall.1",{placement_id:e,experience_id:o})}))}))}},v=function(e){return function(t,r){return t(h(e)),r().experiences[e]}},g=function(e,t,r){return function(n){r&&(s=r),n(h(e,t)),t&&Object.keys(t).length>0&&n(d([e],!1,t,r))}}},764990:function(e,t,r){"use strict";function n(e){return!!e&&0!==e.type}r.d(t,{A0:function(){return i},E3:function(){return n},MQ:function(){return o}});var o=function(e,t,r){var o=e[r];return t[r]&&n(o)?o:null};function i(e){var t;return null===(t=e.display_data)||void 0===t?void 0:t.anchor}},207737:function(e,t,r){"use strict";r.d(t,{$S:function(){return n},V$:function(){return o},_4:function(){return a},iY:function(){return u},mR:function(){return i}});var n="REFRESH_ALL_EXPERIENCES_MULTI",o="UPDATE_EXPERIENCE_MULTI",i="FETCH_EXPERIENCES",a="REFRESH_ALL_EXPERIENCES",u="UPDATE_EXPERIENCE"},957191:function(e,t,r){"use strict";r.d(t,{NW:function(){return a},OD:function(){return c},Yb:function(){return u},cL:function(){return s},xW:function(){return i}});var n=r(6637),o=r(207737),i=function(e,t,r){return{type:o.V$,payload:{placementId:e,experienceId:t,status:r}}},a=function(e){return function(t){return n.Z.create("UserExperiencePlatformResource",{extra_context:e,multiExperiencePlatform:!0}).callGet().then((function(e){return e.resource_response?t((r=e.resource_response.data,{type:o.$S,payload:{experiencesMulti:r}})):void 0;var r}))}},u=function(e,t,r){return{type:o.iY,payload:{placementId:e,experienceId:t,status:r}}},c=function(e){return{type:o._4,payload:{experiences:e}}},s=function(e){return{type:o.mR,payload:{experiences:e}}}},570470:function(e,t,r){"use strict";r.d(t,{Z:function(){return s}});var n=r(76911),o=r(908390),i=r(515198);function a(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==r)return;var n,o,i=[],a=!0,u=!1;try{for(r=r.call(e);!(a=(n=r.next()).done)&&(i.push(n.value),!t||i.length!==t);a=!0);}catch(c){u=!0,o=c}finally{try{a||null==r.return||r.return()}finally{if(u)throw o}}return i}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return u(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return u(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function c(e){var t=e.anchor,r=e.children,u=e.zIndex,c=e.leftOverride,s=e.topOverride,l=(0,n.useRef)(null),d=a((0,n.useState)(0),2),f=d[0],p=d[1],y=a((0,n.useState)(0),2),m=y[0],b=y[1],h=t.getBoundingClientRect(),v=h.height,g=h.width;(0,n.useEffect)((function(){var e=l.current;if(t&&e){var r=e.getBoundingClientRect(),n=r.height,o=r.width,i=function(e,t,r,n){return{horizontalOffset:-(n/2-t/2),verticalOffset:-(r/2-e/2)}}(v,g,n,o),a=i.horizontalOffset,u=i.verticalOffset;p(a),b(u)}}));var P=c||f,S=s||m;return(0,i.jsx)(o.xu,{position:"absolute",zIndex:u?new o.Ry(u):void 0,dangerouslySetInlineStyle:{__style:{left:P,top:S}},ref:l,children:r})}var s=function(e){var t=e.anchor,r=e.leftOverride,n=e.onTouch,a=e.onMouseEnter,u=e.paused,s=e.size,l=e.topOverride,d=e.zIndex;return t?(0,i.jsx)(c,{anchor:t,leftOverride:r,topOverride:l,zIndex:d,children:(0,i.jsx)(o.iP,{fullWidth:!1,onTap:function(e){var t=e.event;return n(t)},onMouseEnter:a,rounding:"circle",children:(0,i.jsx)(o.o3,{paused:u,size:s})})}):null}},116303:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});var n=r(908390),o=r(515198),i=function(e,t){var r=null==e?void 0:e.includes("images/user/default");return Boolean(r&&t)};function a(e){var t=e.accessibilityLabel,r=e.name,a=e.outline,u=e.size,c=e.src,s=e.verified;return(0,o.jsx)(n.qE,{accessibilityLabel:t,name:r,outline:a,size:u,src:i(c,r)?void 0:c,verified:s})}},121151:function(e,t,r){"use strict";r.d(t,{ZP:function(){return h},b7:function(){return u.b7},bN:function(){return m},p4:function(){return b}});var n=r(50286),o=r(908390),i=r(167678),a=r(515198),u=r(968121),c=["isOpen","mobileAccessibilityCloseIconLabel","mobileAllowScroll","mobileHideCloseIcon","mobileIsFullscreen","mobileIsSlideUp","type"],s=["allowClickAndDrag","allowMediaPlay","allowScroll","role","size"];function l(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function d(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?l(Object(r),!0).forEach((function(t){f(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):l(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function f(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function p(e,t){if(null==e)return{};var r,n,o=y(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}function y(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}var m=(0,i.ZP)({resolved:{},chunkName:function(){return"DesktopModal"},isReady:function(e){var t=this.resolve(e);return!0===this.resolved[t]&&!!r.m[t]},importAsync:function(){return r.e(51879).then(r.bind(r,373420))},requireAsync:function(e){var t=this,r=this.resolve(e);return this.resolved[r]=!1,this.importAsync(e).then((function(e){return t.resolved[r]=!0,e}))},requireSync:function e(t){var n=this.resolve(t);return r(n)},resolve:function e(){return 373420}}),b=(0,i.ZP)({resolved:{},chunkName:function(){return"MobileModal"},isReady:function(e){var t=this.resolve(e);return!0===this.resolved[t]&&!!r.m[t]},importAsync:function(){return r.e(72430).then(r.bind(r,430322))},requireAsync:function(e){var t=this,r=this.resolve(e);return this.resolved[r]=!1,this.importAsync(e).then((function(e){return t.resolved[r]=!0,e}))},requireSync:function e(t){var n=this.resolve(t);return r(n)},resolve:function e(){return 430322}});function h(e){var t=(0,n.ZP)(),r=void 0===e.isOpen||e.isOpen;if("desktop"===t&&r){e.isOpen,e.mobileAccessibilityCloseIconLabel,e.mobileAllowScroll,e.mobileHideCloseIcon,e.mobileIsFullscreen,e.mobileIsSlideUp,e.type;var o=p(e,c);return(0,a.jsx)(m,d({},o))}e.allowClickAndDrag,e.allowMediaPlay,e.allowScroll,e.role,e.size;var i=p(e,s);return(0,a.jsx)(b,d(d({},i),{},{isOpen:r}))}},968121:function(e,t,r){"use strict";r.d(t,{JN:function(){return y},Vf:function(){return m},ZM:function(){return l},b7:function(){return s},bf:function(){return p},i_:function(){return d},ju:function(){return b}});var n=r(379764),o=r(643010),i=r(908390);function a(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function u(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?a(Object(r),!0).forEach((function(t){c(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):a(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function c(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var s=new i.Ry(1e3),l=new i.H3([n.Z]),d=12,f={headingOffset:{__style:{marginLeft:-10,marginRight:50}},RTLheadingOffset:{__style:{marginRight:-10,marginLeft:50}},mask:{baseStyles:{backgroundColor:"rgba(0,0,0, .5)",height:"100%",touchAction:"none",transitionProperty:"opacity",transitionTimingFunction:"ease-out",width:"100%",zIndex:1}},modal:{baseStyles:{border:(0,o.Yc)()?void 0:"1px solid #efefef",touchAction:"none",transitionProperty:"transform, opacity",transitionTimingFunction:"ease-out",width:"100vw",zIndex:1,left:"0px",bottom:0,borderRadius:"32px 32px 0px 0px",boxShadow:"0px 0px 8px rgba(0, 0, 0, 0.1)",overflow:"hidden"},tabletStyles:{border:void 0,borderRadius:"32px",top:"50%",left:"50%",minWidth:"350px",touchAction:"none",transform:"translate(-50%, -50%)",transitionProperty:"transform, opacity",transitionTimingFunction:"ease-out",zIndex:1},nonTabletSignUpStyles:{border:void 0,borderRadius:"32px",top:"50%",touchAction:"none",transform:"translate(0%, -50%)",transitionProperty:"transform, opacity",transitionTimingFunction:"ease-out",zIndex:1,left:"8px",right:"8px",background:"#FFFFFF"},baseStylesSliding:{border:(0,o.Yc)()?void 0:"1px solid #efefef",touchAction:"none",width:"100vw",height:"",zIndex:1,left:0,bottom:0,borderRadius:"32px 32px 0px 0px",boxShadow:"0px 0px 8px rgba(0, 0, 0, 0.1)"},fullscreenStyles:{touchAction:"none",transitionProperty:"transform, opacity",transitionTimingFunction:"ease-out",width:"90vw",height:"70vh",borderRadius:"8px",zIndex:1,left:"5vw",bottom:"13vh",overflowY:"hidden"},tabletNarrowStyle:{width:425,left:"50%",transform:"translateX(-50%)"}}},p=function(){return{__style:f.mask.baseStyles}},y=function(e){var t,r=e.isFullscreen,n=e.isTablet,o=e.modalStyle,i=e.type,a=f.modal.fullscreenStyles;return t=r?a:n?f.modal.tabletStyles:"signup"===i?f.modal.nonTabletSignUpStyles:u(u({},f.modal.baseStyles),{},{borderRadius:"32px 32px 0 0"}),{__style:o||t}},m=function(e){var t=e.isFullscreen,r=e.isTablet,n=e.isShowing,o=e.type,i=f.modal.baseStylesSliding,a=n?"translateY(0)":"translateY(100vh)";return i.height=t?"100vh":"",r&&"related_interests_modal"===o&&(i=u(u({},i),f.modal.tabletNarrowStyle),a=n?"translate(-50%, 0)":"translate(-50%, 100vh)"),{__style:u(u({},i),{transition:"all 225ms cubic-bezier(0.0,0.0,0.2,1) 500ms",transform:a})}},b=function(e){return e?f.RTLheadingOffset:f.headingOffset}},499128:function(e,t,r){"use strict";r.d(t,{UZ:function(){return d},Vg:function(){return l},ZP:function(){return f}});var n=r(76911),o=r(829407),i=r(50286),a=r(908390),u=r(515198);function c(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==r)return;var n,o,i=[],a=!0,u=!1;try{for(r=r.call(e);!(a=(n=r.next()).done)&&(i.push(n.value),!t||i.length!==t);a=!0);}catch(c){u=!0,o=c}finally{try{a||null==r.return||r.return()}finally{if(u)throw o}}return i}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return s(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return s(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var l=200,d=function(e){var t=e.deviceType,r=e.hiding,n=e.visible,o="desktop"===t,i=0,a=o?"translateY(200px)":"translateY(-200px)",u="opacity 0.1s ease-in-out",c="hidden";return n&&!r&&(i=1,a="translateY(0)",u="all 0.7s cubic-bezier(.19, 1.15, .48, 1)",c="visible"),n&&r&&(a="scale(1.1)",u="opacity transform ".concat(.2,"s")),{opacity:i,pointerEvents:"auto",position:"relative",marginTop:o?10:0,transform:a,transition:u,visibility:c}};function f(e){var t,r=e._dangerouslySetPrimaryAction,s=e.text,f=e.primaryAction,p=e.thumbnailShape,y=e.variant,m=e.dataTestId,b=e.duration,h=void 0===b?2e3:b,v=e.onHide,g=e.href,P=e.onClick,S=e.openNewPage,_=e.iconThumbnail,w=e.imageUrl,E=(0,i.ZP)(),O=c((0,n.useState)(!1),2),R=O[0],T=O[1],D=c((0,n.useState)(!1),2),I=D[0],A=D[1],j=(0,n.useRef)(),C=function(){T(!0),j.current=setTimeout(v,l)},k=function(){j.current=setTimeout(C,h)},x=function(){j.current&&clearTimeout(j.current)};(0,o.Z)((function(){return setTimeout((function(){return A(!0)}),100),k(),x})),_?t=_:w&&(t=(0,u.jsx)(a.xu,{height:48,overflow:"hidden",width:48,children:(0,u.jsx)(a.Ee,{alt:"string"==typeof s?s:"".concat(s[0]," ").concat(s[1]),fit:"cover",naturalHeight:1,naturalWidth:1,src:w})}));var L=(0,u.jsx)(a.FN,{_dangerouslySetPrimaryAction:r,primaryAction:f,text:s,thumbnail:t,thumbnailShape:p,variant:y}),M=d({deviceType:E,hiding:R,visible:I}),F=M.marginTop,N=M.opacity,U=M.pointerEvents,V=M.position,B=M.transform,G=M.transition,H=M.visibility;return(0,u.jsx)(a.xu,{dangerouslySetInlineStyle:{__style:{transform:B,transition:G,visibility:H,pointerEvents:U}},"data-test-id":null!=m?m:"toast",onMouseEnter:x,onMouseLeave:k,opacity:N,position:V,marginTop:F,children:g?(0,u.jsx)(a.iP,{role:"link",href:g,onTap:function(e){var t=e.event;return null==P?void 0:P(t)},target:S?"blank":null,rounding:"pill",children:L}):L})}},444445:function(e,t,r){"use strict";r.d(t,{$H:function(){return a},$q:function(){return h},D6:function(){return c},KN:function(){return v},Lo:function(){return o},P2:function(){return y},ZZ:function(){return l},g5:function(){return d},jC:function(){return u},lX:function(){return p},nW:function(){return f},oX:function(){return m},qG:function(){return b},tG:function(){return i},yF:function(){return n},yc:function(){return s}});var n=236,o=2*n/3,i=175,a=24,u=4,c=2,s=2,l=14,d=16,f=12,p=16,y=24,m=16,b=-1,h=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=t?p:f;return e?r:y},v=function(e,t,r,n){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:l,i=e+o,a=t*i,u=(r+1)*i-1,c="\n@media (min-width: ".concat(a,"px) and (max-width: ").concat(u,"px) {\n  ").concat(n,"\n}\n");return c}},898781:function(e,t,r){"use strict";r.d(t,{oz:function(){return i},q6:function(){return o}});var n=(0,r(425288).Z)("i18n"),o=n.Provider,i=n.Consumer,a=n.useHook;t.ZP=a},12610:function(e,t,r){"use strict";var n;function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function a(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}r.d(t,{Z3:function(){return b},LU:function(){return h},ZP:function(){return v}});var u=1e6,c=window.location.search.includes("debug_impressions=1")||document.cookie&&document.cookie.indexOf("debug_impressions=1")>-1,s={paused:"Pause",resumed:"Resume",stopped:"Flush",enter:"Enter viewport",exit:"Exit viewport"},l={},d={background:"#FF8A8A",transform:"scale(.98)"},f=(a(n={init:function(e){return{transform:"scale(".concat(l[e]?.8:.99,")"),transition:"transform .2s ease-in-out",background:"#8E8E8E"}}},s.enter,{background:"#A0DCC8",transform:"scale(.99)"}),a(n,s.exit,d),a(n,s.stopped,d),a(n,s.paused,d),a(n,s.resumed,{background:"#0FA573",transform:"scale(.99)"}),n),p=function(){function e(t){var r=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),a(this,"setMutationObserver",(function(e){return r.mutationObserver=e,r})),a(this,"startMutationObserver",(function(e){r.mutationObserver&&r.mutationObserver.observe(r.node,e)})),a(this,"stopMutationObserver",(function(){r.mutationObserver&&r.mutationObserver.disconnect()})),a(this,"handleIntersectionChange",(function(e){var t=e.intersectionRatio>0||e.isIntersecting;if(t&&!r.inViewport){var n=Date.now();r.startTime=n,r._debug(s.enter,{startTime:n,node:r.node}),r.enterCallbacks.forEach((function(e){return e()}))}else!t&&r.inViewport&&(r._debug(s.exit,!0),r.exitCallbacks.forEach((function(e){return e(r.toJSON())})));r.inViewport=t})),this.enterCallbacks=[],this.exitCallbacks=[],this.inViewport=!1,this.node=t,this.startTime=0,this.debugId=""}var t,r,n;return t=e,(r=[{key:"onEnterViewport",value:function(e){return this.enterCallbacks.push(e),this}},{key:"onExitViewport",value:function(e){return this.exitCallbacks.push(e),this}},{key:"setDebugId",value:function(e){return this.debugId=e,c&&Object.assign(this.node.style,f.init(e)),this}},{key:"pause",value:function(){var e=this;return this.inViewport&&(this._debug(s.paused,!0),this.exitCallbacks.forEach((function(t){return t(e.toJSON())}))),this}},{key:"resume",value:function(){if(this.inViewport){var e=Date.now();this._debug(s.resumed,{startTime:e}),this.startTime=e}return this}},{key:"stop",value:function(e){var t=this;return this.inViewport&&(this._debug(s.stopped,!0),this.exitCallbacks.forEach((function(r){return r(t.toJSON(e))}))),this}},{key:"toJSON",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return{startTime:this.startTime*u,endTime:Date.now()*u,forcedExit:e}}},{key:"toDebugJSON",value:function(){return{pinID:this.debugId,startTime:this.startTime,endTime:Date.now(),duration:"".concat((Date.now()-this.startTime)/1e3," seconds")}}},{key:"_debug",value:function(e,t){if(c)switch(window.console.log("📌 ".concat(e," -- ").concat(this.debugId)),!0===t&&window.console.log(this.toDebugJSON()),"object"===o(t)&&window.console.log(t),f[e]&&Object.assign(this.node.style,f[e]),e){case s.flushed:case s.paused:case s.exit:l[this.debugId]=!0}}}])&&i(t.prototype,r),n&&i(t,n),e}();function y(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function m(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var b=!0,h=!1,v=function(){function e(){var t=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),m(this,"_delegateChange",(function(e){e.forEach((function(e){var r=t.activeImpressions.get(e.target);r&&r.handleIntersectionChange(e)}))})),m(this,"_handleMutations",(function(e,r){var n=t.mutationObservers.get(r);n&&n.offsetHeight<1&&n&&t.stop(n,"removed")})),this.activeImpressions=new Map,this.mutationObservers=new Map,this.bottomHeight=0,this.bottomObstructions=new Set,this.pausePriority=h,this.observer=new window.IntersectionObserver(this._delegateChange),this.paused=!1,this.topHeight=0,this.topObstructions=new Set,this.inExperiment=!1}var t,r,n;return t=e,(r=[{key:"setExperimentStatus",value:function(e){this.inExperiment!==e&&(this.inExperiment=e)}},{key:"stop",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",r=this.activeImpressions.get(e);r&&(r.stop(t),this.mutationObservers.delete(r.mutationObserver),r.stopMutationObserver(),this.activeImpressions.delete(e),this.observer.unobserve(e))}},{key:"start",value:function(e){var t=this,r=this.activeImpressions.get(e);return r||(r=new p(e),this.activeImpressions.set(e,r),this.observer.observe(e),r.setMutationObserver(new window.MutationObserver((function(e,r){return t._handleMutations(e,r)}))),this.mutationObservers.set(r.mutationObserver,e),r.startMutationObserver({subtree:!0,attributes:!0,attributeFilter:["style"]})),r}},{key:"pause",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:b;this.paused||(Array.from(this.activeImpressions.values()).forEach((function(e){return e.pause()})),this.paused=!0,this.pausePriority===h&&(this.pausePriority=e))}},{key:"resume",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:b;e===h&&this.pausePriority===b||this.paused&&(Array.from(this.activeImpressions.values()).forEach((function(e){return e.resume()})),this.paused=!1,this.pausePriority=h)}},{key:"addObstruction",value:function(e,t){"top"===e?this.topObstructions.add(t):"bottom"===e&&this.bottomObstructions.add(t),this._calculateRootMargins()}},{key:"removeObstruction",value:function(e,t){"top"===e?this.topObstructions.delete(t):"bottom"===e&&this.bottomObstructions.delete(t),this._calculateRootMargins()}},{key:"updateObstructions",value:function(){this._calculateRootMargins()}},{key:"_calculateRootMargins",value:function(){var e=this,t=Array.from(this.topObstructions).reduce((function(e,t){var r=t.getBoundingClientRect().bottom;return r>e?r:e}),0),r=window.innerHeight-Array.from(this.bottomObstructions).reduce((function(e,t){var r=t.getBoundingClientRect().top;return r<e?r:e}),window.innerHeight);if(t!==this.topHeight||r!==this.bottomHeight){var n={rootMargin:"".concat(-t,"px 0px ").concat(-r,"px")};this.observer.disconnect(),this.observer=new window.IntersectionObserver(this._delegateChange,n),Array.from(this.activeImpressions.values()).forEach((function(t){return e.observer.observe(t.node)})),this.topHeight=t,this.bottomHeight=r}}}])&&y(t.prototype,r),n&&y(t,n),e}()},124580:function(e,t,r){"use strict";var n=r(12610);t.Z=new n.ZP},349700:function(e,t,r){"use strict";function n(e,t,r){return e.split(r).map((function(e){if(e.match(r)){var n=e.replace(/[\{\}]/g,"").trim();if(Object.prototype.hasOwnProperty.call(t,n))return t[n]}return e}))}r.d(t,{Wc:function(){return a},bF:function(){return c},nk:function(){return i}});var o=/(\{\{\s*\w+\s*\}\})/g;function i(e,t){return n(e,t,o)}function a(e,t){return n(e,t,o).join("")}var u=/(\{\s*\w+\s*\})/g;function c(e,t){return n(e,t,u)}},53987:function(e,t,r){"use strict";r.d(t,{wy:function(){return j},Fw:function(){return $},ey:function(){return q},dt:function(){return v},bo:function(){return B},oF:function(){return ee},bW:function(){return h},AX:function(){return f},Fy:function(){return d},XE:function(){return l},am:function(){return a},pD:function(){return p},OJ:function(){return c},LO:function(){return se},Gl:function(){return re},PY:function(){return P},Ni:function(){return g},pV:function(){return C},L6:function(){return A},bb:function(){return fe},b0:function(){return b},jC:function(){return H},O7:function(){return ne},LM:function(){return G},OK:function(){return D},mP:function(){return S},C$:function(){return _},dr:function(){return L},gT:function(){return x},Fr:function(){return K},Xn:function(){return w},l4:function(){return I},b_:function(){return Q},J:function(){return u},dZ:function(){return s},FO:function(){return R},re:function(){return O},RU:function(){return oe},Ui:function(){return y},KY:function(){return m},fY:function(){return Y},uM:function(){return z},x7:function(){return X},rk:function(){return le},cD:function(){return Z},dW:function(){return de},Pu:function(){return te},En:function(){return k},ej:function(){return ue},E0:function(){return V},gf:function(){return T},mY:function(){return ie},kY:function(){return ce},cY:function(){return J},$Y:function(){return U},Zz:function(){return E},$V:function(){return N},j8:function(){return W},ip:function(){return M},tZ:function(){return F},YW:function(){return ae}});var n=new RegExp(/^\/(?!(?:pin|categories|report|search|password|terms|discover|help|email|topics|explore|pw|login|signup|about|business|source|ideas|today|tv))[\w\d\-]+\/(?!(?:following|followers|_tools|_created|_saved|tried))[\w\d\-]+(?=\/|$)/),o=["/BingSiteAuth.xml","/about","/add-account","/ads","/age_verification","/all","/apple-app-site-association","/apple-app-site-association.p7m","/attribution_source","/bot.html","/branded-pins","/browserbutton","/buy-it","/careers","/categories","/close-account","/content-claiming","/convert-business","/convert-personal","/create-business","/create-linked-business","/create-personal","/creation-inspiration","/creator-onboarding-landing","/csrf_error","/ct.html","/deactivate-account","/deed6a3ef3a44d41bb3ae2bad137db84.txt","/developers","/discover","/edit","/email_verification_error","/engagement","/explore","/favicon.ico","/fb.html","/following","/google_gdn.html","/google_search.html","/googlef5dc42d6e03f6e61.html","/guidedsearch","/help","/holidays-celebrations","/homefeed","/idea-pin-builder","/idea-pin-invite","/ideas","/inbox","/install-shuffles","/invited","/jobs","/live-session","/login","/login_redirect","/logout","/manifest.json","/manifest.webapp","/me","/messages","/mobile","/notifications","/oauth","/app-factory-oauth","/appealed-pin","/oembed.json","/offline.html","/offsite","/opensearch.xml","/parent_contact_info","/pin-builder","/pin-editor","/pin_catalog","/pin_redirect","/pinterest-wellbeing","/pinterest-predicts","/pinterestlens","/pinterestlenstryon","/pinterestwellbeing","/policy","/product-catalogs","/recently-viewed","/report","/robots.txt","/safe-redirect","/search","/settings","/signup","/socialmanager","/story-pin-builder","/story-pin-invite","/story_feed","/sw-shell.html","/sw.html","/sw.js","/switch_account","/terms","/today","/topics","/transparent.html","/tv","/unauth-profile","/unlink","/upload-image","/upload-profile-image","/verified","/verify","/videos","/web-mentorship","/welcome","/windows-app-web-link","/your-shop"],i=r(609500),a=function(e){return n.test(e.pathname)},u=function(e,t){var r=e.pathname;return a(e)&&r.match(t||"?")},c=function(e){var t=e.pathname;return!!(0,i.matchPath)(t,{path:"/:username/:boardId/:boardSectionId",exact:!0})&&!t.match(/^\/.+\/.+\/(_tools)/i)},s=function(e,t){var r=e.pathname;return c(e)&&r.match(t||"?")},l=function(e){return!!(0,i.matchPath)(e.pathname,{path:"/board/:id/edit",exact:!0})},d=function(e){return!!(0,i.matchPath)(e.pathname,{path:"/board/:id/edit/collaborators",exact:!0})},f=function(e){return!!(0,i.matchPath)(e.pathname,{path:"/board/:id/edit/add_collaborators",exact:!0})},p=function(e){return!!(0,i.matchPath)(e.pathname,{path:"/boardsection/:id/edit",exact:!0})},y=function(e){return!!(0,i.matchPath)(e.pathname,{path:"/pin/:id/comments",exact:!0})},m=function(e){return!!(0,i.matchPath)(e.pathname,{path:"/pin/:id/edit",exact:!0})},b=function(e){return!!(0,i.matchPath)(e.pathname,{path:"/conversation/:id",exact:!0})},h=function(e){return!!(0,i.matchPath)(e.pathname,{path:"/appealed-pin/",exact:!0})},v=function(e){return e.pathname.startsWith("/age-appeal")},g=function(e){return e.pathname.startsWith("/business/")},P=function(e){return e.pathname.startsWith("/business/invite/")},S=function(e){return!!(0,i.matchPath)(e.pathname,{path:"/pin/:id/visual-search/",exact:!0})},_=function(e){return"/"===e.pathname},w=function(e){return e.pathname.startsWith("/login")},E=function(e){return!!(0,i.matchPath)(e.pathname,{path:"/today",exact:!0})},O=function(e){return e.pathname.startsWith("/password/reset")||!!(0,i.matchPath)(e.pathname,{path:"/pw/:username",exact:!0})},R=function(e){return e.pathname.startsWith("/secure/panic")},T=function(e){return e.pathname.startsWith("/signup")},D=function(e){return e.pathname.startsWith("/email/subscription")},I=function(e){return e.pathname.startsWith("/notifications/")},A=function(e){return!!(0,i.matchPath)(e.pathname,{path:"/pin/:id",exact:!0})},j=function(e){return A(e)&&void 0===e.state},C=function(e){return e.pathname.startsWith("/pin_redirect")},k=function(e){return e.pathname.startsWith("/search")},x=function(e){return!!(0,i.matchPath)(e.pathname,{path:"/ideas",exact:!0})},L=function(e){return!!(0,i.matchPath)(e.pathname,{path:"/ideas/:interest/:id",exact:!0})},M=function(e){return!!(0,i.matchPath)(e.pathname,{path:"/videos/:category/:id",exact:!0})},F=function(e){return e.pathname.startsWith("/videos")},N=function(e){return e.pathname.startsWith("/topics")},U=function(e){return e.pathname.startsWith("/today/article/")||e.pathname.startsWith("/today/best/")||e.pathname.startsWith("/today/trending/")},V=function(e){return e.pathname.startsWith("/today/shop/")},B=function(e){return E(e)||U(e)||e.pathname.startsWith("/today/popular/")},G=function(e){return/^\/discover\/article\/\S+\/?/i.test(e.pathname)},H=function(e){return e.pathname.startsWith("/pin/create/")},Z=function(e){return!!(0,i.matchPath)(e.pathname,{path:"/:username/",exact:!0})&&!o.includes(e.pathname.replace(/\/$/,""))},W=function(e){return e.pathname.startsWith("/unauth-profile")},z=function(e){return e.pathname.startsWith("/pin/")},K=function(e){return"#imgViewer"===e.hash},q=function(e){return new RegExp("invite_code").test(e.search)},Y=function(e){return!!(0,i.matchPath)(e.pathname,{path:"/pin/:id",exact:!1})&&(e.pathname.includes("/sent/")||e.pathname.includes("/feedback/"))},$=function(e){return q(e)&&((Y(e)?"pin":a(e)&&"board")||Z(e)&&"profile")||null},X=function(e){return e.pathname.includes("/repin/x")},J=function(e){return e.pathname.startsWith("/_/storyboard")},Q=function(e){return e.pathname.startsWith("/oauth")},ee=function(e){return e.pathname.startsWith("/app-factory-oauth")},te=function(e){return e.pathname.includes("/scheduled-pin/")},re=function(e){return e.pathname.startsWith("/business/convert")},ne=function(e){return e.pathname.startsWith("/pin-editor")},oe=function(e){return e.pathname.startsWith("/pin-builder")},ie=function(e){return e.pathname.startsWith("/story-pin-builder")||e.pathname.startsWith("/idea-pin-builder")},ae=function(e){return e.pathname.startsWith("/advertiser/quick-promote")},ue=function(e){return e.pathname.startsWith("/settings")},ce=function(e){return e.pathname.startsWith("/story-pin-invite")||e.pathname.startsWith("/idea-pin-invite")},se=function(e){return void 0!==e.pathname&&e.pathname.startsWith("/business/business-access/")&&e.pathname.includes("/dashboard/")},le=function(e){return void 0!==e.pathname&&e.pathname.startsWith("/tv/studio")},de=function(e){return void 0!==e.pathname&&e.pathname.startsWith("/business/schedule_call/")},fe=function(e){return void 0!==e.pathname&&e.pathname.startsWith("/business/commerce-integrations/")}},307061:function(e,t){"use strict";t.Z=function(e){return function(t){return null!=t?e(t):null}}},432730:function(e,t,r){"use strict";function n(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function o(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?n(Object(r),!0).forEach((function(t){i(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function i(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var a=(0,r(307061).Z)((function(e){var t=e.pin.rich_metadata;return t?o(o({},e),{},{richMetadata:t}):null}));t.Z=a},623568:function(e,t,r){"use strict";function n(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"==typeof e)return o(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return o(e,t)}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,i=function(){};return{s:i,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,u=!0,c=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return u=e.done,e},e:function(e){c=!0,a=e},f:function(){try{u||null==r.return||r.return()}finally{if(c)throw a}}}}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}r.d(t,{Js:function(){return s},NK:function(){return P},Nc:function(){return S},VX:function(){return l},Zt:function(){return v},_J:function(){return p},_Q:function(){return c},_S:function(){return _},cL:function(){return b},dZ:function(){return O},hb:function(){return g},hy:function(){return f},iR:function(){return u},jL:function(){return d},o:function(){return w},oN:function(){return i},pU:function(){return E},rM:function(){return h},sV:function(){return y},sY:function(){return m}});var i=5e3,a=["Uploaded by user"],u=function(e){return!!e&&!!e.video_list},c=function(e){return!!e.promoted_is_lead_ad},s=function(e,t){var r=e&&e.url?e.url.split("/")[1]:"";return t&&t.full_name&&(r=t.full_name),r},l=function(e){var t;return e.rich_summary&&e.rich_summary.products&&e.rich_summary.products.length>0||(null===(t=e.rich_metadata)||void 0===t?void 0:t.products)&&e.rich_metadata.products.length>0||!1},d=function(e){return!!e.promoter&&!e.is_downstream_promotion},f=function(e){return!!e},p=function(e){return!!e.video_status&&5!==e.video_status},y=function(e){return["email","messages","deep_linking"].includes(e)},m=function(e){return!!e&&"gif"===e},b=function(e){var t=e.embedSrc,r=e.embedSubtype,n=e.embedType;return!!t&&!m(n)&&!function(e){return"pinstory"===e}(r)},h=function(e){var t=e.link,r=e.mobileLink,n=e.trackedLink;return!r&&!n&&!t},v=function(e){var t=e.link,r=e.mobileLink,n=e.origImageUrl,o=e.trackedLink;return r||o||t||n||""},g=function(e){var t=e.isStoryPin,r=e.isVideoPin;return t?"storyPin":r?"video":"image"},P=function(e,t){return{deeplinkUri:{android:"pin/".concat(e,"/repin"),iOS:"repin/".concat(e)},mwebUri:{pathname:"/pin/".concat(e,"/repin/"),state:{trackingParams:t.state?t.state.trackingParams:""}}}};function S(e){var t,r;return!u(e.videos)&&!f(e.story_pin_data_id)&&0!==Object.keys((null===(t=e.aggregated_pin_data)||void 0===t||null===(r=t.creator_analytics)||void 0===r?void 0:r["30d_realtime"])||{}).length}function _(e){var t,r=n(a);try{for(r.s();!(t=r.n()).done;){if(e===t.value)return!1}}catch(o){r.e(o)}finally{r.f()}return!0}function w(e){var t;return 0!==Object.keys((null===(t=e.creator_analytics)||void 0===t?void 0:t["30d_realtime"])||{}).length}function E(e){var t;return 0!==Object.keys((null===(t=e.public_creator_analytics)||void 0===t?void 0:t.all_time_realtime)||{}).length}function O(e){var t,r;return!(null===(t=e.creator_analytics)||void 0===t||null===(r=t["30d_realtime"])||void 0===r||!r.is_realtime)}},802933:function(e,t,r){"use strict";function n(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function o(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?n(Object(r),!0).forEach((function(t){i(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function i(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var a=(0,r(307061).Z)((function(e){return e.pin&&e.pin.id?o(o({},e),{},{id:e.id,aggregatedPinData:e.pin.aggregated_pin_data}):null}));t.Z=a},932995:function(e,t,r){"use strict";function n(e){return function(e){if(Array.isArray(e))return o(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return o(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return o(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function i(e,t,r){var o=n(e),i=o.splice(t,1)[0];return o.splice(r,0,i),o}r.d(t,{Z:function(){return i}})},505920:function(e,t,r){"use strict";r.d(t,{UZ:function(){return g},Z8:function(){return P},my:function(){return S}});var n=r(76911),o=(r(506979),r(6637)),i=r(425288),a=r(515198);function u(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==r)return;var n,o,i=[],a=!0,u=!1;try{for(r=r.call(e);!(a=(n=r.next()).done)&&(i.push(n.value),!t||i.length!==t);a=!0);}catch(c){u=!0,o=c}finally{try{a||null==r.return||r.return()}finally{if(u)throw o}}return i}(e,t)||f(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function c(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function s(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?c(Object(r),!0).forEach((function(t){l(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):c(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function l(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function d(e){return function(e){if(Array.isArray(e))return p(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||f(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function f(e,t){if(e){if("string"==typeof e)return p(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?p(e,t):void 0}}function p(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function y(e,t,r){var n,o=[].concat(d(null!==(n=t[e][r.payload.name])&&void 0!==n?n:[]),[r.payload.handler]),i=s({},t);return i[e]=s(s({},t[e]),{},l({},r.payload.name,o)),i}function m(e,t,r){if(!t[e][r.payload.name])return t;var n=t[e][r.payload.name].filter((function(e){return e!==r.payload.handler})),o=s({},t);return o[e]=s(s({},t[e]),{},l({},r.payload.name,n)),o}var b=(0,i.Z)("ResourceContext"),h=b.Provider,v=b.useHook;function g(e){var t=e.children,r=u((0,n.useReducer)((function(e,t){switch(t.type){case"addListener":return y("listeners",e,t);case"addMoreListener":return y("moreListeners",e,t);case"removeListener":return m("listeners",e,t);case"removeMoreListener":return m("moreListeners",e,t);default:return e}}),{listeners:{},moreListeners:{}}),2),i=r[0],c=i.listeners,s=i.moreListeners,l=r[1];o.Z.fetchCompleteCallback=function(e){var t=e.resource,r=e.options,n=e.response,o=e.normalizedResponse,i=e.refresh,a=e.resourceSchema;c[t]&&c[t].forEach((function(e){return e({isRefresh:i,normalizedResponse:o,options:r,schema:a,resource:t,response:n})}))},o.Z.fetchMoreCompleteCallback=function(e){var t=e.resource,r=e.options,n=e.response,o=e.normalizedResponse,i=e.refresh,a=e.resourceSchema;s[t]&&s[t].forEach((function(e){return e({isRefresh:i,normalizedResponse:o,options:r,schema:a,resource:t,response:n})}))};var d=(0,n.useMemo)((function(){return{listenerDispatch:l}}),[]);return(0,a.jsx)(h,{value:d,children:t})}function P(e,t){var r=v().listenerDispatch;(0,n.useEffect)((function(){return r({type:"addListener",payload:{name:e,handler:t}}),function(){r({type:"removeListener",payload:{name:e,handler:t}})}}))}function S(e,t){var r=v().listenerDispatch;(0,n.useEffect)((function(){return r({type:"addMoreListener",payload:{name:e,handler:t}}),function(){r({type:"removeMoreListener",payload:{name:e,handler:t}})}}))}},995228:function(e,t,r){"use strict";r.d(t,{Z:function(){return u}});var n=r(76911),o=r(966476),i=r(464228),a=r(515198);function u(e){var t=e.children,r=e.fallback,u=e.dangerouslyServerRenderForGraphQL,c=void 0!==u&&u,s=r||null,l=(0,o.Z)(),d=(0,i.P)();return d&&"legacy"!==d?c||l?(0,a.jsx)(n.Suspense,{fallback:s,children:t}):s:(0,a.jsx)(n.Suspense,{fallback:s,children:t})}},947599:function(e,t,r){"use strict";var n=r(995228);t.Z=n.Z},909499:function(e,t,r){"use strict";r.d(t,{Hd:function(){return a},_R:function(){return o},lw:function(){return n},wF:function(){return i}});var n={PINS:"pins",PINS_BUYABLE:"buyable_pins",PINS_MINE:"my_pins",PINS_VIDEO:"videos",BOARDS:"boards",USERS:"users",IDEA_PINS:"idea_pins"},o=function(e){switch(e){case n.PINS:return 43;case n.PINS_MINE:return 107;case n.PINS_BUYABLE:return 254;case n.PINS_VIDEO:return 3306;case n.BOARDS:return 44;case n.USERS:return 45;default:return null}},i=function(e){switch(e){case n.PINS:return 60;case n.PINS_MINE:return 63;case n.PINS_BUYABLE:return 3800;case n.PINS_VIDEO:return 64;case n.BOARDS:return 61;case n.USERS:return 62;default:return null}},a=function(e){switch(e){case n.USERS:return 1000392;case n.PINS_BUYABLE:return 1000391;case n.PINS:default:return 29}}},648284:function(e,t,r){"use strict";function n(e){var t=e.appliedProductFilters,r=e.autoCorrectionDisabled,n=e.filters,o=e.query,i=e.scope,a=e.selectedPinImgSig,u=[i,n,t,e.user,a,o].map((function(e){return null!=e?e:""})).join(":");return r?"auto-correction-disabled:"+u:u}function o(e){var t=e.autoCorrectionDisabled,r=e.appliedProductFilters,n=e.appliedFilters,o=e.filters,i=e.selectedPinImgSig;return{name:"BaseSearchResource",options:function(e){var t=e.autoCorrectionDisabled,r=void 0!==t&&t,n=e.appliedFilters,o=void 0===n?null:n,i=e.appliedProductFilters,a=void 0===i?null:i,u=e.bubbleId,c=void 0===u?null:u,s=e.filters,l=void 0===s?null:s,d=e.query,f=void 0===d?null:d,p=e.rs,y=void 0===p?"direct_navigation":p,m=e.scope,b=void 0===m?"pins":m,h=e.selectedPinImgSig,v=void 0===h?null:h,g=e.sourceId;return{article:c,applied_filters:o,appliedProductFilters:a,auto_correction_disabled:r,corpus:v?"personalize":null,customized_rerank_type:v?"manas_graph_sage_only_wand_rewrite":null,filters:l,query:f,query_pin_sigs:v,redux_normalize_feed:!0,rs:y,scope:b,source_id:void 0===g?null:g,user:e.user}}({autoCorrectionDisabled:!!t,appliedProductFilters:r,appliedFilters:n,filters:o,query:e.query,rs:e.rs,scope:e.scope,selectedPinImgSig:i,bubbleId:e.bubbleId,user:e.user})}}r.d(t,{Ht:function(){return o},Tb:function(){return n}})},706922:function(e,t,r){"use strict";function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){return e===t?0!==e||0!==t||1/e==1/t:e!=e&&t!=t}function i(e,t){if(o(e,t))return!0;if("object"!==n(e)||null===e||"object"!==n(t)||null===t)return!1;var r=Object.keys(e),i=Object.keys(t);if(r.length!==i.length)return!1;for(var a=0;a<r.length;a+=1)if(!Object.prototype.hasOwnProperty.call(t,r[a])||!o(e[r[a]],t[r[a]]))return!1;return!0}r.d(t,{Z:function(){return i}})},835209:function(e,t,r){"use strict";function n(e){var t=e.richPinData,r=void 0===t?{}:t;return((null==r?void 0:r.products)||[])[0]}r.d(t,{Z:function(){return n}})},957161:function(e,t,r){"use strict";r.d(t,{L_:function(){return o},Nh:function(){return i},qn:function(){return n}});var n=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;try{return"undefined"!=typeof window&&window.localStorage.getItem(e)||t}catch(r){return console.error("Cannot access localStorage."),t}},o=function(e){try{if("undefined"==typeof window)return;window.localStorage.removeItem(e)}catch(t){console.error("Cannot access localStorage.")}},i=function(e,t){try{if("undefined"==typeof window)return;window.localStorage.setItem(e,t)}catch(r){console.error("Cannot access localStorage.")}}},622096:function(e,t,r){"use strict";r.d(t,{L_:function(){return o},Nh:function(){return i},qn:function(){return n}});var n=function(e,t){if("undefined"==typeof window)return t;try{return window.sessionStorage.getItem(e)}catch(r){return window.console.error("Cannot access sessionStorage."),t}},o=function(e){if("undefined"!=typeof window)try{window.sessionStorage.removeItem(e)}catch(t){window.console.error("Cannot access sessionStorage.")}},i=function(e,t){if("undefined"!=typeof window)try{window.sessionStorage.setItem(e,t)}catch(r){window.console.error("Cannot access sessionStorage.")}}},226347:function(e,t,r){"use strict";r.d(t,{Hx:function(){return b},RC:function(){return m},Wr:function(){return y}});var n=r(76911),o=r(311541),i=r(425288),a=r(924687),u=r(515198);function c(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==r)return;var n,o,i=[],a=!0,u=!1;try{for(r=r.call(e);!(a=(n=r.next()).done)&&(i.push(n.value),!t||i.length!==t);a=!0);}catch(c){u=!0,o=c}finally{try{a||null==r.return||r.return()}finally{if(u)throw o}}return i}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return s(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return s(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var l=function(){return Promise.resolve().then(r.bind(r,924687))},d=(0,i.Z)("IdeaPinVideoPlayer"),f=d.Provider,p=d.useHook;function y(e){var t=e.children,r=c((0,o.Z)(l,a.initialState),2),i=r[0],s=r[1],d=(0,n.useMemo)((function(){return{dispatch:s,ideaPinVideoPlayerControls:i}}),[s,i]);return(0,u.jsx)(f,{value:d,children:t})}function m(){var e=p().dispatch;return(0,n.useMemo)((function(){return{updateSeekTime:function(t){e({type:"UPDATE_SEEK_TIME",payload:{seekTime:t}})},clearSeekTime:function(){e({type:"CLEAR_SEEK_TIME",payload:{seekTime:void 0}})},updateSeekingIdeaPin:function(t){e(t?{type:"UPDATE_SEEKING_IDEA_PIN",payload:{seekingIdeaPin:t}}:{type:"UPDATE_SEEKING_IDEA_PIN",payload:{seekingIdeaPin:t,seekTime:void 0}})},updateCurrentTime:function(t){e({type:"UPDATE_CURRENT_TIME",payload:{currentTime:t}})},updateDuration:function(t){e({type:"UPDATE_DURATION",payload:{duration:t}})}}}),[e])}function b(){return p().ideaPinVideoPlayerControls}},924687:function(e,t,r){"use strict";function n(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function o(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?n(Object(r),!0).forEach((function(t){i(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function i(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}r.r(t),r.d(t,{default:function(){return u},initialState:function(){return a}});var a={seekTime:void 0,seekingIdeaPin:!1,currentProgressInfo:{currentTime:0,duration:0}};function u(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:a,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"UPDATE_SEEK_TIME":return o(o({},e),{},{seekTime:t.payload.seekTime});case"CLEAR_SEEK_TIME":return o(o({},e),{},{seekTime:void 0});case"UPDATE_SEEKING_IDEA_PIN":return o(o({},e),{},{seekingIdeaPin:t.payload.seekingIdeaPin});case"UPDATE_CURRENT_TIME":return o(o({},e),{},{currentProgressInfo:o(o({},e.currentProgressInfo),{},{currentTime:t.payload.currentTime})});case"UPDATE_DURATION":return o(o({},e),{},{currentProgressInfo:o(o({},e.currentProgressInfo),{},{duration:t.payload.duration})});default:return e}}},985913:function(e,t,r){"use strict";var n=r(858142),o=/\{\{\s*(\w+)\s*\}\}/g;t.Z=function(e,t){return(0,n.Z)(o,e,t)}},858142:function(e,t){"use strict";t.Z=function(e,t,r){return t?t.replace(e,(function(e,t){return r&&Object.prototype.hasOwnProperty.call(r,t)?r[t]:""})):""}},700380:function(e,t,r){"use strict";function n(e,t){var r,n=function(){r||(e.apply(void 0,arguments),r=setTimeout((function(){return r=null}),t))};return n.cancel=function(){void 0!==r&&clearTimeout(r)},n}r.d(t,{Z:function(){return n}})},430323:function(e,t,r){"use strict";r.d(t,{Z:function(){return T}});var n=r(76911),o=r(722767),i=r(706922),a=r(245474),u=r(558068),c=r(350118),s=r(780280),l=r(790123),d=(0,r(425288).Z)("timeSpentContext"),f=d.Provider,p=d.useMaybeHook,y=r(515198);function m(e){return(m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function b(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function h(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?b(Object(r),!0).forEach((function(t){E(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):b(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function v(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function g(e,t){return(g=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function P(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=w(e);if(t){var o=w(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return S(this,r)}}function S(e,t){if(t&&("object"===m(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return _(e)}function _(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function w(e){return(w=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function E(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var O=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&g(e,t)}(s,e);var t,r,u,c=P(s);function s(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),E(_(t=c.call(this,e)),"componentWillUnmount",(function(){t.unregisterComponent()})),E(_(t),"getContext",(function(){var e=t.props,r=e.clientTrackingParams,n=e.component,o=e.element,i=e.objectId,a=e.timeSpentContext,u=e.view,c=e.viewParameter;return{view:u||a&&a.view,viewParameter:c||a&&a.viewParameter,component:n||a&&a.component,element:o,objectId:i||a&&a.objectId,clientTrackingParams:r||a&&a.clientTrackingParams,getParentUuid:function(){return t.getUuid()},getGrandparentUuid:function(){return t.getParentId()}}})),E(_(t),"getLoggerContext",(function(){var e=h({},t.getContext());return delete e.getParentUuid,e})),E(_(t),"getParentId",(function(){var e=t.props,r=e.timeSpentContext,n=e.shouldUseGrandparentId;if(void 0!==n&&n&&r&&r.getGrandparentUuid){var o=r.getGrandparentUuid();if(o)return o}return r&&r.getParentUuid?r.getParentUuid():void 0})),E(_(t),"getUuid",(function(){return t.state.timedPair?t.state.timedPair.uuid:void 0})),E(_(t),"getTimedPair",(function(){return t.state.timedPair})),E(_(t),"setTimedPair",(function(e){return t.setState({timedPair:e})})),E(_(t),"isRegistered",!1),E(_(t),"registerComponent",(function(){t.props.timeSpentManager.registerComponent(_(t)),t.isRegistered=!0})),E(_(t),"unregisterComponent",(function(){t.isRegistered&&(t.props.timeSpentManager.unregisterComponent(_(t)),t.isRegistered=!1)})),E(_(t),"handleVisibilityChange",(function(e){var r=e[0].intersectionRatio,n=e[0].intersectionRect,o=n.bottom,i=n.left,a=n.right,u=n.top;r>0?t.registerComponent():0===r&&(0===o&&0===i&&0===a&&0===u?t.unregisterComponent():t.registerComponent())})),t.state={timedPair:new a.Z(t.getLoggerContext())},t}return t=s,(r=[{key:"componentDidUpdate",value:function(e){!this.isRegistered||e.view===this.props.view&&e.viewParameter===this.props.viewParameter&&e.component===this.props.component&&e.element===this.props.element&&e.objectId===this.props.objectId&&(0,i.Z)(e.auxData,this.props.auxData)&&(0,i.Z)(e.viewData,this.props.viewData)||(this.unregisterComponent(),setTimeout(this.registerComponent))}},{key:"render",value:function(){var e=this.props.children;return(0,y.jsx)(f,{value:this.getContext(),children:(0,y.jsx)(o.Z,{options:{threshold:0},onVisibilityChange:this.handleVisibilityChange,children:n.Children.only(e)})})}}])&&v(t.prototype,r),u&&v(t,u),s}(n.Component);function R(e){var t,r=(0,u.Hv)(),o=p(),i=(0,l.w)(),a=(0,c.H0)(),d=(0,s.B)().requestIdentifier,f=h({app_instance_id:(void 0===d?"":d).slice(0,8)},null!==(t=e.auxData)&&void 0!==t?t:{});return(0,n.useEffect)((function(){null==i||i.setHistoryStackContext(r)}),[r,i]),(0,n.useEffect)((function(){null==i||i.setPins(null!=a?a:{})}),[a,i]),i?(0,y.jsx)(O,h(h({},e),{},{auxData:f,timeSpentContext:o,timeSpentManager:i,children:e.children})):e.children}R.displayName="TimeSpent";var T=R},790123:function(e,t,r){"use strict";r.d(t,{j:function(){return f},w:function(){return d}});var n=r(829407),o=r(19121),i=r(407043),a=r(50286),u=r(425288),c=r(515198),s=(0,u.Z)("TimeSpentManagerContext"),l=s.Provider,d=s.useMaybeHook;function f(e){var t=e.children,r=e.value,u=(0,i.v)(),s=(0,a.HG)(),d=(0,o.Z)().isAuth,f=s&&d;return(0,n.Z)((function(){document.hasFocus()&&r(u,f).registerApp(),r(u,f).addEventListeners()})),(0,c.jsx)(l,{value:r(u,f),children:t})}},245474:function(e,t,r){"use strict";var n=r(353356),o=r(619025);function i(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var a="undefined"!=typeof window&&window.performance&&window.performance.now?function(){return Math.floor(1e6*window.performance.now())}:function(){return 1e6*Date.now()};t.Z=function e(t){var r=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),i(this,"start",(function(){return r.startTime=a(),r.startTime})),i(this,"end",(function(){return r.endTime=a(),r.duration=r.startTime?r.endTime-r.startTime:null,r.duration}));try{this.uuid=(0,n.Z)()}catch(u){this.uuid=(0,o.Z)()}t&&Object.assign(this,t)}},867820:function(e,t,r){"use strict";r.d(t,{yl:function(){return y},qJ:function(){return b},Nc:function(){return S},dy:function(){return _},NC:function(){return P},My:function(){return v},tj:function(){return h}});var n=r(6637);function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var i="unauthHistories",a="authHistories",u="trackHistoryClickInternalUrl";var c=r(622096);function s(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function l(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?s(Object(r),!0).forEach((function(t){d(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):s(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function d(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var f,p=[];function y(e){p.length&&(n.Z.create("UserRegisterTrackActionResource",{actions:p}).callUpdate({showError:!1,async:!e}),p=[],f=null)}function m(e,t){var r=(0,c.qn)(u);if((0,c.L_)(u),!r){var n=(0,c.qn)(e);if((n=n?n.split(","):[]).length){var o="".concat(t,".").concat(n.reduce((function(e,t){return e+"-"+t})));p.push({name:o,aux_data:{}})}(0,c.L_)(e)}}var b=function(e){m(i,e),m(a,"".concat(e,"_auth")),p.length&&y(!0)};function h(e,t){var r="undefined"!=typeof window&&window.encodeURIComponent&&encodeURIComponent(e)||e;t||(t={}),-1!==r.indexOf("%")&&(t.invalid_action&&(t.invalid_action_original=t.invalid_action),t.invalid_action=r,r="track_register_action.web.invalid_action.with_percent"),p.push({name:r,aux_data:t}),f||(f=setTimeout((function(){return y()}),5e3)),function(e,t){if("undefined"!=typeof window)try{var r=new URL(window.location.href).searchParams.get("consoleTra");if(window.PINTEREST_DEV_LOG||r){var n=window.PINTEREST_DEV_REGEX||"";n&&!(e||"").match(n)||(t&&"object"===o(t)&&Object.keys(t).length?console.log(e+": %O",t):console.log(e))}}catch(i){}}(e,t)}function v(e,t){h(e,{tags:t?l({},t):Object.freeze({})})}function g(e,t){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if("undefined"!=typeof window){var n=(0,c.qn)(e);(n=n?n.split(","):[]).push(t),(0,c.Nh)(e,n.join()),e!==a&&v("lex.".concat(t)),r&&(0,c.Nh)(u,!0)}}function P(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];g(i,e,t)}function S(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];g(a,e,t)}var _=function(e){var t=e.event,r=e.provider;v("pinner_conversion.autologin.".concat(r,".").concat(t))}},52022:function(e,t,r){"use strict";r.d(t,{S:function(){return u},Z:function(){return c}});var n=r(76911),o=r(867820),i=r(53987),a=r(609500),u=function(e){return(0,i.L6)(e)?"pin":(0,i.am)(e)?"board":(0,i.Xn)(e)?"login":(0,i.C$)(e)?"home":(0,i.cD)(e)?"profile":(0,i.dr)(e)?"ideas":(0,i.gT)(e)?"ideas-root":(0,i.tZ)(e)?"videos":(0,i.$Y)(e)?"article":(0,i.E0)(e)?"shopping-spotlight":(0,i.Zz)(e)?"today":(0,i.j8)(e)?"unauth-profile":"other"};function c(){var e=(0,a.useLocation)();return(0,n.useCallback)((function(t){var r=t.action,n=t.item,i=t.within,a=u(e);(0,o.My)("logged_out_product.interaction.".concat(a,".").concat(r),{item:n||"none",within:i||"none"})}),[e])}},343341:function(e,t,r){"use strict";r.d(t,{F9:function(){return a},Zo:function(){return o},nE:function(){return i}});var n=(0,r(425288).Z)("toastManagerContext"),o=n.Provider,i=n.Consumer,a=n.useHook},311541:function(e,t,r){"use strict";r.d(t,{Z:function(){return c}});var n=r(76911);function o(e){return function(e){if(Array.isArray(e))return u(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||a(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function i(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==r)return;var n,o,i=[],a=!0,u=!1;try{for(r=r.call(e);!(a=(n=r.next()).done)&&(i.push(n.value),!t||i.length!==t);a=!0);}catch(c){u=!0,o=c}finally{try{a||null==r.return||r.return()}finally{if(u)throw o}}return i}(e,t)||a(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function a(e,t){if(e){if("string"==typeof e)return u(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?u(e,t):void 0}}function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function c(e,t){var r=(0,n.useRef)([]),a=i((0,n.useState)(),2),u=a[0],c=a[1],s=i((0,n.useReducer)(null!=u?u:function(){return t},t),2),l=s[0],d=s[1],f=(0,n.useCallback)((function(t){u?d(t):(r.current.length||e().then((function(e){c((function(){return e.default}))})),r.current=[].concat(o(r.current),[t]))}),[e,u]);return(0,n.useEffect)((function(){u&&(r.current.forEach(d),r.current=[])}),[u]),[l,f]}},829407:function(e,t,r){"use strict";var n=r(76911);t.Z=function(e){(0,n.useEffect)(e,[])}},562559:function(e,t,r){"use strict";var n=r(76911),o=r(571827),i=r.n(o),a=r(112690),u=r(19121),c=r(965900),s=r(773285),l=r(780280),d=r(908390),f=r(969315),p=r(179888),y=r(226347),m=r(515198),b=["clientTrackingParams","component","durationNs","element","objectId","pairId","viewData","view","viewParameter"];function h(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}function v(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function g(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function P(e,t){return(P=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function S(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=E(e);if(t){var o=E(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return _(this,r)}}function _(e,t){if(t&&("object"===D(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return w(e)}function w(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function E(e){return(E=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function O(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function R(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?O(Object(r),!0).forEach((function(t){T(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):O(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function T(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function D(e){return(D="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var I=function(e,t){if(t){var r="control"===t?"v3.pinimg.com":"v2.pinimg.com";return e.replace("v.pinimg.com",r)}return e},A=function(e,t){return"string"==typeof e?I(e,t):Array.isArray(e)?function(e,t){return e[0].src&&t?[R(R({},e[0]),{},{src:I(e[0].src,t)})]:e}(e,t):e},j=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&P(e,t)}(a,e);var t,r,n,o=S(a);function a(){var e;v(this,a);for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return T(w(e=o.call.apply(o,[this].concat(r))),"state",{canPlayVideo:!1,isManifestParsed:!1,playbackState:p.Cy.DEFAULT,videoStartTime:e.props.seekTime||0}),T(w(e),"errorRetryCount",1),T(w(e),"firstFragBuffered",!1),T(w(e),"hasPlaybackStarted",!1),T(w(e),"hasVideoSessionStarted",!1),T(w(e),"hasVideoSessionEnded",!1),T(w(e),"hls",null),T(w(e),"fragStartupTime",{}),T(w(e),"lastLevelSwitchKbps",null),T(w(e),"lastStallTime",null),T(w(e),"lastPauseTime",null),T(w(e),"logSessionStartOnNextPlay",!1),T(w(e),"playerId",""),T(w(e),"videoSessionId",""),T(w(e),"videoVisibleTime",null),T(w(e),"playbackPerformance",{canPlayTime:null,detailedErrors:"",downloadedKiloBytes:0,errorCode:0,errorName:"",errorReason:"",hasFatalError:!1,loadStartTime:null,numberOfStalls:0,numberOfSeeks:0,playbackStartTimestamp:null,segments:[],srcString:"string"==typeof e.props.src?I(e.props.src,e.props.quicExpGroup):I(e.props.src[0].src,e.props.quicExpGroup),totalStallDurationMs:0,totalPauseDurationMs:0,videoCreatedTime:null}),T(w(e),"initializeHls",(function(){e.destroyHls();var t=e.props,r=t.src,n=t.hlsConfig,o=t.quicExpGroup,a=new(i())(n),u=A(r,o);a.loadSource(u),e.videoPlayerRef&&a.attachMedia(e.videoPlayerRef.video),a.on(i().Events.FRAG_BUFFERED,e.handleHlsFragBuffered),a.on(i().Events.FRAG_CHANGED,e.handleHlsFragChanged),a.on(i().Events.FRAG_LOADING,e.handleHlsFragLoading),a.on(i().Events.FRAG_LOADED,e.handleHlsFragLoaded),a.on(i().Events.MANIFEST_PARSED,(function(){e.setState({isManifestParsed:!0})})),a.on(i().Events.LEVEL_SWITCHED,e.handleHlsLevelSwitched),a.on(i().Events.ERROR,e.handleHlsError),e.hls=a})),T(w(e),"destroyHls",(function(){var t=w(e).hls;t&&t.destroy()})),T(w(e),"addSegment",(function(t){var r=e.playbackPerformance.segments,n=r&&r[r.length-1];if(e.hls&&r.length&&n&&n.uri!==t.url){e.updateWatchDurationForCurrentSegment();var o=e.videoPlayerRef&&e.videoPlayerRef.video,i=e.hls&&e.hls.levels||{},a="number"==typeof t.level?i[t.level]:{},u=e.fragStartupTime[t.url],c=-1;u&&u.startLoadTime&&u.endLoadTime&&(c=u.endLoadTime-u.startLoadTime);var s={indicatedKbps:a.bitrate/p.bR,duration:t.duration,level:t.level,lastStartPlayTime:e.getCurrentVideoTime(),numServerAddressChange:-1,observedKbps:e.hls&&e.hls.bandwidthEstimate/p.bR||-1,playbackStartDate:Date.now(),serverAddress:"",sn:t.sn,sourceWidth:a.width,sourceHeight:a.height,startupTimeMs:c,switchBitrateKbps:e.lastLevelSwitchKbps||-1,uri:t.url,viewportWidth:o&&o.clientWidth||-1,viewportHeight:o&&o.clientHeight||-1,watchedDurationMs:0};r.push(s)}})),T(w(e),"initializeSegments",(function(t){var r=e.props.contextLogData,n=(void 0===r?{}:r).is_closeup_video,o=void 0!==n&&n,i=e.playbackPerformance.segments;if(!i.length)if(e.hls&&e.videoPlayerRef&&e.videoPlayerRef.video&&t){if(!i.length&&"number"==typeof t.level){var a=e.videoPlayerRef&&e.videoPlayerRef.video,u=e.hls.levels,c="number"==typeof t.level?u[t.level]:{},s=e.fragStartupTime[t.url],l=-1;s&&s.startLoadTime&&s.endLoadTime&&(l=s.endLoadTime-s.startLoadTime),e.lastLevelSwitchKbps=e.hls.bandwidthEstimate/p.bR;var d={indicatedKbps:c.bitrate/p.bR,duration:t.duration,level:t.level,lastStartPlayTime:null,numServerAddressChange:-1,observedKbps:e.hls.bandwidthEstimate/p.bR||-1,playbackStartDate:null,serverAddress:"",sn:t.sn,sourceWidth:c.width,sourceHeight:c.height,startupTimeMs:l,switchBitrateKbps:e.lastLevelSwitchKbps||-1,uri:t.url,viewportWidth:a.clientWidth,viewportHeight:a.clientHeight,watchedDurationMs:0};i.push(d)}}else(0,f.tE)("initializeSegmentsFailed",!0,o)})),T(w(e),"getCurrentVideoTime",(function(){return e.videoPlayerRef&&e.videoPlayerRef.video?e.videoPlayerRef.video.currentTime*p.gJ:null})),T(w(e),"handleCanPlayVideo",(function(t){var r=e.props,n=r.contextLogData,o=void 0===n?{}:n,i=r.onReady,a=r.playing,u=o.is_closeup_video,c=void 0!==u&&u,s=e.state.canPlayVideo;(0,f.tE)("handleCanPlayVideo",!0,c,{firstCanPlayEvent:!s,playing:a}),e.playbackPerformance.hasFatalError=!1,s||(e.playbackPerformance.canPlayTime=new Date),e.setState({canPlayVideo:!0}),i&&i(t)})),T(w(e),"handleEnded",(function(t){var r=e.props,n=r.loop,o=r.onEnded,i=e.playbackPerformance.segments,a=i&&i[i.length-1];n&&e.videoPlayerRef&&e.videoPlayerRef.video?(e.updateWatchDurationForCurrentSegment(),a&&(a.lastStartPlayTime=0),e.fragStartupTime={}):n||e.logPlaybackPerformance(p.$f,{initiator:"videoEnded",loop:n}),e.setState({playbackState:p.Cy.ENDED}),o&&o(t)})),T(w(e),"handleHlsError",(function(t,r){var n,o=e.props.contextLogData,a=(void 0===o?{}:o).is_closeup_video,u=void 0!==a&&a;if(e.playbackPerformance.detailedErrors+="".concat(e.playbackPerformance.detailedErrors.length>0?", ":"").concat(r.details),r.fatal){var c,s,l,d;e.playbackPerformance.hasFatalError=!0,e.playbackPerformance.errorName=r.type,e.playbackPerformance.errorReason=r.details,e.playbackPerformance.errorCode=r.response&&r.response.code?r.response.code:0;var y={errorName:r.type,errorReason:r.details,errorRetryCount:e.errorRetryCount,errorMessage:(null===(c=r.err)||void 0===c||null===(s=c.message)||void 0===s?void 0:s.slice(0,50))||"unknown",errorResponse:(null===(l=r.response)||void 0===l||null===(d=l.text)||void 0===d?void 0:d.slice(0,50))||"unknown",playbackState:e.state.playbackState};if((0,f.tE)("fatalError",!0,u,y),e.errorRetryCount>0)switch(e.errorRetryCount-=1,r.type){case i().ErrorTypes.NETWORK_ERROR:if(r.details===i().ErrorDetails.MANIFEST_LOAD_ERROR||r.details===i().ErrorDetails.MANIFEST_LOAD_TIMEOUT||r.details===i().ErrorDetails.MANIFEST_LOAD_PARSING_ERROR){var m,b=e.props,h=b.src,v=b.quicExpGroup,g=A(h,v);null===(m=e.hls)||void 0===m||m.loadSource(g)}else{var P;null===(P=e.hls)||void 0===P||P.startLoad()}break;case i().ErrorTypes.MEDIA_ERROR:null===(n=e.hls)||void 0===n||n.recoverMediaError()}}e.updateWatchDurationForCurrentSegment(),e.setState({playbackState:p.Cy.FAILED})})),T(w(e),"handleHlsFragBuffered",(function(t,r){e.firstFragBuffered||(e.initializeSegments(r.frag),e.firstFragBuffered=!0)})),T(w(e),"handleHlsFragChanged",(function(t,r){e.addSegment(r.frag)})),T(w(e),"handleHlsFragLoading",(function(t,r){var n,o=null===(n=r.frag)||void 0===n?void 0:n.url;o&&!e.fragStartupTime[o]&&(e.fragStartupTime[o]={startLoadTime:new Date})})),T(w(e),"handleHlsFragLoaded",(function(t,r){var n;r.frag&&r.frag.loaded&&(e.playbackPerformance.downloadedKiloBytes+=r.frag.loaded/p.Fm);var o=null===(n=r.frag)||void 0===n?void 0:n.url;o&&e.fragStartupTime[o]&&e.fragStartupTime[o].startLoadTime&&(e.fragStartupTime[o].endLoadTime=new Date)})),T(w(e),"handleHlsLevelSwitched",(function(){e.hls&&e.hls.bandwidthEstimate&&(e.lastLevelSwitchKbps=e.hls.bandwidthEstimate/p.bR)})),T(w(e),"handleLoadedMetadata",(function(){e.setState({playbackState:p.Cy.LOADED_METADATA})})),T(w(e),"handleLoadStart",(function(){e.playbackPerformance.loadStartTime=new Date,e.setState({playbackState:p.Cy.LOAD_START})})),T(w(e),"handleLoadedData",(function(){e.setState({playbackState:p.Cy.LOADED_DATA})})),T(w(e),"handlePlaying",(function(){e.playbackPerformance.hasFatalError=!1,e.setPlaybackStartTime(),e.setLastSegmentStartPlayTime(),e.setLastSegmentPlaybackStartDate(),e.updateStallDuration(),e.updatePauseDuration(),e.setState({playbackState:p.Cy.PLAYING}),e.props.clearSeekTime()})),T(w(e),"handleUserPause",(function(t){var r=e.props.onControlsPause;e.lastPauseTime=new Date,r&&r(t)})),T(w(e),"handleVideoPause",(function(){e.state.playbackState!==p.Cy.STALLING&&e.state.playbackState!==p.Cy.SEEKING&&(e.updateWatchDurationForCurrentSegment(),e.lastPauseTime||e.updateStallDuration()),e.setState({playbackState:p.Cy.PAUSED})})),T(w(e),"handleSeeking",(function(){e.playbackPerformance.numberOfSeeks+=1;var t=e.playbackPerformance.segments,r=t&&t[t.length-1];r&&(r.lastStartPlayTime=null),e.state.playbackState!==p.Cy.ENDED&&e.setState({playbackState:p.Cy.SEEKING})})),T(w(e),"handleStalled",(function(){null===e.lastStallTime&&e.state.playbackState!==p.Cy.ENDED&&(e.lastStallTime=new Date,e.playbackPerformance.numberOfStalls+=1),e.setState({playbackState:p.Cy.STALLING})})),T(w(e),"handleTimeUpdate",(function(t){var r=e.props.onTimeChange;r&&r(t),e.state.playbackState===p.Cy.PLAYING&&(e.updateWatchDurationForCurrentSegment(),e.setLastSegmentStartPlayTime())})),T(w(e),"resetPlaybackMetrics",(function(){e.hasPlaybackStarted=!1,e.hasVideoSessionStarted=!1,e.hasVideoSessionEnded=!0,e.lastLevelSwitchKbps=null,e.lastStallTime=null,e.lastPauseTime=null,e.videoSessionId="",e.videoVisibleTime=null,e.logSessionStartOnNextPlay=!1;var t=R(R({},e.playbackPerformance.segments[e.playbackPerformance.segments.length-1]),{},{lastStartPlayTime:null,playbackStartDate:null,switchBitrateKbps:-1,watchedDurationMs:0});e.playbackPerformance.detailedErrors="",e.playbackPerformance.downloadedKiloBytes=0,e.playbackPerformance.errorCode=0,e.playbackPerformance.errorName="",e.playbackPerformance.errorReason="",e.playbackPerformance.hasFatalError=!1,e.playbackPerformance.numberOfStalls=0,e.playbackPerformance.numberOfSeeks=0,e.playbackPerformance.playbackStartTimestamp=null,e.playbackPerformance.totalStallDurationMs=0,e.playbackPerformance.segments=[t]})),T(w(e),"setLastSegmentStartPlayTime",(function(){var t=e.playbackPerformance.segments,r=t&&t[t.length-1];r&&null===r.lastStartPlayTime&&(r.lastStartPlayTime=e.getCurrentVideoTime())})),T(w(e),"setLastSegmentPlaybackStartDate",(function(){var t=e.playbackPerformance.segments,r=t&&t[t.length-1];r&&null===r.playbackStartDate&&(r.playbackStartDate=Date.now())})),T(w(e),"setPlaybackStartTime",(function(){e.hasPlaybackStarted||(e.playbackPerformance.playbackStartTimestamp=Date.now(),e.hasPlaybackStarted=!0)})),T(w(e),"setVideoPlayerRef",(function(t){var r=e.props.setVideoRef;if(t&&(r&&r(t),e.videoPlayerRef=t,e.videoPlayerRef.video)){var n=e.videoPlayerRef.video;n.addEventListener("loadedmetadata",e.handleLoadedMetadata),n.addEventListener("loadeddata",e.handleLoadedData),n.addEventListener("pause",e.handleVideoPause),n.readyState>=3&&(e.setState({canPlayVideo:!0}),e.playbackPerformance.canPlayTime=new Date)}})),T(w(e),"updateStallDuration",(function(){null!==e.lastStallTime&&(e.playbackPerformance.totalStallDurationMs+=new Date-e.lastStallTime,e.lastStallTime=null)})),T(w(e),"updatePauseDuration",(function(){if(null!==e.lastPauseTime){var t=e.lastPauseTime;e.playbackPerformance.totalPauseDurationMs+=new Date-t,e.lastPauseTime=null}})),T(w(e),"updateWatchDurationForCurrentSegment",(function(){var t=e.playbackPerformance.segments,r=t&&t[t.length-1],n=r?r.lastStartPlayTime:null,o=e.getCurrentVideoTime();if(r&&null!==n&&"number"==typeof o&&"number"==typeof n){var i=o-n;i>0&&(r.watchedDurationMs+=i,r.lastStartPlayTime=null)}})),T(w(e),"logPlaybackPerformance",(function(t,r){var n=e.props,o=n.contextLogData,i=void 0===o?{}:o,a=n.userId,u=n.isAutoPlay,c=n.logContextEvent,s=i.is_closeup_video,l=void 0!==s&&s,d=e.playbackPerformance,y=d.canPlayTime,m=d.detailedErrors,v=d.downloadedKiloBytes,g=d.errorCode,P=d.errorName,S=d.errorReason,_=d.hasFatalError,w=d.playbackStartTimestamp,E=d.totalPauseDurationMs,O=d.totalStallDurationMs,T=d.segments,D=d.srcString,I=d.loadStartTime,A=d.numberOfStalls,j=d.numberOfSeeks,C=e.videoPlayerRef&&e.videoPlayerRef.video,k=t===p.DR,x=k&&!e.hasVideoSessionStarted,L=!k&&!e.hasVideoSessionEnded&&e.hasVideoSessionStarted;if(e.hls&&C&&(x||L)){var M,F=-1;y&&I&&(F=y>I?y-I:0);var N=-1;y&&e.videoVisibleTime&&(N=y>e.videoVisibleTime?y-e.videoVisibleTime:0),k&&(e.videoSessionId=(0,p.Y7)(a),e.playerId=e.playerId||(0,p.EB)());var U={autoplaying:u,averageVideoKbps:-1,detailedErrors:m,downloadedKiloBytes:v,isCellular:!1,errorCode:g,errorName:P,errorReason:S,fatalError:_,nativeVideoDurationMs:C.duration*p.gJ||-1,numberOfStalls:A,numberOfSeeks:j,overallPausedDurationMs:E,overallBufferDurationMs:O,overallWatchedDurationMs:-1,rebufferRate:-1,playbackSessionId:e.videoSessionId,playbackStartTimestamp:w||-1,segments:[],sessionMark:t,screenPixelScale:null!==(M=window)&&void 0!==M&&M.devicePixelRatio?window.devicePixelRatio:-1,startupPlayerWidth:C.clientWidth,startupPlayerHeight:C.clientHeight,startupTimeMs:F,startupLatencyMs:N,startupVariantKbps:-1,startupVariantWatchedDurationMs:-1,startupVariantWidth:C.videoWidth,startupVariantHeight:C.videoHeight,videoUrl:D};if(!k&&T.length){var V=e.hls.levels,B=T[0];e.updateWatchDurationForCurrentSegment(),e.updateStallDuration();var G=T.reduce((function(e,t){return t&&"number"==typeof t.level&&V&&V.length>0?e+(V[t.level]||{}).bitrate*(t.watchedDurationMs||0)/p.gJ:e}),0),H=T.reduce((function(e,t){return e+(t.watchedDurationMs||0)}),0),Z=null,W=0,z=0;do{W+=T[z].watchedDurationMs,Z=Z||T[z].level,z+=1}while(z<T.length&&T[z].level===Z);U.startupVariantKbps=B.indicatedKbps,U.startupVariantWatchedDurationMs=W,U.startupVariantWidth=B.sourceWidth,U.startupVariantHeight=B.sourceHeight,U.startupPlayerWidth=B.viewportWidth,U.startupPlayerHeight=B.viewportHeight,U.overallWatchedDurationMs=H,H>0?(U.averageVideoKbps=G/(H/p.gJ),U.rebufferRate=e.playbackPerformance.totalStallDurationMs/H):0===H&&(U.averageVideoKbps=-1,U.rebufferRate=-1,U.errorName="invalid_watch_duration"),U.segments=T}else U.errorName="invalid_watch_duration";(0,f.ZP)(U,!0,l,R({playbackState:e.state.playbackState},r));var K=i.clientTrackingParams,q=i.component,Y=i.durationNs,$=i.element,X=i.objectId,J=i.pairId,Q=i.viewData,ee=i.view,te=i.viewParameter;c({aux_data:R(R({},h(i,b)),{},{is_closeup_video:l,playback_session_id:e.videoSessionId}),clientTrackingParams:K,component:q,duration_ns:Y,element:$,event_data:{videoPerformanceData:U},event_type:3606,object_id_str:X,pair_id:J,view_data:Q,view_parameter:te,view_type:ee}),k?(e.hasVideoSessionStarted=!0,e.hasVideoSessionEnded=!1):e.resetPlaybackMetrics(),(0,f.tE)(k?"sessionStart":"sessionEnd",!0,l,R({playbackState:e.state.playbackState},r))}})),e}return t=a,(r=[{key:"componentDidMount",value:function(){var e=this.props,t=e.contextLogData,r=void 0===t?{}:t,n=e.playing,o=r.is_closeup_video,i=void 0!==o&&o;this.playbackPerformance.videoCreatedTime=new Date,this.initializeHls(),(0,f.tE)("videoMounted",!0,i),n&&(this.videoVisibleTime=new Date,this.logPlaybackPerformance(p.DR,{initiator:"mount"}))}},{key:"componentDidUpdate",value:function(e){var t,r,n=this.props,o=n.loop,i=n.playing,a=n.src,u=n.visible,c=n.appInFocus,s=n.seekTime;s&&s!==e.seekTime&&this.setState({videoStartTime:s}),t=e.src,r=a,(D(t)!==D(r)||(Array.isArray(r)?t.length!==r.length||r.some((function(e,r){return!Array.isArray(t)||e.type!==t[r].type||e.src!==t[r].src})):r!==t))&&this.initializeHls(),e.appInFocus&&!c&&(this.logPlaybackPerformance(p.$f,{initiator:"update",loop:o}),this.logSessionStartOnNextPlay=!0),e.visible&&!1===u&&(this.logSessionStartOnNextPlay=!1,this.updatePauseDuration(),this.logPlaybackPerformance(p.$f,{initiator:"update",loop:o})),!1===e.visible&&!0===u&&(this.videoVisibleTime=this.videoVisibleTime||new Date,i?(this.setPlaybackStartTime(),this.setLastSegmentStartPlayTime(),this.setLastSegmentPlaybackStartDate(),this.logPlaybackPerformance(p.DR,{initiator:"update"})):this.logSessionStartOnNextPlay=!0),i&&c&&this.logSessionStartOnNextPlay&&(this.setPlaybackStartTime(),this.setLastSegmentStartPlayTime(),this.setLastSegmentPlaybackStartDate(),this.logPlaybackPerformance(p.DR,{initiator:"update"}),this.logSessionStartOnNextPlay=!1)}},{key:"componentWillUnmount",value:function(){var e=this.props.loop;this.updatePauseDuration(),this.logPlaybackPerformance(p.$f,{initiator:"unmount",loop:e}),this.destroyHls()}},{key:"render",value:function(){var e=this.props,t=e.accessibilityMaximizeLabel,r=e.accessibilityMinimizeLabel,n=e.accessibilityMuteLabel,o=e.accessibilityPauseLabel,i=e.accessibilityPlayLabel,a=e.accessibilityProgressBarLabel,u=e.accessibilityUnmuteLabel,c=e.aspectRatio,s=e.backgroundColor,l=e.captions,f=e.controls,p=e.loop,y=e.loopOverride,b=e.onDurationChange,h=e.onFullscreenChange,v=e.onLoadedChange,g=e.onControlsPlay,P=e.onPlayheadDown,S=e.onPlayheadUp,_=e.onSeek,w=e.onVolumeChange,E=e.playbackRate,O=e.playing,R=e.playsInline,T=e.poster,D=e.preload,I=e.quicExpGroup,j=e.src,C=e.volume,k=this.state,x=k.canPlayVideo,L=k.isManifestParsed,M=k.videoStartTime,F=A(j,I);return(0,m.jsx)(d.nk,{accessibilityMaximizeLabel:t,accessibilityMinimizeLabel:r,accessibilityMuteLabel:n,accessibilityPauseLabel:o,accessibilityPlayLabel:i,accessibilityProgressBarLabel:a,accessibilityUnmuteLabel:u,aspectRatio:c,backgroundColor:s,captions:l,controls:f,loop:void 0===y?p:y,onDurationChange:b,onEnded:this.handleEnded,onFullscreenChange:h,onLoadStart:this.handleLoadStart,onLoadedChange:v,onControlsPause:this.handleUserPause,onControlsPlay:g,onPlaying:this.handlePlaying,onPlayheadDown:P,onPlayheadUp:S,onReady:this.handleCanPlayVideo,onSeek:_,onSeeking:this.handleSeeking,onStalled:this.handleStalled,onTimeChange:this.handleTimeUpdate,onVolumeChange:w,onWaiting:this.handleStalled,playbackRate:E,onPlay:function(){},onPlayError:function(){},playing:L&&x&&O,playsInline:R,poster:T,preload:D,ref:this.setVideoPlayerRef,src:F,startTime:M,volume:C})}}])&&g(t.prototype,r),n&&g(t,n),a}(n.PureComponent);t.Z=(0,n.memo)((function(e){var t=(0,l.B)(),r=t.country,n=t.isAuthenticated,o=t.isBot,i=t.isSocialBot,d=t.unauthId,p=t.userAgent,b=(0,a.Z)(),h=(0,u.Z)(),v=p.browserName,g=p.browserVersion,P=p.isMobile,S=e.contextLogData,_=void 0===S?{}:S,w=_.is_closeup_video,E=void 0!==w&&w,O=_.view,T=_.viewParameter,D=(0,s.F)().checkExperiment,I=(0,y.Hx)().seekTime,A=(0,y.RC)().clearSeekTime,C=null;n&&(C=D("web_video_quic").group.length?D("web_video_quic").group:null);var k=(0,c.I)().appUI,x=D("web_video_fail_to_start_fix").anyEnabled?k.appInFocus:e.appInFocus,L={browserName:v,browserVersion:g,country:r,isAuthenticated:n,isBot:o,is_closeup_video:E,isMobile:P,isSocialBot:i,view:O,viewParameter:T};return(0,f.r$)(L),(0,m.jsx)(j,R(R({},e),{},{userId:h.id||d,appInFocus:x,quicExpGroup:C,logContextEvent:b,seekTime:I,clearSeekTime:A}))}))},969315:function(e,t,r){"use strict";r.d(t,{ZP:function(){return h},r$:function(){return m},tE:function(){return b}});var n=r(311560),o=r(172071),i=r(179888);function a(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==r)return;var n,o,i=[],a=!0,u=!1;try{for(r=r.call(e);!(a=(n=r.next()).done)&&(i.push(n.value),!t||i.length!==t);a=!0);}catch(c){u=!0,o=c}finally{try{a||null==r.return||r.return()}finally{if(u)throw o}}return i}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return u(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return u(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function c(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function s(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?c(Object(r),!0).forEach((function(t){l(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):c(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function l(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var d=["isCellular","videoUrl","sessionMark"],f={},p="",y=function(e){return e<0?"negative":0===e?"zero":e<200?"xs":e<400?"s":e<600?"m":e<800?"l":e<1e3?"xl":e<1200?"xxl":"over1200"},m=function(e){var t=e.browserName,r=e.browserVersion,o=e.country,i=e.isAuthenticated,a=e.isBot,u=e.isMobile,c=e.isSocialBot,s=e.view,l=void 0===s?"unknown":s,d=e.viewParameter,y=void 0===d?"unknown":d;p=(c?"socialBot":a&&"bot")||"nonbot";var m=(0,n.Z)(o);f={browserName:t,browserVersion:(null==r?void 0:r.split(".")[0])||"0",isAuthenticated:i,isMobile:u,region:m,view:l,viewParameter:y}};function b(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=r?"closeup":"nonCloseup",a=t?"hls":"nonHls",u=s(s({},n),f),c="web.video.".concat(a,".").concat(p,".").concat(i,".").concat(e);o.Z.increment(c,1,u)}function h(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},u=r?"closeup":"nonCloseup",c=t?"hls":"nonHls",l=e.sessionMark===i.DR?"sessionStart":"sessionEnd",m=s(s({},n),f);if(Object.entries(e).forEach((function(t){var r=a(t,2),n=r[0],i=r[1],f="web.video.".concat(c,".").concat(p,".").concat(u,".").concat(l,".").concat(n),b=parseInt(i,10),h="number"==typeof b?b:-1;if(!d.includes(n))if(n.includes("fatalError")&&!0===i){var v=e.errorCode,g=e.errorName,P=e.errorReason;o.Z.increment(f,1,s({errorCode:v,errorName:g,errorReason:P},m))}else if(n.includes("Width")||n.includes("Height")){var S=y(h);o.Z.increment(f,1,s({dimensionBucket:S},m))}else if("numberOfStalls"===n){var _=i;h>1e3?_="over1000":h>10?_="over10":h<0&&(_="negative"),o.Z.increment(f,1,s({numberOfStalls:_},m))}else"screenPixelScale"===n?o.Z.increment(f,1,s({screenPixelScale:i||-1},m)):h>=0?(0===h&&o.Z.increment("".concat(f,".zero"),1,m),o.Z.timing(f,h,1),o.Z.timing("".concat(f,"_with_tags"),h,1,m)):h<0&&o.Z.increment("".concat(f,".negative"),1,m)})),e.sessionMark!==i.DR){var b=e.rebufferRate,h=e.screenPixelScale,v=e.startupLatencyMs,g=e.startupVariantWidth,P=e.startupPlayerWidth,S="web.video.".concat(c,".").concat(p,".").concat(u,".").concat(l);if("number"==typeof g&&"number"==typeof P&&"number"==typeof h){var _=1.5*g>h*P;o.Z.increment("".concat(S,".upscaled.").concat(_?"good":"bad"),1,m)}"number"==typeof v&&o.Z.increment("".concat(S,".startupLatency.").concat(v<500?"good":"bad"),1,m),"number"==typeof b&&o.Z.increment("".concat(S,".rebufferRate.").concat(b<.01?"good":"bad"),1,m)}}},179888:function(e,t,r){"use strict";r.d(t,{$f:function(){return i},Cy:function(){return s},DR:function(){return o},EB:function(){return f},Fm:function(){return c},Y7:function(){return d},bR:function(){return u},gJ:function(){return a},lG:function(){return l}});var n=r(353356),o=1,i=2,a=1e3,u=1e3,c=1e3,s=Object.freeze({DEFAULT:0,LOAD_START:1,LOADED_METADATA:2,LOADED_DATA:3,PLAYING:4,PAUSED:5,SEEKING:6,STALLING:7,FAILED:8,ENDED:9}),l=Object.freeze({MEDIA_ERR_ABORTED:1,MEDIA_ERR_NETWORK:2,MEDIA_ERR_DECODE:3,MEDIA_ERR_SRC_NOT_SUPPORTED:4});function d(e){return e+"-"+(0,n.Z)()}function f(){return(0,n.Z)()}},121630:function(e,t,r){"use strict";r.d(t,{Z:function(){return i},e:function(){return o}});var n=r(81226),o=function(e){if("undefined"==typeof window)return"";var t=0,r=document.querySelector('[data-test-id="header"]');null!==r&&(t+=r.getBoundingClientRect().height);switch(e){case"AuthHomefeed":var n=document.querySelector('[data-root-margin="more-ideas-tabs"]');if(null!==n)t+=n.getBoundingClientRect().height;break;case"SearchItem":var o=document.querySelector('[data-root-margin="search-improvements-bar"]');if(null!==o)t+=o.getBoundingClientRect().height;var i=document.querySelector('[data-test-id="search-tab-bar"],[data-root-margin="search-one-bar"]');if(null!==i)t+=i.getBoundingClientRect().height}return"".concat(-1*t,"px 0px 0px 0px")},i=function(e){var t,r,o,i,a;return(0,n.Z)((null===(t=e.videos)||void 0===t?void 0:t.duration)||(null===(r=e.videos)||void 0===r||null===(o=r.video_list)||void 0===o||null===(i=o.V_HLSV4)||void 0===i?void 0:i.duration)||(null===(a=e.story_pin_data)||void 0===a?void 0:a.total_video_duration)||0)}},139405:function(e,t,r){"use strict";r.d(t,{pb:function(){return D},nf:function(){return I},lV:function(){return A}});var n=r(76911),o=r(6637),i=r(653498),a=r.n(i),u=r(16449),c=r.n(u);function s(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function l(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?s(Object(r),!0).forEach((function(t){d(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):s(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function d(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var f={feature_map:Object.freeze({})},p=function(e,t){var r=l(l(l(l(l({},c()({},e,t)),t.content?{content:t.content}:Object.freeze({})),t.reaction_counts?{reaction_counts:t.reaction_counts}:Object.freeze({})),t.tags?{tags:t.tags}:Object.freeze({})),t.tagged_users?{tagged_users:t.tagged_users}:Object.freeze({}));return a()(e,r)?e:r},y=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:f,t=arguments.length>1?arguments[1]:void 0;if("FETCH_COMPLETE"===t.type){var r=t.payload.resource,n=t.payload.response.resource_response.data;if("AggregatedCommentFeedResource"===r||"AggregatedCommentReplyFeedResource"===r||"DidItCommentsResource"===r){var o=n||[],i=o.reduce((function(t,r){return t[r.id]=p(e[r.id],r),t}),{});return l(l({},e),i)}if("UnifiedCommentsResource"===r&&n&&n.length>0){var a=n.filter((function(e){return"aggregatedcomment"===e.type})),u=a.reduce((function(t,r){return t[r.id]=p(e[r.id],r),t}),{});return l(l({},e),u)}if("UnifiedCommentsPreviewResource"===r&&n&&n.length>0){var c=n[0].aggregated_comment,s=c?d({},c.id,p(e[c.id],c)):{},y=n[0].creator_reply,m=y?d({},y.id,p(e[y.id],y)):{};return l(l(l({},e),s),m)}if("AggregatedCommentFeaturesResource"===r&&n&&Object.keys(n).length>0)return l(l({},e),{},{feature_map:n})}else{if("AGGREGATED_COMMENT_CREATED"===t.type){var b=t.payload.aggregatedComment;return b.id?l(l({},e),{},d({},b.id,b)):e}if("AGGREGATED_COMMENT_DELETED"===t.type||"AGGREGATED_COMMENT_HIDDEN"===t.type){var h=t.payload.aggregatedCommentId,v=l({},e);return delete v[h],v}if("AGGREGATED_COMMENT_HIDDEN_FOR_USER"===t.type){var g=t.payload.userId;return Object.fromEntries(Object.entries(e).filter((function(e){var t;return(null===(t=e[1].user)||void 0===t?void 0:t.id)!==g})))}if("AGGREGATED_COMMENT_UPDATED"===t.type){var P=t.payload.data;return l(l({},e),{},d({},P.id,p(e[P.id],P)))}if("AGGREGATED_COMMENT_LIKE_TOGGLED"===t.type){var S=t.payload.data,_=e[S.id],w=_.reaction_counts[1]||0,E=d({},1,S.reaction_by_me?w+1:w-1),O=l(l({},_),{},{reaction_by_me:S.reaction_by_me,reaction_counts:E});return l(l({},e),{},d({},S.id,O))}if("AGGREGATED_COMMENT_HELPFUL_TOGGLED"===t.type){var R=t.payload.data,T=e[R.id],D=T.helpful_count||0,I=R.marked_helpful_by_me?D+1:D-1,A=l(l({},T),{},{marked_helpful_by_me:R.marked_helpful_by_me,helpful_count:I});return l(l({},e),{},d({},R.id,A))}if("AGGREGATED_COMMENT_HIGHLIGHT_TOGGLED"===t.type){var j=t.payload.data,C=e[j.aggregated_comment_id],k=l(l({},C),{},{highlighted_by_pin_owner:j.is_highlighted});return l(l({},e),{},d({},j.aggregated_comment_id,k))}if("AGGREGATED_COMMENT_FEATURES_UPDATED"===t.type){var x=t.payload.data.featureMap;return l(l({},e),{},{feature_map:l(l({},e.feature_map),x)})}if("UPDATE_AGGREGATED_COMMENT_COMMENT_COUNT"===t.type){var L=t.payload,M=L.increment,F=L.id,N=e[F],U=l(l({},N),{},{comment_count:N.comment_count+M});return l(l({},e),{},d({},F,U))}if("DELETE_COMMENT_MENTION"===t.type){var V=t.payload,B=V.aggregatedCommentId,G=V.tagged_users,H=e[B],Z=l(l({},H),{},{tagged_users:G});return l(l({},e),{},d({},B,Z))}}return e},m=r(425288),b=r(505920),h=r(515198);function v(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function g(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?v(Object(r),!0).forEach((function(t){P(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):v(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function P(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function S(e,t,r,n,o,i,a){try{var u=e[i](a),c=u.value}catch(s){return void r(s)}u.done?t(c):Promise.resolve(c).then(n,o)}function _(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function a(e){S(i,n,o,a,u,"next",e)}function u(e){S(i,n,o,a,u,"throw",e)}a(void 0)}))}}function w(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==r)return;var n,o,i=[],a=!0,u=!1;try{for(r=r.call(e);!(a=(n=r.next()).done)&&(i.push(n.value),!t||i.length!==t);a=!0);}catch(c){u=!0,o=c}finally{try{a||null==r.return||r.return()}finally{if(u)throw o}}return i}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return E(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return E(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function E(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var O=(0,m.Z)("AggregatedComments"),R=O.Provider,T=O.useHook;function D(e){var t=e.children,r=w((0,n.useReducer)(y,f),2),o=r[0],i=r[1],a=function(e){i({type:"FETCH_COMPLETE",payload:e})};(0,b.Z8)("AggregatedCommentFeaturesResource",a),(0,b.my)("AggregatedCommentFeaturesResource",a),(0,b.Z8)("AggregatedCommentFeedResource",a),(0,b.my)("AggregatedCommentFeedResource",a),(0,b.Z8)("AggregatedCommentReplyFeedResource",a),(0,b.my)("AggregatedCommentReplyFeedResource",a),(0,b.Z8)("DidItCommentsResource",a),(0,b.my)("DidItCommentsResource",a),(0,b.Z8)("UnifiedCommentsPreviewResource",a),(0,b.my)("UnifiedCommentsPreviewResource",a),(0,b.Z8)("UnifiedCommentsResource",a),(0,b.my)("UnifiedCommentsResource",a);var u=(0,n.useMemo)((function(){return{aggregatedComments:o,dispatch:i}}),[o,i]);return(0,h.jsx)(R,{value:u,children:t})}function I(){var e=T().dispatch;return(0,n.useMemo)((function(){return{aggregatedCommentCreated:function(t,r){e({type:"AGGREGATED_COMMENT_CREATED",payload:{parentId:t,aggregatedComment:r}})},aggregatedCommentDeleted:function(t,r){e({type:"AGGREGATED_COMMENT_DELETED",payload:{parentId:t,aggregatedCommentId:r}})},aggregatedCommentHidden:function(t){e({type:"AGGREGATED_COMMENT_HIDDEN",payload:{aggregatedCommentId:t}})},aggregatedCommentsHiddenForUser:function(t){e({type:"AGGREGATED_COMMENT_HIDDEN_FOR_USER",payload:{userId:t}})},flagAggregatedComment:(a=_(regeneratorRuntime.mark((function e(t){var r,n,i,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.commentId,n=t.reason,i=t.detailedReasons,a={commentId:r,reason:n,detailedReasons:i},e.abrupt("return",o.Z.create("AggregatedCommentFlagResource",a).callCreate());case 3:case"end":return e.stop()}}),e)}))),function(e){return a.apply(this,arguments)}),deleteCommentMention:(i=_(regeneratorRuntime.mark((function t(r){var n,i,a,u;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,o.Z.create("MentionsResource",{aggregatedCommentId:r,field_set_key:"comment"}).callDelete();case 2:i=t.sent,a=i.resource_response,u=null!==(n=null==a?void 0:a.data)&&void 0!==n?n:{},e({type:"DELETE_COMMENT_MENTION",payload:{aggregatedCommentId:u.id,tagged_users:u.tagged_users}});case 6:case"end":return t.stop()}}),t)}))),function(e){return i.apply(this,arguments)}),toggleAggregatedCommentHelpful:function(t){var r=t.aggregatedCommentId,n=t.isMarkedHelpfulByMe,i=o.Z.create("HelpfulResource",{helpfulModelType:1,objectId:r});n?i.callDelete({showError:!1}):i.callCreate({showError:!1}),e({type:"AGGREGATED_COMMENT_HELPFUL_TOGGLED",payload:{data:{id:r,marked_helpful_by_me:!n}}})},toggleAggregatedCommentHighlight:(n=_(regeneratorRuntime.mark((function t(r){var n,i,a,u;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=r.aggregatedCommentId,i=r.pinId,a=r.isHighlighted,u=o.Z.create("AggregatedCommentHighlightResource",{aggregatedCommentId:n,pinId:i}),!a){t.next=7;break}return t.next=5,u.callDelete({showError:!1});case 5:t.next=9;break;case 7:return t.next=9,u.callCreate({showError:!1});case 9:e({type:"AGGREGATED_COMMENT_HIGHLIGHT_TOGGLED",payload:{data:{aggregated_comment_id:n,pin_id:i,is_highlighted:!a}}});case 10:case"end":return t.stop()}}),t)}))),function(e){return n.apply(this,arguments)}),toggleAggregatedCommentLike:function(t){var r=t.aggregatedCommentId,n=t.isLikedByMe,i=o.Z.create("AggregatedCommentLikeResource",{aggregatedCommentId:r});n?i.callDelete({showError:!1}):i.callCreate({showError:!1}),e({type:"AGGREGATED_COMMENT_LIKE_TOGGLED",payload:{data:{id:r,reaction_by_me:n?0:1}}})},updateAggregatedComment:(r=_(regeneratorRuntime.mark((function t(r){var n,i,a,u,c,s,l,d,f,p,y;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=r.commentId,a=r.force,u=r.orbacSubjectId,c=r.tags,s=r.text,t.next=3,o.Z.create("AggregatedCommentResource",g({commentId:i,force:a,tags:c,text:s},u?{orbacSubjectId:u}:{})).callUpdate({showError:!1});case 3:l=t.sent,d=l.resource_response,f=null!==(n=null==d?void 0:d.data)&&void 0!==n?n:{},p=f.tagged_users,y=p.map((function(e){return Object.assign({},e)})),e({type:"AGGREGATED_COMMENT_UPDATED",payload:{data:{id:i,tagged_users:y,tags:JSON.parse(c),text:s}}});case 8:case"end":return t.stop()}}),t)}))),function(e){return r.apply(this,arguments)}),updateAggregatedCommentFeatures:(t=_(regeneratorRuntime.mark((function t(r){var n,i,a,u,c,s;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=r.userId,a=r.featureMap,t.next=3,o.Z.create("AggregatedCommentFeaturesResource",{userId:i,featureMap:a}).callUpdate({showError:!1});case 3:u=t.sent,c=u.resource_response,s=null!==(n=null==c?void 0:c.data)&&void 0!==n?n:Object.freeze({}),e({type:"AGGREGATED_COMMENT_FEATURES_UPDATED",payload:{data:{featureMap:s}}});case 7:case"end":return t.stop()}}),t)}))),function(e){return t.apply(this,arguments)}),updateCommentCount:function(t,r){e({type:"UPDATE_AGGREGATED_COMMENT_COMMENT_COUNT",payload:{increment:r,id:t}})}};var t,r,n,i,a}),[e])}function A(){return T().aggregatedComments}},664569:function(e,t,r){"use strict";r.d(t,{o:function(){return n}});var n={aggregatedComment:"aggregatedComment",didIt:"didIt",pin:"pin"}},965900:function(e,t,r){"use strict";r.d(t,{g:function(){return g},I:function(){return v}});var n=r(76911),o=r(567450),i=r(678881),a=r.n(i);function u(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function c(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?u(Object(r),!0).forEach((function(t){s(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):u(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function s(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var l={appInFocus:!0,footerPlusButtonVisible:!0,isAutoplay:!1,showTypeaheadOverlay:!1,videosAutoplaying:{currentlyPlayingOrganicVideoId:null,organicVideosAutoplaying:{},promotedVideosAutoplaying:{}},viewportSize:"lg"},d=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l,t=arguments.length>1?arguments[1]:void 0;if("TOGGLE_TYPEAHEAD_OVERLAY"===t.type)return c(c({},e),{},{showTypeaheadOverlay:t.payload});if("SET_CURRENT_VIDEO"===t.type){var r=t.payload,n=r.pinId,o=r.isPromoted,i=r.currentTime,u=r.inVideoGridAutoplayExp,s=e.videosAutoplaying,d=s.currentlyPlayingOrganicVideoId,f=s.promotedVideosAutoplaying,p=s.organicVideosAutoplaying,y=a()(f),m=a()(p);return!o&&d&&u?e:(o?y[n]={pinId:n,currentTime:i,paused:!1}:m[n]={pinId:n,currentTime:i,paused:!1},c(c({},e),{},{videosAutoplaying:{currentlyPlayingOrganicVideoId:o?d:n,promotedVideosAutoplaying:y,organicVideosAutoplaying:m}}))}if("SET_IS_AUTOPLAY"===t.type)return c(c({},e),{},{isAutoplay:t.payload});if("PAUSE_CURRENT_VIDEO"===t.type){var b=t.payload,h=b.pinId,v=b.isPromoted,g=b.currentTime,P=e.videosAutoplaying,S=P.promotedVideosAutoplaying,_=P.organicVideosAutoplaying,w=a()(S),E=a()(_);return v?w[h]=c(c({},w[h]),{},{paused:!0,currentTime:g}):E[h]=c(c({},E[h]),{},{paused:!0,currentTime:g}),c(c({},e),{},{videosAutoplaying:{currentlyPlayingOrganicVideoId:null,promotedVideosAutoplaying:w,organicVideosAutoplaying:E}})}return"SET_APP_FOCUS_STATE"===t.type?c(c({},e),{},{appInFocus:t.payload}):"SET_VIEWPORT_SIZE"===t.type?c(c({},e),{},{viewportSize:t.payload}):"SET_FOOTER_VISIBILITY_STATE"===t.type?c(c({},e),{},{footerPlusButtonVisible:t.payload}):e},f=r(425288),p=r(515198);function y(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==r)return;var n,o,i=[],a=!0,u=!1;try{for(r=r.call(e);!(a=(n=r.next()).done)&&(i.push(n.value),!t||i.length!==t);a=!0);}catch(c){u=!0,o=c}finally{try{a||null==r.return||r.return()}finally{if(u)throw o}}return i}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return m(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return m(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function m(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var b=(0,f.Z)("AppUI"),h=b.Provider,v=b.useHook;function g(e){var t=e.children,r=y((0,n.useReducer)(d,l),2),i=r[0],a=r[1],u=(0,n.useCallback)((function(e){return a({type:"PAUSE_CURRENT_VIDEO",payload:e})}),[]),c=(0,n.useCallback)((function(e){return a({type:"SET_APP_FOCUS_STATE",payload:e})}),[]),s=(0,n.useCallback)((function(e){return a({type:"SET_CURRENT_VIDEO",payload:e})}),[]),f=(0,n.useCallback)((function(e){return a({type:"SET_FOOTER_VISIBILITY_STATE",payload:e})}),[]),m=(0,n.useCallback)((function(e){return a({type:"SET_IS_AUTOPLAY",payload:e})}),[]),b=(0,n.useCallback)((function(e){return a({type:"SET_VIEWPORT_SIZE",payload:e})}),[]),v=(0,n.useCallback)((function(e){return a({type:"TOGGLE_TYPEAHEAD_OVERLAY",payload:e})}),[]),g=(0,n.useMemo)((function(){return{pauseAutoplay:u,setCurrentVideo:s,setFooterPlusButtonVisible:f,setIsAutoplay:m,setViewportSize:b,toggleTypeaheadOverlay:v,setAppFocusState:c,appUI:i}}),[u,s,f,m,b,v,c,i]);return(0,n.useEffect)((function(){o.Z.onSessionResume((function(){c(!0)})).onSessionPause((function(){c(!1)}))}),[c]),(0,p.jsx)(h,{value:g,children:t})}},379764:function(e,t,r){"use strict";var n=r(183007),o=new(r(908390).H3)([n.N]);t.Z=o},350118:function(e,t,r){"use strict";r.d(t,{AF:function(){return c},H0:function(){return s},S6:function(){return l},_S:function(){return d}});var n=r(506979),o=r(425288),i=r(515198),a=(0,o.Z)("Pins"),u=a.Provider,c=a.useHook,s=a.useMaybeHook;function l(){var e=c();return function(t){return e[t]}}function d(e){var t=e.children,r=(0,n.useSelector)((function(e){return e.pins}),n.shallowEqual);return(0,i.jsx)(u,{value:r,children:t})}},814197:function(e,t,r){"use strict";r.d(t,{Cq:function(){return p},Dk:function(){return m},Fk:function(){return i},bI:function(){return o},fS:function(){return f},gw:function(){return l},j1:function(){return d},km:function(){return y},lI:function(){return u},lJ:function(){return a},mS:function(){return s},qW:function(){return c},t5:function(){return b}});var n=r(908390),o=new n.Ry(0),i=new n.Ry(1),a=3,u=new n.Ry(a),c=2,s=new n.Ry(c),l=new n.Ry(3),d=new n.Ry(3),f=3,p=4,y=new n.Ry(5),m=new n.Ry(100),b=new n.Ry(c)},398061:function(e,t,r){"use strict";r.d(t,{Z:function(){return u},e:function(){return a}});var n=r(780280),o=r(908390),i=r(515198),a=new o.Ry(1);function u(e){var t=e.children,r=e.isImagePinForUnauthOnTablet,u=(0,n.B)().isAuthenticated;return(0,i.jsxs)(o.xu,{alignItems:"center",bottom:!0,dangerouslySetInlineStyle:{__style:{cursor:"pointer",width:r?"40vw":void 0}},zIndex:u?void 0:a,display:"flex",justifyContent:"center",left:!0,position:"absolute",right:!r||void 0,top:!0,children:[(0,i.jsx)(o.xu,{bottom:!0,dangerouslySetInlineStyle:{__style:{backgroundColor:"#000",borderRadius:"6px 6px 0 0",WebkitTransition:"opacity .04s linear",transition:"opacity .04s linear"}},left:!0,opacity:.4,position:"absolute",right:!0,top:!0}),t]})}},183007:function(e,t,r){"use strict";r.d(t,{N:function(){return O},Z:function(){return R}});var n=r(76911),o=r(223815),i=r(248041),a=r(898781),u=r(52022),c=r(867820),s=r(908390),l=r(515198);function d(e){var t=e.icon,r=(0,i.Z)().hide,n=(0,a.ZP)(),d=(0,u.Z)();return(0,l.jsx)(o.Z,{children:(0,l.jsx)(s.xu,{"data-test-id":"expandButton",children:(0,l.jsx)(s.hU,{icon:t||"maximize",size:t?"md":"lg",iconColor:"darkGray",bgColor:"white",padding:3,accessibilityLabel:n._('Expand Image', 'mweb.closeup.image.expand.a11y', 'Accessibility label for the expand icon'),onClick:function(e){e.event.stopPropagation(),(0,c.My)("mweb_pin_page.pin_image.enlarge_image"),(0,c.NC)("click_expand_image"),d({action:"click",item:"expand-button",within:"pin-image"}),r()}})})})}var f=r(700380),p=r(50286),y=r(792182),m=r(398061),b=r(444445),h=r(773285);function v(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function g(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?v(Object(r),!0).forEach((function(t){P(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):v(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function P(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function S(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==r)return;var n,o,i=[],a=!0,u=!1;try{for(r=r.call(e);!(a=(n=r.next()).done)&&(i.push(n.value),!t||i.length!==t);a=!0);}catch(c){u=!0,o=c}finally{try{a||null==r.return||r.return()}finally{if(u)throw o}}return i}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return _(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return _(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var w=.3,E=.75,O=new s.H3([m.e]),R=function(e){var t,r=e.children,o=e.closableDrawer,a=(0,i.Z)().hide,u=(0,n.useRef)(null),c=(0,n.useRef)(null),m=S((0,n.useState)(null),2),v=m[0],P=m[1],_=S((0,n.useState)(0),2),R=_[0],T=_[1],D=S((0,n.useState)(!1),2),I=D[0],A=D[1],j=(null===(t=(0,y.Z)())||void 0===t?void 0:t.height)||0,C=S((0,n.useState)(!1),2),k=C[0],x=C[1],L=(0,p.ZP)(),M=(0,h.F)().checkExperiment,F=null!=v?v:.75*j,N=function(){var e,t=(null===(e=u.current)||void 0===e?void 0:e.offsetTop)||0;return t>0&&j>0?t-j*w+60:0};return(0,n.useEffect)((function(){var e=function(){var e,t=(null===(e=u.current)||void 0===e?void 0:e.offsetTop)||0;window.scrollY+F>t&&a()};e();var t=(0,f.Z)(e,10);return window.addEventListener("scroll",t),function(){return window.removeEventListener("scroll",t)}}),[a,F]),(0,l.jsxs)(n.Fragment,{children:[(0,l.jsxs)(s.xu,{position:"fixed",bottom:!0,left:!0,right:!0,color:"default",zIndex:O,height:null===v?"".concat(25,"vh"):"calc(100vh - ".concat(v,"px)"),dangerouslySetInlineStyle:{__style:g(g({},I?{transitionDuration:"500ms",transitionProperty:"maxHeight, borderRadius"}:{}),{},{borderRadius:0===v&&I?0:"32px 32px 0 0",boxShadow:"0px 0px 8px rgba(0, 0, 0, 0.3)",overscrollBehavior:"none",touchAction:"none"})},"data-test-id":"related-pins-drawer","data-layout-shift-boundary-id":"Drawer",ref:c,onTouchStart:function(e){var t=e.touches[0].clientY;T(t),A(!1)},onTouchMove:function(e){e.preventDefault();var t,r=e.touches[0].clientY,n=null!=v?v:.75*window.innerHeight,o=r-R;if(null!==n&&o){var i=j*w,a=j*E,u=Math.floor(Math.min(a,Math.max(i,n+o)));P(u);var c=N();if(j>0&&c>0){var s=c*(t=u/j,1-(Math.max(w,Math.min(E,t))-w)/.45);window.pageYOffset<s&&window.scrollTo({top:s})}u<.525*j&&x(!0)}T(r)},onTouchEnd:function(){if(k){A(!0),P(j*w);var e=N();e&&window.scrollTo({top:e,behavior:"smooth"}),x(!1)}},children:["desktop"!==L&&(o?(0,l.jsx)(s.xu,{position:"absolute",top:!0,left:!0,margin:1,marginTop:o?0:4,paddingY:1,children:(0,l.jsx)(d,{icon:"cancel"})}):!M("pcons_remove_expand_button").anyEnabled&&(0,l.jsx)(s.xu,{position:"absolute",top:!0,right:!0,children:(0,l.jsx)(s.xu,{position:"absolute",bottom:!0,right:!0,children:(0,l.jsx)(s.xu,{padding:3,children:(0,l.jsx)(d,{})})})})),(0,l.jsx)(s.xu,{paddingX:b.D6,children:r})]}),(0,l.jsx)(s.xu,{ref:u,height:"100vh"})]})}},248041:function(e,t,r){"use strict";r.d(t,{t:function(){return l}});var n=r(76911),o=r(867820),i=r(609500),a=r(515198);function u(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==r)return;var n,o,i=[],a=!0,u=!1;try{for(r=r.call(e);!(a=(n=r.next()).done)&&(i.push(n.value),!t||i.length!==t);a=!0);}catch(c){u=!0,o=c}finally{try{a||null==r.return||r.return()}finally{if(u)throw o}}return i}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return c(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return c(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var s=(0,n.createContext)({hide:function(){},isHidden:!0,isScrolledToPins:!1,scrollToPins:function(){}});function l(e){var t=e.children,r=e.isEligible,c=u((0,n.useState)(!r),2),l=c[0],d=c[1],f=u((0,n.useState)(!1),2),p=f[0],y=f[1],m=(0,i.useLocation)().pathname;(0,n.useEffect)((function(){d(!r)}),[m,r]);var b=(0,n.useCallback)((function(){(0,o.My)("web_unification.expand_click.hide_drawer"),d(!0)}),[]),h=(0,n.useCallback)((function(e){y(!!e)}),[]),v=(0,n.useMemo)((function(){return{isHidden:l,hide:b,isScrolledToPins:p,scrollToPins:h}}),[l,b,p,h]);return(0,a.jsx)(s.Provider,{value:v,children:t})}t.Z=function(){return(0,n.useContext)(s)}},998651:function(e,t,r){"use strict";r.d(t,{LM:function(){return u},h9:function(){return c},r$:function(){return a}});var n=r(385740),o=r(909499),i=["search_articles_story","shop_tab_upsell","story_pins_search_upsell","structured_search_bubble","user_style_story_v2","search_for_you_upsell"];function a(e,t){var r=e.query,i=e.rs,a=e.scope,u=(0,n.BE)(),c=!(null!=u&&u.viewType||null!=u&&u.viewParameter),s=(0,o.wF)(a);if(!c&&s){var l=null!=u?u:{};t({event_type:s,view_type:l.viewType,view_parameter:l.viewParameter,aux_data:{query:r,rs:i||"Unknown"}})}"hashtag_closeup"===i?t({event_type:101,component:13065,element:10273,view_type:142}):"hashtag_pinrep"===i&&t({event_type:101,component:0,element:10349,view_type:142})}var u=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=!0;return e.reduce((function(e,r){var n;return t&&r.story_type&&i.includes(r.story_type)&&0===(null===(n=r.display_options)||void 0===n?void 0:n.num_columns_requested)?e.searchFullWidthStories.push(r):(t=!1,e.filteredResults.push(r)),e}),{searchFullWidthStories:[],filteredResults:[]})};function c(e){var t=(e||{}).results;return!!(void 0===t?[]:t).find((function(e){return!(null==e||!e.is_eligible_for_filters)}))}},987318:function(e,t,r){"use strict";r.d(t,{H:function(){return i},o:function(){return o}});var n=(0,r(425288).Z)("LimitedLogin"),o=n.Provider,i=n.useHook},59644:function(e,t){"use strict";t.Z=function(e,t){return"".concat(e,":").concat(t||"")}},600147:function(e,t,r){"use strict";r.d(t,{DD:function(){return l},lg:function(){return d},Th:function(){return p},YH:function(){return u},wH:function(){return a},IU:function(){return f},L8:function(){return s}});var n=r(6637),o=r(422946),i=r(956800);function a(e){var t=e.didItDataId,r=e.isLikedByMe;return function(e){var o=n.Z.create("DidItLikeResource",{didItDataId:t});return r?o.callDelete({showError:!1}):o.callCreate({showError:!1}),e(function(e,t){return{type:"USER_DID_IT_DATA_LIKE_TOGGLED",payload:{id:e,liked_by_me:t}}}(t,!r))}}function u(e){var t=e.didItDataId,r=e.isMarkedHelpfulByMe;return function(e){var o=n.Z.create("HelpfulResource",{helpfulModelType:2,objectId:t});return r?o.callDelete({showError:!1}):o.callCreate({showError:!1}),e(function(e,t){return{type:"USER_DID_IT_DATA_HELPFUL_TOGGLED",payload:{id:e,marked_helpful_by_me:t}}}(t,!r))}}function c(e){return{type:"USER_DID_IT_DATA_DELETE",payload:{id:e}}}function s(e,t){return{type:"USER_DID_IT_DATA_UPDATE_COMMENT_COUNT",payload:{id:e,increment:t}}}function l(e){var t=e.aggregatedPinDataId,r=e.details,a=e.fromUnifiedComment,u=e.image_signatures,c=e.pin_id,l=e.username,d=e.updateParentDidItCount,f={aggregatedPinDataId:t,details:r,image_signatures:u,pin_id:c};return function(e){return n.Z.create("DidItActivityResource",f).callCreate().then((function(r){var n=r.resource_response.data;e({type:"PIN_DID_IT",payload:{id:c,value:!0}}),e({type:"USER_DID_IT_DATA_CREATE",payload:{user_did_it_data:n}}),e((0,i.vX)({feedId:t,feedType:a?o.DV.UNIFIED_COMMENTS:o.DV.TRIED_IT_FEED,itemIds:[n.id],itemType:n.type})),e((0,i.vX)({feedId:l,feedType:o.DV.TRIED_IT_FEED,itemIds:[n.id],itemType:n.type})),d&&e(s(t,1))}),(function(){}))}}function d(e){var t=e.aggregatedPinDataId,r=e.feedType,a=e.id,u=e.isOwnedByMe,l=e.pinId,d=e.username,f=e.updateParentDidItCount;return function(e){n.Z.create("DidItActivityResource",{user_did_it_data_id:a,pinId:l}).callDelete().then((function(n){u&&e(function(e){return{type:"PIN_DID_IT",payload:{id:e,value:!1}}}(l)),e(c(a)),e((0,i.EX)({feedId:null!=t?t:"",feedType:r||o.DV.TRIED_IT_FEED,itemIds:[a],itemType:"userdiditdata"})),e((0,i.EX)({feedId:d,feedType:o.DV.TRIED_IT_FEED,itemIds:[a],itemType:"userdiditdata"})),e((0,i.EX)({feedId:d,feedType:o.DV.UNIFIED_COMMENTS,itemIds:t?[t]:[],itemType:"userdiditdata"})),f&&e(s(a,-1))}),(function(){}))}}function f(e){var t=e.id,r={details:e.details,image_signatures:e.image_signatures,user_did_it_data_id:t,pin_id:e.pinId};return function(e){n.Z.create("DidItActivityResource",r).callUpdate().then((function(t){var r=t.resource_response.data;e(function(e){return{type:"USER_DID_IT_DATA_UPDATE",payload:{user_did_it_data:e}}}(r))}),(function(){}))}}function p(e,t,r,a,u){var s={reason:a,detailed_reasons:t,user_did_it_data_id:r};return function(t){n.Z.create("DidItActivityFlagResource",s).callCreate().then((function(){t(c(r)),e&&t((0,i.EX)({feedId:e,feedType:o.DV.TRIED_IT_FEED,itemIds:[r],itemType:"userdiditdata"})),t((0,i.EX)({feedId:u,feedType:o.DV.TRIED_IT_FEED,itemIds:[r],itemType:"userdiditdata"}))}),(function(){}))}}},956800:function(e,t,r){"use strict";function n(e){return{type:"FEED_ITEM_REORDERED",payload:e}}function o(e,t){return{type:"FEED_INVALIDATE",payload:{feedType:e,feedId:t}}}r.d(t,{EX:function(){return a},N8:function(){return o},Qv:function(){return i},_f:function(){return n},vX:function(){return u}});var i=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Object.freeze({});return{type:"APPEND_FEED_ITEMS",payload:{id:e,options:r,items:t}}};function a(e){return{type:"FEED_ITEMS_REMOVED",payload:e}}function u(e){return{type:"FEED_ITEMS_ADDED",payload:e}}},274415:function(e,t,r){"use strict";function n(e,t){return{type:"PIN_UPDATE_COMMENT_COUNT",payload:{id:e,increment:t}}}r.d(t,{R:function(){return n}})},483025:function(e,t,r){"use strict";var n=r(819063),o={AggregatedCommentResource:n.rm,AggregatedCommentFeedResource:n.LR,AggregatedCommentReplyResource:n.rm,AggregatedCommentReplyFeedResource:n.LR,AggregatedActivityFeedResource:n.LR,BestPinsFeedAltResource:n.LR,BoardArchiveResource:n.LR,BoardCollaboratorsResource:n.LR,BoardContentRecommendationResource:n.LR,BoardFeedResource:n.LR,BoardFollowingResource:n.LR,BoardInviteResource:n.sf,BoardInvitesResource:n.Ht,BoardlessPinsResource:n.LR,BoardPickerBoardsResource:{all_boards:n.LR,boards_shortlist:n.LR},BoardSectionEditResource:n._F,BoardSectionsRepinResource:n.LR,BoardSectionsResource:n.LR,BoardsFeedResource:n.LR,BoardResource:n.IY,BoardSectionResource:n._F,BoardSectionPinsResource:n.LR,BoardToolsFeedResource:n.LR,ContactRequestsResource:n.LR,ConversationsResource:n.LR,ConversationMessagesResource:n.dq,DidItCommentsResource:n.LR,DidItLikedByResource:n.Gn,DidItUserFeedResource:n.LR,ExploreArticleBlockPinResource:n.LR,ExploreArticleBlockSearchResource:n.LR,ExploreArticleBlockUserResource:n.LR,ExploreArticleBlockUserDidItDataResource:n.LR,ExploreArticleResource:n.yg,FollowingFeedResource:n.LR,HolidaySpotlightRelatedFeedResource:n.LR,HolidaySpotlightResource:n.LR,InterestFollowingResource:n.LR,InterestResource:n.cC,MoreIdeasTabsBoardsResource:n.LR,NewsHubResource:n.LR,NewsHubDetailsResource:n.LR,NewsHubSummaryResource:n.t6,NuxInterestsResource:n.LR,NuxTopicToCreatorsResource:n.Gn,PinResource:n.Cj,PinCatalogResource:n.LR,PinsFromBrandResource:n.LR,ReactionsResource:n.fE,RelatedArticlesResource:n.LR,RelatedInterestsResource:n.LR,RelatedModulesResource:n.LR,RelatedPinFeedResource:n.LR,RelatedProductFeedResource:n.LR,RelatedStreamResource:n.LR,RepinResource:n.Cj,BaseSearchResource:{results:n.LR},SearchResource:n.LR,SectionToolsFeedResource:n.LR,ShareSuggestionsTypeaheadResource:{items:n.LR},ShoppingFeedModularizedResource:n.LR,StoryFeedResource:n.LR,StoryPinTaggedProductsResource:n.LR,SuggestedCreatorFollowsResource:n.Gn,TodayArticleFeedResource:n.LR,IdeasHubTodayArticlesResource:n.LR,TodayArticleResource:n.iF,TodayTabInterestFeedResource:n.LR,TodayTabResource:n.LR,TopicFeedResource:n.LR,UnifiedCommentsResource:n.LR,UserActivityPinsResource:n.LR,UserFollowingResource:n.LR,UserRecentActivityResource:n.LR,UserSimilarBusinessesResource:n.LR,UserHomefeedResource:n.LR,UserPinsResource:n.LR,UserSettingsResource:n.EA,UserStoryPinsFeedResource:n.LR,UserResource:n.EA,VideosFeedResource:n.LR,VisualLiveSearchResource:{results:n.LR},VisualLiveSearchProductFeedResource:n.LR,VisualSearchFlashlightUnifiedResource:n.LR,SeoTier1CandidateResource:n.LR};t.Z=o},819063:function(e,t,r){"use strict";r.d(t,{Cj:function(){return f},EA:function(){return c},Gn:function(){return D},Ht:function(){return T},IY:function(){return d},LR:function(){return A},_F:function(){return m},cC:function(){return _},dq:function(){return h},fE:function(){return y},iF:function(){return S},rm:function(){return s},sN:function(){return I},sf:function(){return w},t6:function(){return R},yg:function(){return g}});var n=r(833314);function o(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function i(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?o(Object(r),!0).forEach((function(t){a(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function a(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var u=Object.freeze({aggregatedComment:"aggregatedComments",article:"articles",board:"boards",boardsection:"boardsections",contactrequest:"contactrequests",conversation:"conversations",conversationMessage:"conversationMessages",inbox:"inbox",notification:"notifications",pin:"pins",reaction:"reactions",story:"stories",todayArticle:"todayArticles",topic:"topics",triedit:"triedits",user:"users",invite:"collaboratorinvite"}),c=new n.fK.Entity(u.user),s=new n.fK.Entity(u.aggregatedComment,{user:c,tagged_users:[c]}),l=new n.fK.Entity(u.article,{curator:c}),d=new n.fK.Entity(u.board),f=new n.fK.Entity(u.pin),p=new n.fK.Entity(u.reaction,{user:c}),y=new n.fK.Array(p),m=new n.fK.Entity(u.boardsection),b=new n.fK.Entity(u.conversationMessage,{sender:c,users:[c],board:d,pin:f,user:c}),h=new n.fK.Array(b),v=new n.fK.Entity(u.contactrequest),g=new n.fK.Entity(u.story,{cover_pin:f,user:c}),P=new n.fK.Entity(u.triedit,{pin:f,user:c}),S=new n.fK.Entity(u.todayArticle,{article_creator_user:c,content_pin:f,content_pin_official_user:c,video_pin:f}),_=new n.fK.Entity(u.topic,{},{processStrategy:function(e,t,r){return i(i({},e),{},{slug:e.slug?e.slug:e.url_name?e.url_name.includes(":")?e.url_name.split(":")[1]:e.url_name:""})}}),w=new n.fK.Entity(u.invite,{invited_by_user:c,invited_user:c,board:d},{idAttribute:function(e){return"".concat(e.board.id,":").concat(e.invited_user.id)}}),E=function(e){switch(e.type){case"aggregatedcomment":return"aggregatedComment";case"conversationMessage":return"conversationMessage";case"explorearticle":return"article";case"news":return"notification";case"interest":return"topic";case"userdiditdata":return"triedit";case"board_section":return"boardsection";case"klp_featured_data":return"topic";case"todayarticle":return"todayArticle";default:return e.type}},O=new n.fK.Union({user:c,board:d,invite:w,pin:f,topic:_,triedit:P},E),R=new n.fK.Entity(u.notification,{content_items:[{content_object:O}],header_icon_objects:[O]}),T=new n.fK.Array(w),D=new n.fK.Array(c),I=new n.fK.Array(d),A=new n.fK.Array({aggregatedComment:s,article:l,board:d,boardsection:m,contactrequest:v,conversationMessage:b,notification:R,pin:f,story:g,todayArticle:S,topic:_,triedit:P,user:c},E,(function(e){switch(e.type){case"collaboratorinvite":return e.board.id;case"category":return"key";default:return"id"}}));g.define({objects:A})},422946:function(e,t,r){"use strict";r.d(t,{DV:function(){return v},J:function(){return w}});var n=r(59644),o=r(932995),i=r(483025),a=r(998651),u=r(648284),c=r(819063),s=r(338739);function l(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==r)return;var n,o,i=[],a=!0,u=!1;try{for(r=r.call(e);!(a=(n=r.next()).done)&&(i.push(n.value),!t||i.length!==t);a=!0);}catch(c){u=!0,o=c}finally{try{a||null==r.return||r.return()}finally{if(u)throw o}}return i}(e,t)||p(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function d(e){return(d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function f(e){return function(e){if(Array.isArray(e))return y(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||p(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function p(e,t){if(e){if("string"==typeof e)return y(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?y(e,t):void 0}}function y(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function m(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function b(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?m(Object(r),!0).forEach((function(t){h(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):m(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function h(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var v={AGGREGATED_COMMENTS:"aggregatedComments",AGGREGATED_COMMENT_REPLIES:"aggregated-comment-replies",BOARDFEED:"boardfeed",BOARDLESS_PINS:"boardlessPins",BOARD_SECTIONS:"boardSections",BOARD_SECTION_PINS:"board-section-pins",CALL_TO_CREATE_RESPONSES_FEED:"callToCreateResponsesFeed",STORY_PINS_FEED:"story-pins-feed",PROFILE_PINS_FEED:"profile-pins-feed",PROFILE_BOARDS:"profileBoards",SEARCH_PINS:"searchPins",STORY_PIN_DATA:"storyPinData",TODAY_ARTICLE_INTEREST_FEED:"todayArticleInterestFeed",TODAY_TAB:"todayTabFeed",UNIFIED_COMMENTS:"unified-comments",TRIED_IT_FEED:"trieditfeed"},g=new Set(["PinResource","RepinResource"]),P={ApiResource:function(e){return"/v3/orientation/nux_creator_recommendations/"===(null==e?void 0:e.url)?"nux-creator-recommendations":null!=e&&e.url.match(/\/v3\/call_to_create_pins\/([0-9]|[a-z]|[A-Z])+\/pins\//)?"call-to-create-pins:".concat(e.pin_id):"/v3/users/me/interests/"===(null==e?void 0:e.url)?"recommended-interests:".concat(null===(t=e.data)||void 0===t?void 0:t.blend_type):"";var t},AggregatedActivityFeedResource:function(e){return"trieditfeed:".concat(e.aggregated_pin_data_id)},AggregatedCommentFeedResource:function(e){return"aggregated-comments:".concat(e.objectId)},AggregatedCommentReplyFeedResource:function(e){return"".concat(v.AGGREGATED_COMMENT_REPLIES,":").concat(e.objectId)},BoardlessPinsResource:function(e){return"boardless-pins:".concat(e.userId)},BestPinsFeedAltResource:function(e){return"idea-page-best-pins:".concat(e.interest)},BoardArchiveResource:function(e){return"archived-boards"},BoardCollaboratorsResource:function(e){return"board-collaborators:".concat(e.board_id)},BoardContentRecommendationResource:function(e){return"recommendation-feed:".concat(e.id)},BoardFeedResource:function(e){return"boardfeed:".concat(e.board_id)},BoardSectionsRepinResource:function(e){return"board-sections:".concat(e.board_id)},BoardSectionsResource:function(e){return"board-sections:".concat(e.board_id)},BoardSectionPinsResource:function(e){return"board-section-pins:".concat(e.section_id)},BoardsFeedResource:function(e){return"profile-boards:".concat(e.username)},BoardToolsFeedResource:function(e){return"board-tools:".concat(e.boardId)},ConversationsResource:function(e){return"conversations"},DidItLikedByResource:function(e){return"triedit-likes:".concat(e.didItDataId)},DidItUserFeedResource:function(e){return"profile-tried:".concat(e.username)},ExploreArticleBlockSearchResource:function(e){return"explore-search:".concat(e.article_id,":").concat(e.block_id)},ExploreArticleBlockUserResource:function(e){return"explore-user:".concat(e.article_id,":").concat(e.block_id)},ExploreArticleBlockPinResource:function(e){return"explore-pin:".concat(e.article_id,":").concat(e.block_id)},ExploreArticleBlockUserDidItDataResource:function(e){return"explore-did_it:".concat(e.article_id,":").concat(e.block_id)},ExploreArticleResource:function(e){var t=e.response;if(!t)return"";var r="explore_tab_pin".length,n=t.resource_response.data,o=(n?n.objects[0]:{story_type:""}).story_type;return"explore-".concat(o.slice(r),":").concat(n.id)},FollowingFeedResource:function(){return"following"},HolidaySpotlightRelatedFeedResource:function(e){return"holiday-spotlight-related:".concat(e.storyType)},HolidaySpotlightResource:function(e){return"holiday-spotlight:".concat(e.storyType)},InterestResource:function(e){return"klp-pins:".concat(e.interest)},MoreIdeasTabsBoardsResource:function(){return"homefeed-more-ideas-tabs"},NewsHubResource:function(){return"notifications"},NewsHubDetailsResource:function(e){return"newshubdetail:".concat(e.news_id)},NuxInterestsResource:function(e){return"nuxTopics"},PinsFromBrandResource:function(e){return"brand-pins:".concat(e.pin)},ReactionsResource:function(e){return"reactions:".concat(e.pin_id)},RelatedArticlesResource:function(e){return"related-articles:".concat(e.article_id)},RelatedModulesResource:function(e){return"related-modules:".concat(e.pin_id)},RelatedPinFeedResource:function(e){return"related-pins:".concat(e.pin)},RelatedProductFeedResource:function(e){return"pin"===e.shop_source?"closeup-related-products:".concat(e.pin):"related-products:".concat(e.pin)},RelatedStreamResource:function(e){return"related-story-pins:".concat(e.pinId)},SearchResource:function(e){var t="search:".concat(e.scope,":").concat(e.query,":").concat(e.filters||"",":").concat(e.article||"");return e.auto_correction_disabled?"".concat(t,":auto-correction-disabled"):t},BaseSearchResource:function(e){var t="search:".concat(e.scope,":").concat(e.query,":").concat(e.filters||"",":").concat(e.appliedProductFilters,":").concat(e.article||"");return e.auto_correction_disabled?"".concat(t,":auto-correction-disabled"):t},SectionToolsFeedResource:function(e){return"section-tools:".concat(e.sectionId)},ShareSuggestionsTypeaheadResource:function(e){return"share-suggestions:".concat(e.board||e.user,":").concat(e.term)},ShoppingFeedModularizedResource:function(e){return e.saved_products_only?"board-shop-saved:".concat(e.board_id):"board-shop-related:".concat(e.board_id)},StoryFeedResource:function(e){return"story-feed:".concat(e.feed_type,":").concat(e.request_params)},SuggestedCreatorFollowsResource:function(){return"suggested-creator-follows"},StoryPinTaggedProductsResource:function(){return"story-pin-tagged-products"},TodayArticleFeedResource:function(e){return"today-article:".concat(e.id)},IdeasHubTodayArticlesResource:function(e){return"today-article:".concat(e.interest_id)},TodayTabInterestFeedResource:function(e){return"today-article-interestfeed:".concat(e.interest_id)},TodayTabResource:function(){return"today-tab"},SeoTier1CandidateResource:function(){return"tier1-feed"},UnifiedCommentsResource:function(e){return"unified-comments:".concat(e.aggregated_pin_id)},UserActivityPinsResource:function(e){return"profile-pins-feed:".concat(e.user_id)},UserHomefeedResource:function(e){return e.pin_quiz?"pin-quiz":"homefeed"},UserFollowingResource:function(e){return"user-following:".concat(e.username)},UserRecentActivityResource:function(){return"user-recent-activity"},UserSimilarBusinessesResource:function(e){return"user-similar-business:".concat(e.username)},UserStoryPinsFeedResource:function(e){return"story-pins-feed:".concat(e.user_id)},VideosFeedResource:function(e){return"videos-feed"},VisualLiveSearchResource:function(e){return"visual-search:".concat(e.pin_id,":").concat(e.crop.x).concat(e.crop.y).concat(e.crop.w).concat(e.crop.h)},VisualLiveSearchProductFeedResource:function(e){return"visual-search-products:".concat(e.pin_id,":").concat(e.crop.x).concat(e.crop.y).concat(e.crop.w).concat(e.crop.h)},VisualSearchFlashlightUnifiedResource:function(e){return"related-products-unified:".concat(e.pin_id)},BoardFollowingResource:function(e){return"board-following:".concat(e.username)},InterestFollowingResource:function(e){return"topic-following:".concat(e.username)},UserPinsResource:function(e){return"profile-pins:".concat(e.username)},TopicFeedResource:function(e){return e.best_pins?"best-topic-pins:".concat(e.interest):"topic-pins:".concat(e.interest)}},S={ApiResource:function(e){var t=e.options;return null!=t&&t.url.match(/\/v3\/call_to_create_pins\/([0-9]|[a-z]|[A-Z])+\/pins\//)?{type:v.CALL_TO_CREATE_RESPONSES_FEED,id:t.pin_id}:null},AggregatedActivityFeedResource:function(e){var t=e.options.aggregated_pin_data_id;return{type:v.TRIED_IT_FEED,id:t}},AggregatedCommentFeedResource:function(e){var t=e.options.objectId;return{type:v.AGGREGATED_COMMENTS,id:t}},AggregatedCommentReplyFeedResource:function(e){var t=e.options,r=t.isUnifiedComment,n=t.objectId;return{type:r?v.AGGREGATED_COMMENT_REPLIES:v.AGGREGATED_COMMENTS,id:n,reversed:!0}},BoardFeedResource:function(e){var t=e.options.board_id;return{type:v.BOARDFEED,id:t}},BoardlessPinsResource:function(e){var t=e.options.userId;return{type:v.BOARDLESS_PINS,id:t}},BoardSectionPinsResource:function(e){var t=e.options.section_id;return{type:v.BOARD_SECTION_PINS,id:t}},BoardSectionsResource:function(e){var t=e.options.board_id;return{type:v.BOARD_SECTIONS,id:t}},BoardsResource:function(e){var t=e.options,r=t.username,o=t.sort;return{type:v.PROFILE_BOARDS,id:(0,n.Z)(r,o)}},BaseSearchResource:function(e){var t,r=e.options,n=r.auto_correction_disabled,o=r.appliedProductFilters,i=r.scope,c=r.filters,s=r.query_pin_sigs,l=r.query,d=r.user,f=e.response;return{type:v.SEARCH_PINS,id:(0,u.Tb)({appliedProductFilters:o,autoCorrectionDisabled:n,filters:c,query:l,selectedPinImgSig:s,scope:i,user:d}),items:null!==(t=f.resource_response.data)&&void 0!==t&&t.results?(0,a.LM)(f.resource_response.data.results).filteredResults:[]}},DidItCommentsResource:function(e){var t=e.options.objectId;return{type:v.AGGREGATED_COMMENTS,id:t,reversed:!0}},DidItUserFeedResource:function(e){var t=e.options.username;return{type:v.TRIED_IT_FEED,id:t}},IdeasHubTodayArticlesResource:function(e){var t=e.options.interest_id;return{type:v.TODAY_TAB,id:t}},RelatedArticlesResource:function(e){var t=e.options.article_id;return{type:v.TODAY_TAB,id:t}},StoryPinDraftsResource:function(e){var t=e.options.userId;return{type:v.STORY_PIN_DATA,id:t}},TodayTabInterestFeedResource:function(e){var t=e.options.interest_id;return{type:v.TODAY_ARTICLE_INTEREST_FEED,id:t}},TodayTabResource:function(){return{type:v.TODAY_TAB,id:"todayTab"}},UnifiedCommentsPreviewResource:function(e){var t=e.options.aggregated_pin_id;return{type:v.UNIFIED_COMMENTS,id:t}},UnifiedCommentsResource:function(e){var t=e.options,r=t.aggregated_pin_id,n=t.is_reversed;return{type:v.UNIFIED_COMMENTS,id:r,reversed:n}},UserActivityPinsResource:function(e){var t=e.options.user_id;return{type:v.PROFILE_PINS_FEED,id:t}},UserStoryPinsFeedResource:function(e){var t=e.response,r=e.options.user_id;return{type:v.STORY_PINS_FEED,id:r,items:t.resource_response.data||[]}}},_=function(e,t){var r=t.pinId,n=t.oldFeedId,o=t.newFeedId;return n===o?e:function(e,t){var r=t.pinId,n=t.feedId;return e[n]?b(b({},e),{},h({},n,[{type:"pin",id:r}].concat(f(e[n])))):e}(function(e,t){var r=t.pinId,n=t.feedId;return e[n]?b(b({},e),{},h({},n,e[n].filter((function(e){return!("pin"===e.type&&e.id===r)})))):e}(e,{pinId:r,feedId:n}),{pinId:r,feedId:o})},w=function(e,t){return e in P?P[e](t):null},E=function(e,t){switch(e.type){case"story":return{id:e.id,type:"story",story_type:e.story_type};case"module":return{id:e.id,type:"module",name:e.name};case"user":return{id:e.id,type:"user"};case"board":return t===v.PROFILE_BOARDS?{id:e.id,type:"board",onProfile:!0,profileGroup:e.archived_by_me_at?"archived":e.privacy||"public"}:{id:e.id,type:"board",onProfile:!1};case"board_section":return{type:"board_section",id:e.id};case"triedit":return{type:"triedit",id:e.id};case"aggregatedcomment":return{type:"aggregatedcomment",id:e.id};case"home_feed_tab":return{type:"home_feed_tab",id:e.id,name:e.name};case"storypindata":return{id:e.id,type:"storypindata"};case"todayarticle":return{type:"todayarticle",id:e.id};case"unifiedcommentspreview":return"userdiditdata"===e.unified_comment.type?{type:"triedit",id:e.unified_comment.id}:{type:"aggregatedcomment",id:e.unified_comment.id};default:return{type:"pin",id:e.id}}},O=function(e,t){return t?"board-section-pins:".concat(t):"boardfeed:".concat(e)},R=function(e,t,r){var n=r||i.Z[e];if(n===c.LR)return t.result;if(n===c.sN)return t.result.map((function(e){return{id:e,schema:"board"}}));if(n===c.Gn)return t.result.map((function(e){return{id:e,schema:"user"}}));if(n===c.Ht)return t.result.map((function(e){return{id:e,schema:"invite"}}));if(n===c.fE)return t.result.map((function(e){return{id:e,schema:"reaction"}}));if("object"===d(n)){var o=Object.entries(n).find((function(e){var t=l(e,2);t[0];return t[1]===c.LR}));if(o)return t.result[o[0]]}return null},T=function(e,t){return e.map((function(e){var r=e.id,n=e.schema;return n?{id:r,type:n,trackingParams:"pin"===n?t.pins[r].tracking_params:void 0,user_id:void 0}:null})).filter(Boolean)},D=function(e,t,r){return Object.keys(e).reduce((function(n,o){var i=e[o]||[],a=i.filter((function(e){return!(e.type===t&&e.id===r)}));return i.length!==a.length&&(n[o]=a),n}),b({},e))};t.ZP=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case s.zP:case s.aW:var r=t.payload,n=r.resource,i=r.options,a=r.normalizedResponse,u=r.schema;if(a&&n in P){var c=R(n,a,u);if(c&&Array.isArray(c)){var l=P[n](i);if("ShoppingFeedModularizedResource"===n){var d,p=null!=i?i:{},y=p.board_id,m=p.saved_products_only,w="board-shop-related:".concat(y),I="board-shop-saved:".concat(y),A="board-shop-saved-preview:".concat(y),j=f(e[w]||[]),C=f(e[I]||[]),k=f(e[A]||[]),x=T(c,a.entities);return x.forEach((function(e){var t;m?C.push(e):a.entities.pins&&(null===(t=a.entities.pins[e.id])||void 0===t?void 0:t.board)===y?k.push(e):j.push(e)})),b(b({},e),{},(h(d={},w,j),h(d,I,C),h(d,A,k),d))}if("BoardToolsFeedResource"===n||"SectionToolsFeedResource"===n)return b(b({},e),{},h({},l,c));var L=(t.type===s.aW&&e[l]||[]).concat(T(c,a.entities));return b(b({},e),{},h({},l,L))}}else{var M,F=r.response.resource_response.data;if(null===(M=r.options)||void 0===M||!M.redux_normalize_feed)return e;var N=S[r.resource](r);if(N){var U=N.type,V=N.id,B=N.items,G=N.reversed,H=(B||F||[]).map((function(e){return E(e,U)}));G&&(H=H.reverse());var Z="".concat(U,":").concat(V),W=e[Z];if(W||t.type!==s.aW){var z=W||[],K=H;return t.type===s.aW&&(K=G?H.concat(z):z.concat(H)),b(b({},e),{},h({},Z,K))}}}break;case"FEED_ITEM_REORDERED":var q=t.payload,Y=q.feedType,$=q.feedId,X=q.itemType,J=q.targetItemId,Q=q.sourceItemId,ee="".concat(Y,":").concat($),te=e[ee]||[],re=-1,ne=-1;if([v.BOARDFEED,v.BOARD_SECTION_PINS,v.BOARD_SECTIONS,"profileBoards"].includes(Y)&&(re=te.findIndex((function(e){return e.type===X&&e.id===Q})),ne=te.findIndex((function(e){return e.type===X&&e.id===J}))),-1!==re&&-1!==ne)return b(b({},e),{},h({},ee,(0,o.Z)(te,re,ne)));break;case"FEED_ITEMS_REMOVED":var oe=t.payload,ie=oe.feedType,ae=oe.feedId,ue=oe.inverseSelection,ce=oe.itemType,se=oe.itemIds,le=void 0===se?[]:se,de="".concat(ie,":").concat(ae),fe=e[de]||[];if(fe&&fe.length>0&&(ie===v.BOARD_SECTION_PINS||ie===v.BOARDFEED)){var pe=fe.filter((function(e){var t=le.includes(e.id);return!(e.type===ce&&(ue&&!t||!ue&&t))})),ye=!!pe.find((function(e){return"pin"===e.type}));return b(b({},e),{},h({},de,ye?pe:[]))}if(fe&&fe.length>0&&ie===v.BOARD_SECTIONS){var me=fe.filter((function(e){var t=le.includes(e.id);return!(e.type===ce&&t)}));return b(b({},e),{},h({},de,me))}if(fe&&fe.length>0&&(ie===v.AGGREGATED_COMMENTS||ie===v.BOARDLESS_PINS||ie===v.PROFILE_PINS_FEED||ie===v.STORY_PINS_FEED||ie===v.UNIFIED_COMMENTS||ie===v.TRIED_IT_FEED||ie===v.STORY_PIN_DATA)){var be=fe.filter((function(e){var t=le.includes(e.id);return!(e.type===ce&&t)}));return b(b({},e),{},h({},de,be))}break;case"FEED_ITEMS_ADDED":var he=t.payload,ve=he.feedType,ge=he.feedId,Pe=he.itemType,Se=he.itemIds,_e=void 0===Se?[]:Se,we=he.prepend,Ee="".concat(ve,":").concat(ge),Oe=e[Ee]||[];if(Oe&&(ve===v.BOARD_SECTION_PINS||ve===v.BOARDFEED||ve===v.BOARDLESS_PINS)){var Re=_e.map((function(e){return{id:e,type:Pe}})),Te=0;"story"===(Oe[0]||{}).type&&(Te=1),"story"===(Oe[1]||{}).type&&(Te=2);var De=[].concat(f(Oe.slice(0,Te)),f(Re),f(Oe.slice(Te)));return b(b({},e),{},h({},Ee,De))}if(Oe&&ve===v.BOARD_SECTIONS){var Ie=f(_e).reverse().map((function(e){return{id:e,type:"board_section"}})),Ae=Oe?[].concat(f(Ie),f(Oe)):f(Ie);return b(b({},e),{},h({},Ee,Ae))}if(ve===v.AGGREGATED_COMMENTS||ve===v.AGGREGATED_COMMENT_REPLIES||ve===v.PROFILE_PINS_FEED||ve===v.STORY_PINS_FEED||ve===v.UNIFIED_COMMENTS){var je=_e.map((function(e){return{id:e,type:Pe}})),Ce=Oe?[].concat(f(we?je:Oe),f(we?Oe:je)):je;return b(b({},e),{},h({},Ee,Ce))}if(ve===v.TRIED_IT_FEED){var ke=_e.map((function(e){return{id:e,type:Pe}})),xe=Oe?[].concat(f(ke),f(Oe)):ke;return b(b({},e),{},h({},Ee,xe))}break;case"FEED_INVALIDATE":var Le=t.payload,Me=Le.feedType,Fe=Le.feedId,Ne="".concat(Me,":").concat(Fe),Ue=e[Ne]||[];if(Ue)return b(b({},e),{},h({},Ne,null));break;case"APPEND_FEED_ITEMS":var Ve,Be=t.payload,Ge=Be.id,He=Be.items,Ze=Be.options,We=e[Ge];return We?(Ve=Ze.isPrepend?We[0]&&"story"===We[0].type?[].concat(We[0],He,We.slice(1)):He.concat(We):We.concat(He),b(b({},e),{},h({},Ge,Ve))):b(b({},e),{},h({},Ge,He));case"PIN_DELETE":var ze=t.payload.pinId;return D(e,"pin",ze);case"BOARD_ARCHIVE":var Ke=t.payload,qe=Ke.boardId,Ye=Ke.username,$e="profile-boards:".concat(null!=Ye?Ye:"");if(e[$e])return b(b({},e),{},h({},$e,e[$e].filter((function(e){return e.id!==qe}))));break;case"BOARD_UNARCHIVE":var Xe=t.payload.boardId,Je="archived-boards";if(e[Je])return b(b({},e),{},h({},Je,e[Je].filter((function(e){return e.id!==Xe}))));break;case"BOARD_DELETE":var Qe=t.payload.boardId;return D(e,"board",Qe);case"BOARD_SECTION_DELETE":var et=t.payload.boardSectionId;return D(e,"boardsection",et);case"PINS_MOVE":var tt=t.payload,rt=tt.source,nt=tt.target,ot=tt.pinIds,it=tt.userId,at=rt.boardlessPins&&it&&"boardless-pins:".concat(it)||rt.boardId&&O(rt.boardId,rt.sectionId),ut=O(nt.boardId,nt.sectionId);return ot.reduce((function(e,t){return _(e,{pinId:t,oldFeedId:at,newFeedId:ut})}),e);case"PINS_MOVE_ALL":var ct=t.payload,st=ct.source,lt=ct.target,dt=ct.excludePinIds,ft=O(st.boardId,st.sectionId),pt=O(lt.boardId,lt.sectionId),yt=b(b({},e),{},h({},ft,dt.map((function(e){return{type:"pin",id:e}}))));return delete yt[pt],yt;case"PIN_EDIT":var mt=t.payload,bt=mt.pinId,ht=mt.boardId,vt=mt.section,gt=mt.source,Pt=gt.boardId,St=gt.sectionId,_t=O(Pt,St),wt=O(ht,null==vt?void 0:vt.id);return _(e,{pinId:bt,oldFeedId:_t,newFeedId:wt});case s.AF:if(g.has(t.payload.resource)){var Et,Ot=t.payload.response.resource_response.data,Rt=Ot.board;if("quick_saves"===Rt.layout)Et="boardless-pins:".concat(t.payload.options.user_id);else{var Tt=t.payload.options.section;Et=Tt?"board-section-pins:".concat(Tt):"boardfeed:".concat(Rt.id)}if(e[Et]){var Dt=b({},e),It={id:Ot.id,type:"pin",trackingParams:null==Ot?void 0:Ot.tracking_params};return Dt[Et]=[It].concat(e[Et]),Dt}}if("BoardSectionResource"===t.payload.resource&&t.payload.normalizedResponse){var At=t.payload.normalizedResponse.result,jt=t.payload.normalizedResponse.entities.boardsections[At].board,Ct="board-sections:".concat(jt);if(e[Ct]){var kt=b({},e),xt={id:At,type:"boardsection"};return kt[Ct]=[xt].concat(e[Ct]),kt}}if("AggregatedCommentResource"===t.payload.resource&&t.payload.normalizedResponse){for(var Lt=t.payload.normalizedResponse.result,Mt={id:Lt,type:"aggregatedcomment"},Ft=["aggregated-comments","unified-comments"],Nt=b({},e),Ut=0,Vt=Ft;Ut<Vt.length;Ut++){var Bt=Vt[Ut],Gt="".concat(Bt,":").concat(t.payload.options.objectId);e[Gt]&&(Nt=b(b({},Nt),{},h({},Gt,[Mt].concat(Nt[Gt]))))}return Nt}if("AggregatedCommentReplyResource"===t.payload.resource&&t.payload.normalizedResponse){var Ht="".concat(v.AGGREGATED_COMMENT_REPLIES,":").concat(t.payload.options.objectId);return b(b({},e),{},h({},Ht,[].concat(f(e[Ht]||[]),[{id:t.payload.normalizedResponse.result,type:"aggregatedComment"}])))}if("ReactionsResource"===t.payload.resource&&t.payload.normalizedResponse){var Zt=t.payload.options.reaction_pin_id;if("reaction"===t.payload.options.action_type){var Wt="reactions:".concat(t.payload.options.pin_id),zt=b({},e),Kt={id:"".concat(Zt,":").concat(t.payload.options.user_id),type:"reaction",trackingParams:void 0};return zt[Wt]=[Kt].concat(e[Wt]),zt}if("unreaction"===t.payload.options.action_type){var qt="".concat(Zt,":").concat(t.payload.options.user_id);return D(e,"reaction",qt)}}break;case"COMPLETE_STORY":var Yt=t.payload.storyId;return D(e,"story",Yt)}return e}},750869:function(e,t,r){"use strict";r.d(t,{d:function(){return n}});var n={BOARD:"board",PIN:"pin",DID_IT:"did_it",PINNER:"pinner",USER:"user",TODAY_ARTICLE:"today_article"}},926749:function(e,t,r){"use strict";r.d(t,{ZP:function(){return B}});var n=r(76911),o=r(664229),i=r.n(o),a=r(722767),u=["eventData","component","objectId","view","viewParameter"];function c(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function s(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?c(Object(r),!0).forEach((function(t){l(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):c(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function l(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function d(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}var f=r(121630),p=r(944546),y=r(407043),m=r(158103),b=r(908390),h=r(515198);function v(e){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var g=["height","width","windowHeight","windowWidth","viewability"];function P(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}function S(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function _(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?S(Object(r),!0).forEach((function(t){I(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):S(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function w(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function E(e,t){return(E=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function O(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=D(e);if(t){var o=D(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return R(this,r)}}function R(e,t){if(t&&("object"===v(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return T(e)}function T(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function D(e){return(D=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function I(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function A(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"==typeof e)return j(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return j(e,t)}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,u=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return a=e.done,e},e:function(e){u=!0,i=e},f:function(){try{a||null==r.return||r.return()}finally{if(u)throw i}}}}function j(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var C=[0,.25,.5,.75,.95,.97],k=[0,.5,.8,.99,1],x="-64px 0px 0px 0px",L={rootMargin:x,threshold:k},M={rootMargin:x,threshold:p.iM},F=Object.freeze({LOADING:0,PLAYING:1,PAUSED:2,STALLING:3});function N(){return(new Date).getTime()}function U(e){return!!e.volume&&e.volume>0}var V=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&E(e,t)}(l,e);var t,r,o,c=O(l);function l(e){var t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,l),I(T(t=c.call(this,e)),"videoWrapperRef",(0,n.createRef)()),I(T(t),"handleWindowResize",(function(){if(!t.fullscreen){var e=t.getDimensions(),r=t.currentInterval,n=r.height,o=r.width;e.height!==n||e.width!==o?t.startNewInterval(e):(t.currentInterval.windowHeight=e.windowHeight,t.currentInterval.windowWidth=e.windowWidth)}})),I(T(t),"handlePlayheadDown",(function(e){var r=e.event,n=t.props.onPlayheadDown;t.setState({seeking:!0}),n&&n({event:r})})),I(T(t),"handlePlayheadUp",(function(e){var r=e.event,n=t.props.onPlayheadUp;t.setState({seeking:!1}),n&&n({event:r})})),I(T(t),"handleLoop",(function(){t.videoTime=0})),I(T(t),"handleTimeChange",(function(e){var r=t.state,n=r.seeking,o=r.ready;if(t.currentInterval.videoDuration){var i=1e3*e.time,a=function(e,t,r,n){if(e>t)return null;if(r<=0)return null;var o,i=A(n);try{for(i.s();!(o=i.n()).done;){var a=o.value,u=a*r;if(e<=u&&t>u)return a}}catch(c){i.e(c)}finally{i.f()}return null}(t.videoTime,i,t.currentInterval.videoDuration,C);if("number"==typeof a&&t.props.playing&&!n&&o){var u=N();t.logVideoEvent(6906,_(_({},t.currentInterval),{},{startTime:u,endTime:u,videoStartTime:0,videoEndTime:0,quartile:Math.floor(4*a),quartilePercentValue:a}))}t.videoTime=i,t.props.onTimeChange&&t.props.onTimeChange(e)}})),I(T(t),"handleDurationChange",(function(e){t.currentInterval.videoDuration=1e3*e.duration,t.props.onDurationChange&&t.props.onDurationChange(e)})),I(T(t),"handleReady",(function(e){t.state.ready||t.setState({ready:!0}),t.props.onReady&&t.props.onReady(e)})),I(T(t),"handleEnded",(function(e){t.logFourthQuartileEvent(),t.props.loop&&(t.startNewInterval(),t.currentInterval.videoStartTime=0),t.props.onEnded&&t.props.onEnded(e)})),I(T(t),"handleVisibilityChange",(function(e,r){if(0!==e.length){var n=e.slice(-1)[0],o=function(e,t){for(var r=0;r<t.length;r+=1){var n=t[r],o=t[r+1];if(null==o)return n;if(n<=e&&e<o)return n}return null}(Number.parseFloat(n.intersectionRatio.toFixed(2)),k);"number"==typeof o&&(t.visible=o>=.5),null==o||o===t.currentInterval.viewability||t.fullscreen||(0===o?t.startNewInterval({viewability:o,playbackState:F.PAUSED}):t.startNewInterval({viewability:o}))}})),I(T(t),"handleFullscreenChange",(function(e){var r=e.event,n=e.fullscreen;if(n){var o=window.screen,i=o.height,a=o.width;t.startNewInterval({height:i,width:a,windowHeight:i,windowWidth:a})}else n||t.startNewInterval(t.getDimensions());t.fullscreen=n,t.props.onFullscreenChange&&t.props.onFullscreenChange({event:r,fullscreen:n})})),I(T(t),"handleClose",(function(){t.startNewInterval()})),I(T(t),"handleContextMenu",(function(e){e.preventDefault()})),t.state={ready:!1,seeking:!1};var r=N();return t.handleWindowResize=i()(t.handleWindowResize,1e3),t.currentInterval={videoDuration:0,startTime:r,endTime:r,videoStartTime:0,videoEndTime:0,isAudible:U(e),playbackState:t.getPlaybackState(e,t.state),quartile:-1,quartilePercentValue:0,height:null,width:null,windowHeight:null,windowWidth:null,viewability:null},t.videoTime=0,t.fullscreen=!1,t.visible=null,t}return t=l,(r=[{key:"componentDidMount",value:function(){this.currentInterval=_(_({},this.currentInterval),this.getDimensions()),window.addEventListener("resize",this.handleWindowResize),window.addEventListener("beforeunload",this.handleClose)}},{key:"componentDidUpdate",value:function(e,t){var r={};U(e)&&!U(this.props)?r.isAudible=!1:!U(e)&&U(this.props)&&(r.isAudible=!0);var n=this.getPlaybackState(this.props,this.state);this.getPlaybackState(e,t)!==n&&(r.playbackState=n),Object.keys(r).length>0&&this.startNewInterval(r)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.handleWindowResize),window.removeEventListener("beforeunload",this.handleClose),this.startNewInterval()}},{key:"getPlaybackState",value:function(e,t){return t.ready?e.playing&&!t.seeking?F.PLAYING:F.PAUSED:F.LOADING}},{key:"getDimensions",value:function(){var e,t;if(this.videoWrapperRef.current){var r=this.videoWrapperRef.current;r.clientHeight&&r.clientWidth&&(e=r.clientHeight,t=r.clientWidth)}return{height:e,width:t,windowHeight:window.innerHeight,windowWidth:window.innerWidth}}},{key:"logVideoEvent",value:function(e,t){var r=this.props,n=r.closeupStoryPinViewability,o=r.contextLogData,i=r.logContextEvent,a=t.height,c=t.width,l=t.windowHeight,f=t.windowWidth,p=t.viewability,y=P(t,g);if(null!=a&&null!=c&&null!=l&&null!=f&&null!=p){var m=n||p,b=_(_({},y),{},{height:a,width:c,windowHeight:l,windowWidth:f,viewability:m});i(_({event_type:e},function(e){var t=e.eventData.videoEvent,r=t.videoDuration,n=t.startTime,o=t.endTime,i=t.videoStartTime,a=t.videoEndTime,c=t.isAudible,l=t.height,f=t.width,p=t.playbackState,y=t.quartile,m=t.quartilePercentValue,b=t.windowHeight,h=t.windowWidth,v=t.viewability;return{component:e.component,object_id_str:e.objectId,view_type:e.view,view_parameter:e.viewParameter,aux_data:s({},d(e,u)),event_data:{videoEventData:{videoDuration:r,time:n,endTime:o,videoTime:i,endVideoTime:a,isAudible:c,height:l,width:f,playbackState:p,quartile:y,quartilePercentValue:m,windowHeight:b,windowWidth:h,viewability:v}}}}(_(_({},o),{},{view:this.fullscreen?108:o.view,eventData:{videoEvent:b}}))))}}},{key:"logFourthQuartileEvent",value:function(){var e=N();this.logVideoEvent(6906,_(_({},this.currentInterval),{},{startTime:e,endTime:e,videoStartTime:0,videoEndTime:0,quartile:4,quartilePercentValue:1}))}},{key:"startNewInterval",value:function(e){var t=N();this.logVideoEvent(6904,_(_({},this.currentInterval),{},{endTime:t,videoEndTime:this.videoTime})),this.currentInterval=_(_(_({},this.currentInterval),e),{},{startTime:t,videoStartTime:this.videoTime,endTime:-1,videoEndTime:-1})}},{key:"render",value:function(){var e=this.props,t=e.accessibilityMaximizeLabel,r=e.accessibilityMinimizeLabel,n=e.accessibilityMuteLabel,o=e.accessibilityPauseLabel,i=e.accessibilityPlayLabel,u=e.accessibilityProgressBarLabel,c=e.accessibilityUnmuteLabel,s=e.aspectRatio,l=e.backgroundColor,d=e.captions,p=e.contextLogData,y=e.controls,v=e.cropHeight,g=e.hlsConfig,P=e.inAdsDesktopVideoExperiment,S=e.isAutoPlay,_=e.loop,w=e.objectFit,E=e.onLoadedChange,O=e.onControlsPause,R=e.onControlsPlay,T=e.onSeek,D=e.onVolumeChange,I=e.playbackRate,A=e.playing,j=e.playsInline,C=e.poster,k=e.preload,x=e.rootMargin,F=e.src,N=e.surface,U=e.videoStartTime,V=e.volume,B=this.state.seeking,G=P?M:L;return void 0!==x&&(G.rootMargin=N?(0,f.e)(N):x),(0,h.jsx)(a.Z,{options:G,onVisibilityChange:this.handleVisibilityChange,children:(0,h.jsx)(b.xu,{ref:this.videoWrapperRef,onContextMenu:this.handleContextMenu,dangerouslySetInlineStyle:{__style:v?{display:"flex",alignItems:"center",height:"".concat(v,"px")}:{}},children:(0,h.jsx)(m.default,{accessibilityMaximizeLabel:t,accessibilityMinimizeLabel:r,accessibilityMuteLabel:n,accessibilityPauseLabel:o,accessibilityPlayLabel:i,accessibilityProgressBarLabel:u,accessibilityUnmuteLabel:c,aspectRatio:v?236/v:s,backgroundColor:l,captions:d,contextLogData:p,controls:y,hlsConfig:g,isAutoPlay:S,loop:_,objectFit:w,onDurationChange:this.handleDurationChange,onEnded:this.handleEnded,onFullscreenChange:this.handleFullscreenChange,onLoadedChange:E,onLoop:this.handleLoop,onControlsPause:O,onControlsPlay:R,onPlayheadDown:this.handlePlayheadDown,onPlayheadUp:this.handlePlayheadUp,onReady:this.handleReady,onSeek:T,onTimeChange:this.handleTimeChange,onVolumeChange:D,playbackRate:I,playing:!B&&A,onPlay:function(){},onPlayError:function(){},playsInline:j,poster:C,preload:k,src:F,videoStartTime:U,visible:this.visible,volume:V})})})}}])&&w(t.prototype,r),o&&w(t,o),l}(n.Component);function B(e){var t=(0,y.v)().logContextEvent;return(0,h.jsx)(V,_(_({},e),{},{logContextEvent:t}))}I(V,"defaultProps",b.nk.defaultProps)},158103:function(e,t,r){"use strict";r.r(t),r.d(t,{VideoWrapper:function(){return H},default:function(){return Z},getPlaylistSourceSrc:function(){return G}});var n=r(76911),o=r(19121),i=r(965900),a=r(407043),u=r(773285),c=r(226347),s=r(780280),l=r(908390),d=r(969315),f=r(179888),p=r(515198),y=["view","viewParameter","component","element","objectId"];function m(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}function b(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function h(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?b(Object(r),!0).forEach((function(t){O(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):b(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function v(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function g(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function P(e,t){return(P=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function S(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=E(e);if(t){var o=E(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return _(this,r)}}function _(e,t){if(t&&("object"===R(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return w(e)}function w(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function E(e){return(E=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function O(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function R(e){return(R="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function T(e,t){if(!e||void 0===e)return"undefined";if("string"==typeof e){var r=e;if(t){var n="control"===t?"v3.pinimg.com":"v2.pinimg.com";r=e.replace("v.pinimg.com",n)}return r}if(Array.isArray(e)&&e[0].src){var o=e[0].src;if(t){var i="control"===t?"v3.pinimg.com":"v2.pinimg.com";o=o.replace("v.pinimg.com",i)}return o}return"unsupported_type_".concat(R(e))}var D=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&P(e,t)}(i,e);var t,r,n,o=S(i);function i(){var e;v(this,i);for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return O(w(e=o.call.apply(o,[this].concat(r))),"state",{canPlayVideo:!1,playbackState:f.Cy.DEFAULT}),O(w(e),"errorRetryCount",2),O(w(e),"hasSegmentStarted",!1),O(w(e),"hasPlaybackStarted",!1),O(w(e),"hasVideoSessionStarted",!1),O(w(e),"hasVideoSessionEnded",!1),O(w(e),"lastStallTime",null),O(w(e),"lastPauseTime",null),O(w(e),"logSessionStartOnNextPlay",!1),O(w(e),"playerId",""),O(w(e),"videoSessionId",""),O(w(e),"videoVisibleTime",null),O(w(e),"playbackPerformance",{canPlayTime:null,detailedErrors:"",errorCode:0,errorName:"",errorReason:"",hasFatalError:!1,loadStartTime:null,numberOfStalls:0,numberOfSeeks:0,playbackStartTimestamp:null,segments:[],srcString:T(e.props.src,e.props.quicExpGroup),totalStallDurationMs:0,totalPauseDurationMs:0}),O(w(e),"componentDidMount",(function(){var t=e.props,r=t.contextLogData,n=void 0===r?{}:r,o=t.playing,i=n.is_closeup_video,a=void 0!==i&&i;(0,d.tE)("videoMounted",!1,a),o&&(e.videoVisibleTime=new Date,e.logPlaybackPerformance(f.DR,{initiator:"mount"}))})),O(w(e),"componentDidUpdate",(function(t){var r=e.props,n=r.playing,o=r.visible,i=r.appInFocus;t.appInFocus&&!i&&(e.logPlaybackPerformance(f.$f,{initiator:"update"}),e.logSessionStartOnNextPlay=!0),t.visible&&!1===o&&(e.logSessionStartOnNextPlay=!1,e.updatePauseDuration(),e.logPlaybackPerformance(f.$f,{initiator:"update"})),!1===t.visible&&!0===o&&(e.videoVisibleTime=e.videoVisibleTime||new Date,n?(e.setPlaybackStartTime(),e.setLastSegmentStartPlayTime(),e.setLastSegmentPlaybackStartDate(),e.logPlaybackPerformance(f.DR,{initiator:"update"})):e.logSessionStartOnNextPlay=!0),n&&i&&e.logSessionStartOnNextPlay&&(e.setPlaybackStartTime(),e.setLastSegmentStartPlayTime(),e.setLastSegmentPlaybackStartDate(),e.logPlaybackPerformance(f.DR,{initiator:"update"}),e.logSessionStartOnNextPlay=!1)})),O(w(e),"addSegment",(function(){var t=e.playbackPerformance,r=t.canPlayTime,n=t.loadStartTime,o=t.segments,i=t.srcString,a=-1;r&&n&&0===o.length&&(a=r>n?r-n:0);var u=e.videoPlayerRef&&e.videoPlayerRef.video,c={indicatedKbps:-1,duration:u&&u.duration*f.gJ||-1,lastStartPlayTime:null,level:-1,numServerAddressChange:-1,observedKbps:-1,playbackStartDate:null,serverAddress:"",sourceWidth:-1,sourceHeight:-1,startupTimeMs:a,switchBitrateKbps:-1,uri:i,viewportWidth:u&&u.clientWidth||-1,viewportHeight:u&&u.clientHeight||-1,watchedDurationMs:0};o.push(c)})),O(w(e),"getCurrentVideoTime",(function(){return e.videoPlayerRef&&e.videoPlayerRef.video?e.videoPlayerRef.video.currentTime*f.gJ:0})),O(w(e),"getVideoResourceTiming",(function(){var t,r;if(null!==(t=window)&&void 0!==t&&null!==(r=t.performance)&&void 0!==r&&r.getEntriesByName&&e.playbackPerformance.srcString){var n=window.performance.getEntriesByName(e.playbackPerformance.srcString);return n.length>0&&n[0]||null}return null})),O(w(e),"handleCanPlayVideo",(function(t){var r=e.props,n=r.contextLogData,o=void 0===n?{}:n,i=r.onReady,a=r.playing,u=o.is_closeup_video,c=void 0!==u&&u,s=e.state.canPlayVideo;(0,d.tE)("handleCanPlayVideo",!1,c,{firstCanPlayEvent:!s,playing:a}),e.playbackPerformance.hasFatalError=!1,s||(e.playbackPerformance.canPlayTime=new Date),e.setState({canPlayVideo:!0}),i&&i(t)})),O(w(e),"handleEnded",(function(t){var r=e.props,n=r.loop,o=r.onEnded,i=e.playbackPerformance.segments,a=i&&i[i.length-1];n&&e.videoPlayerRef&&e.videoPlayerRef.video?(e.updateWatchDurationForCurrentSegment(),a&&(a.lastStartPlayTime=0),e.hasSegmentStarted=!1):n||e.logPlaybackPerformance(f.$f,{initiator:"videoEnded",loop:n}),e.setState({playbackState:f.Cy.ENDED}),o&&o(t)})),O(w(e),"handleError",(function(){var t,r,n,o,i,a,u,c,s=e.props.contextLogData,l=(void 0===s?{}:s).is_closeup_video,p=void 0!==l&&l,y=e.videoPlayerRef&&e.videoPlayerRef.video;(null==y||null===(t=y.error)||void 0===t?void 0:t.code)!==f.lG.MEDIA_ERR_ABORTED&&(e.playbackPerformance.hasFatalError=!0),e.playbackPerformance.detailedErrors+="".concat(e.playbackPerformance.detailedErrors.length>0?", ":"").concat((null==y||null===(r=y.error)||void 0===r?void 0:r.message)||""),e.playbackPerformance.errorCode=(null==y||null===(n=y.error)||void 0===n?void 0:n.code)||0,e.playbackPerformance.errorName=(null==y||null===(o=y.error)||void 0===o||null===(i=o.message)||void 0===i?void 0:i.slice(0,100))||"unknown",e.playbackPerformance.errorReason=(null==y||null===(a=y.error)||void 0===a||null===(u=a.message)||void 0===u?void 0:u.slice(0,100))||"unknown";var m={errorName:e.playbackPerformance.errorCode,errorReason:e.playbackPerformance.errorName,errorRetryCount:e.errorRetryCount,playbackState:e.state.playbackState,networkState:(null==y?void 0:y.networkState)||"unknown"};switch((0,d.tE)("fatalError",!1,p,m),null==y||null===(c=y.error)||void 0===c?void 0:c.code){case f.lG.MEDIA_ERR_ABORTED:break;case f.lG.MEDIA_ERR_NETWORK:case f.lG.MEDIA_ERR_DECODE:case f.lG.MEDIA_ERR_SRC_NOT_SUPPORTED:default:e.errorRetryCount>0&&(null==y||y.load(),e.errorRetryCount-=1)}e.updateWatchDurationForCurrentSegment(),e.setState({playbackState:f.Cy.FAILED})})),O(w(e),"handleLoadedMetadata",(function(){e.setState({playbackState:f.Cy.LOADED_METADATA})})),O(w(e),"handleLoadStart",(function(){e.playbackPerformance.loadStartTime=new Date,e.setState({playbackState:f.Cy.LOAD_START})})),O(w(e),"handleLoadedData",(function(){e.setState({playbackState:f.Cy.LOADED_DATA})})),O(w(e),"handlePlaying",(function(){e.playbackPerformance.hasFatalError=!1,e.setPlaybackStartTime(),e.hasSegmentStarted||e.addSegment(),e.setLastSegmentStartPlayTime(),e.setLastSegmentPlaybackStartDate(),e.updateStallDuration(),e.updatePauseDuration(),e.setState({playbackState:f.Cy.PLAYING}),e.props.setSeekTime&&e.props.setSeekTime(void 0)})),O(w(e),"handleUserPause",(function(t){var r=e.props.onControlsPause;e.lastPauseTime=new Date,r&&r(t)})),O(w(e),"handleVideoPause",(function(){e.state.playbackState!==f.Cy.STALLING&&e.state.playbackState!==f.Cy.SEEKING&&(e.updateWatchDurationForCurrentSegment(),e.lastPauseTime||e.updateStallDuration()),e.setState({playbackState:f.Cy.PAUSED})})),O(w(e),"handleSeeking",(function(){e.playbackPerformance.numberOfSeeks+=1;var t=e.playbackPerformance.segments,r=t&&t[t.length-1];r&&(r.lastStartPlayTime=null),e.state.playbackState!==f.Cy.ENDED&&e.setState({playbackState:f.Cy.SEEKING})})),O(w(e),"handleStalled",(function(){null===e.lastStallTime&&e.state.playbackState!==f.Cy.ENDED&&(e.lastStallTime=new Date,e.playbackPerformance.numberOfStalls+=1,e.setState({playbackState:f.Cy.STALLING}))})),O(w(e),"handleTimeUpdate",(function(t){var r=e.props.onTimeChange;r&&r(t),e.state.playbackState===f.Cy.PLAYING&&(e.updateWatchDurationForCurrentSegment(),e.setLastSegmentStartPlayTime())})),O(w(e),"resetPlaybackMetrics",(function(){e.hasSegmentStarted=!0,e.hasPlaybackStarted=!1,e.hasVideoSessionStarted=!1,e.hasVideoSessionEnded=!0,e.lastStallTime=null,e.lastPauseTime=null,e.videoSessionId="",e.videoVisibleTime=null,e.logSessionStartOnNextPlay=!1;var t=h(h({},e.playbackPerformance.segments[e.playbackPerformance.segments.length-1]),{},{lastStartPlayTime:null,playbackStartDate:null,watchedDurationMs:0});e.playbackPerformance.detailedErrors="",e.playbackPerformance.errorCode=0,e.playbackPerformance.errorName="",e.playbackPerformance.errorReason="",e.playbackPerformance.hasFatalError=!1,e.playbackPerformance.numberOfStalls=0,e.playbackPerformance.numberOfSeeks=0,e.playbackPerformance.playbackStartTimestamp=null,e.playbackPerformance.totalStallDurationMs=0,e.playbackPerformance.segments=[t]})),O(w(e),"setLastSegmentStartPlayTime",(function(){var t=e.playbackPerformance.segments,r=t&&t[t.length-1];r&&null===r.lastStartPlayTime&&(r.lastStartPlayTime=e.getCurrentVideoTime())})),O(w(e),"setLastSegmentPlaybackStartDate",(function(){var t=e.playbackPerformance.segments,r=t&&t[t.length-1];r&&null===r.playbackStartDate&&(r.playbackStartDate=Date.now())})),O(w(e),"setPlaybackStartTime",(function(){e.hasPlaybackStarted||(e.playbackPerformance.playbackStartTimestamp=Date.now(),e.hasPlaybackStarted=!0)})),O(w(e),"setVideoPlayerRef",(function(t){var r=e.props.setVideoRef;if(t&&(r&&r(t),e.videoPlayerRef=t,e.videoPlayerRef.video)){var n=e.videoPlayerRef.video;n.addEventListener("loadedmetadata",e.handleLoadedMetadata),n.addEventListener("loadeddata",e.handleLoadedData),n.addEventListener("pause",e.handleVideoPause),n.readyState>=3&&(e.setState({canPlayVideo:!0}),e.playbackPerformance.canPlayTime=new Date)}})),O(w(e),"updateStallDuration",(function(){if(null!==e.lastStallTime){var t=e.lastStallTime;e.playbackPerformance.totalStallDurationMs+=new Date-t,e.lastStallTime=null}})),O(w(e),"updatePauseDuration",(function(){if(null!==e.lastPauseTime){var t=e.lastPauseTime;e.playbackPerformance.totalPauseDurationMs+=new Date-t,e.lastPauseTime=null}})),O(w(e),"updateWatchDurationForCurrentSegment",(function(){var t=e.playbackPerformance.segments,r=t&&t[t.length-1],n=r?r.lastStartPlayTime:null,o=e.getCurrentVideoTime();if(r&&null!==n&&"number"==typeof o&&"number"==typeof n){var i=o-n;i>0&&(r.watchedDurationMs+=i,r.lastStartPlayTime=null)}})),O(w(e),"logPlaybackPerformance",(function(t,r){var n=e.props,o=n.contextLogData,i=void 0===o?{}:o,a=n.userId,u=n.isAutoPlay,c=n.logContextEvent,s=i.is_closeup_video,l=void 0!==s&&s,p=e.playbackPerformance,b=p.canPlayTime,v=p.detailedErrors,g=p.errorCode,P=p.errorName,S=p.errorReason,_=p.hasFatalError,w=p.loadStartTime,E=p.totalPauseDurationMs,O=p.totalStallDurationMs,R=p.numberOfStalls,T=p.numberOfSeeks,D=p.playbackStartTimestamp,I=p.segments,A=p.srcString,j=e.videoPlayerRef&&e.videoPlayerRef.video,C=t===f.DR,k=C&&!e.hasVideoSessionStarted,x=!C&&!e.hasVideoSessionEnded&&e.hasVideoSessionStarted;if(j&&(k||x)){var L,M=-1;b&&w&&(M=b>w?b-w:0);var F=-1;b&&e.videoVisibleTime&&(F=b>e.videoVisibleTime?b-e.videoVisibleTime:0),C&&(e.videoSessionId=(0,f.Y7)(a),e.playerId=e.playerId||(0,f.EB)());var N=e.getVideoResourceTiming(),U={averageVideoKbps:-1,autoplaying:u,detailedErrors:v,downloadedKiloBytes:"number"==typeof(null==N?void 0:N.decodedBodySize)&&N.decodedBodySize/f.Fm||0,errorCode:g,errorName:P,errorReason:S,fatalError:_,isCellular:!1,nativeVideoDurationMs:j.duration*f.gJ||-1,numberOfStalls:R,numberOfSeeks:T,overallPausedDurationMs:E,overallBufferDurationMs:O,overallWatchedDurationMs:-1,rebufferRate:-1,playbackSessionId:e.videoSessionId,playbackStartTimestamp:D||-1,segments:[],sessionMark:t,screenPixelScale:null!==(L=window)&&void 0!==L&&L.devicePixelRatio?window.devicePixelRatio:-1,startupPlayerWidth:j.clientWidth,startupPlayerHeight:j.clientHeight,startupTimeMs:M,startupLatencyMs:F,startupVariantKbps:-1,startupVariantWatchedDurationMs:-1,startupVariantWidth:j.videoWidth,startupVariantHeight:j.videoHeight,videoUrl:A};if(!C){e.updateWatchDurationForCurrentSegment(),e.updateStallDuration();var V=I.reduce((function(e,t){return e+(t.watchedDurationMs||0)}),0);U.overallWatchedDurationMs=V,U.startupVariantWatchedDurationMs=V,U.segments=e.playbackPerformance.segments,0===V?(U.errorName="invalid_watch_duration",U.rebufferRate=-1):U.rebufferRate=O/V}(0,d.ZP)(U,!1,l,h({playbackState:e.state.playbackState},r)),c({event_type:3606,event_data:{videoPerformanceData:U},view_type:i.view,view_parameter:i.viewParameter,component:i.component,element:i.element,object_id_str:i.objectId,aux_data:h(h({},m(i,y)),{},{is_closeup_video:l,playback_session_id:e.videoSessionId})}),C?(e.hasVideoSessionStarted=!0,e.hasVideoSessionEnded=!1):e.resetPlaybackMetrics(),(0,d.tE)(C?"sessionStart":"sessionEnd",!1,l,h({playbackState:e.state.playbackState},r))}})),e}return t=i,(r=[{key:"componentWillUnmount",value:function(){var e=this.props.loop;this.updatePauseDuration(),this.logPlaybackPerformance(f.$f,{initiator:"unmount",loop:e})}},{key:"render",value:function(){var e=this.props,t=e.accessibilityMaximizeLabel,r=e.accessibilityMinimizeLabel,n=e.accessibilityMuteLabel,o=e.accessibilityPauseLabel,i=e.accessibilityPlayLabel,a=e.accessibilityProgressBarLabel,u=e.accessibilityUnmuteLabel,c=e.aspectRatio,s=e.captions,d=e.controls,f=e.loop,y=e.loopOverride,m=e.objectFit,b=e.onDurationChange,h=e.onFullscreenChange,v=e.onLoadedChange,g=e.onControlsPlay,P=e.onPlayheadDown,S=e.onPlayheadUp,_=e.onSeek,w=e.onVolumeChange,E=e.playbackRate,O=e.playing,R=e.playsInline,D=e.poster,I=e.preload,A=e.src,j=e.videoStartTime,C=e.volume,k=this.state.canPlayVideo;return(0,p.jsx)(l.nk,{autoplay:k&&O,accessibilityMaximizeLabel:t,accessibilityMinimizeLabel:r,accessibilityMuteLabel:n,accessibilityPauseLabel:o,accessibilityPlayLabel:i,accessibilityProgressBarLabel:a,accessibilityUnmuteLabel:u,aspectRatio:c,captions:s,controls:d,loop:void 0===y?f:y,objectFit:m,onDurationChange:b,onEnded:this.handleEnded,onError:this.handleError,onFullscreenChange:h,onLoadedChange:v,onLoadStart:this.handleLoadStart,onControlsPause:this.handleUserPause,onControlsPlay:g,onPlaying:this.handlePlaying,onPlayheadDown:P,onPlayheadUp:S,onReady:this.handleCanPlayVideo,onSeek:_,onSeeking:this.handleSeeking,onStalled:this.handleStalled,onTimeChange:this.handleTimeUpdate,onVolumeChange:w,onWaiting:this.handleStalled,playbackRate:E,onPlay:function(){},onPlayError:function(){},playing:k&&O,playsInline:R,poster:D,preload:I,ref:this.setVideoPlayerRef,src:T(A,this.props.quicExpGroup),startTime:j||void 0,volume:C})}}])&&g(t.prototype,r),n&&g(t,n),i}(n.Component);var I=(0,n.memo)((function(e){var t=(0,a.v)().logContextEvent,r=(0,s.B)(),n=r.country,l=r.isAuthenticated,f=r.isBot,y=r.isSocialBot,m=r.unauthId,b=r.userAgent,v=b.browserName,g=b.browserVersion,P=b.isMobile,S=e.contextLogData,_=void 0===S?{}:S,w=_.is_closeup_video,E=void 0!==w&&w,O=_.view,R=_.viewParameter,T=(0,i.I)().appUI.appInFocus,I=(0,u.F)().checkExperiment,A=(0,c.RC)().updateSeekTime,j=null;l&&(j=I("web_video_quic").group.length?I("web_video_quic").group:null);var C=(0,o.Z)(),k={browserName:v,browserVersion:g,country:n,isAuthenticated:l,isBot:f,is_closeup_video:E,isMobile:P,isSocialBot:y,view:O,viewParameter:R};return(0,d.r$)(k),(0,p.jsx)(D,h(h({},e),{},{userId:C.id||m,appInFocus:T,quicExpGroup:j,logContextEvent:t,setSeekTime:A}))})),A=r(562559),j=r(366284);function C(e){return(C="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function k(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function x(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?k(Object(r),!0).forEach((function(t){B(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):k(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function L(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function M(e,t){return(M=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function F(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=V(e);if(t){var o=V(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return N(this,r)}}function N(e,t){if(t&&("object"===C(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return U(e)}function U(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function V(e){return(V=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function B(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var G=function(e){if(Array.isArray(e)){var t=e.find((function(e){return"video/m3u8"===e.type}));return t?t.src:void 0}return RegExp("m3u8$").test(e)?e:void 0},H=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&M(e,t)}(i,e);var t,r,n,o=F(i);function i(e){var t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),B(U(t=o.call(this,e)),"componentDidUpdate",(function(e,r){var n;e.videoStartTime&&t.props.videoStartTime&&e.videoStartTime<t.props.videoStartTime&&null!==(n=t.videoPlayerRef)&&void 0!==n&&n.video&&(t.videoPlayerRef.video.currentTime=t.props.videoStartTime)})),B(U(t),"setVideoPlayerRef",(function(e){e&&(t.videoPlayerRef=e)})),B(U(t),"handleOnEnded",(function(e){var r=e.event,n=t.props,o=n.loop,i=n.onLoop,a=n.onEnded;a&&(a({event:r}),t.videoPlayerRef&&t.videoPlayerRef.video&&o&&(t.videoPlayerRef.video.play(),i&&i()))}));var r=G(e.src);return t.state={useHlsVideo:!e.preferMp4&&!(0,j.G6)(e.requestContext.userAgent.browserName)&&!!r},t}return t=i,(r=[{key:"render",value:function(){var e=this.props,t=e.accessibilityMaximizeLabel,r=e.accessibilityMinimizeLabel,n=e.accessibilityMuteLabel,o=e.accessibilityPauseLabel,i=e.accessibilityPlayLabel,a=e.accessibilityProgressBarLabel,u=e.accessibilityUnmuteLabel,c=e.aspectRatio,s=e.appInFocus,l=e.backgroundColor,d=e.captions,f=e.contextLogData,y=e.controls,m=e.hlsConfig,b=e.isAutoPlay,h=e.loop,v=e.objectFit,g=e.onDurationChange,P=e.onEnded,S=e.onFullscreenChange,_=e.onLoadedChange,w=e.onControlsPause,E=e.onControlsPlay,O=e.onPlayheadDown,R=e.onPlayheadUp,T=e.onReady,D=e.onSeek,j=e.onTimeChange,C=e.onVolumeChange,k=e.playbackRate,L=e.playing,M=e.playsInline,F=e.poster,N=e.preferMp4,U=e.preload,V=e.src,B=e.videoStartTime,H=e.visible,Z=e.volume,W=this.state.useHlsVideo,z=G(V),K=x(x({},m),{},{startPosition:B||-1}),q=!P&&h;return W&&z?(0,p.jsx)(A.Z,{accessibilityMaximizeLabel:t,accessibilityMinimizeLabel:r,accessibilityMuteLabel:n,accessibilityPauseLabel:o,accessibilityPlayLabel:i,accessibilityProgressBarLabel:a,accessibilityUnmuteLabel:u,aspectRatio:c,appInFocus:s,backgroundColor:l,captions:d,contextLogData:f,controls:y,hlsConfig:K,isAutoPlay:b,loop:h,loopOverride:q,onDurationChange:g,onEnded:this.handleOnEnded,onFullscreenChange:S,onLoadedChange:_,onControlsPause:w,onControlsPlay:E,onPlayheadDown:O,onPlayheadUp:R,onReady:T,onSeek:D,onTimeChange:j,onVolumeChange:C,playbackRate:k,onPlay:function(){},onPlayError:function(){},playing:L,playsInline:M,poster:F,preload:U,setVideoRef:this.setVideoPlayerRef,src:z,visible:H,volume:Z}):(0,p.jsx)(I,{accessibilityMaximizeLabel:t,accessibilityMinimizeLabel:r,accessibilityMuteLabel:n,accessibilityPauseLabel:o,accessibilityPlayLabel:i,accessibilityProgressBarLabel:a,accessibilityUnmuteLabel:u,aspectRatio:c,captions:d,contextLogData:f,controls:y,isAutoPlay:b,loop:h,loopOverride:q,objectFit:v,onDurationChange:g,onEnded:this.handleOnEnded,onFullscreenChange:S,onLoadedChange:_,onControlsPause:w,onControlsPlay:E,onPlayheadDown:O,onPlayheadUp:R,onReady:T,onSeek:D,onTimeChange:j,onVolumeChange:C,playbackRate:k,onPlay:function(){},onPlayError:function(){},playing:L,playsInline:M,poster:F,preload:U,setVideoRef:this.setVideoPlayerRef,src:N?V:z||V,videoStartTime:B,visible:H,volume:Z})}}])&&L(t.prototype,r),n&&L(t,n),i}(n.PureComponent);function Z(e){var t=(0,i.I)().appUI.appInFocus,r=(0,s.B)();return(0,p.jsx)(H,x(x({},e),{},{appInFocus:t,requestContext:r}))}},944546:function(e,t,r){"use strict";r.d(t,{HJ:function(){return o},VS:function(){return n},iM:function(){return i}});var n=2,o="V_HLSV3_MOBILE",i=[0,.01,.02,.03,.04,.05,.06,.07,.08,.09,.1,.11,.12,.13,.14,.15,.16,.17,.18,.19,.2,.21,.22,.23,.24,.25,.26,.27,.28,.29,.3,.31,.32,.33,.34,.35,.36,.37,.38,.39,.4,.41,.42,.43,.44,.45,.46,.47,.48,.49,.5,.51,.52,.53,.54,.55,.56,.57,.58,.59,.6,.61,.62,.63,.64,.65,.66,.67,.68,.69,.7,.71,.72,.73,.74,.75,.76,.77,.78,.79,.8,.81,.82,.83,.84,.85,.86,.87,.88,.89,.9,.91,.92,.93,.94,.95,.96,.97,.98,.99,1]},828947:function(e,t,r){var n=r(861109),o=r(492691),i=r(916368);e.exports=function(e){return n(e,i,o)}},492691:function(e,t,r){var n=r(155688),o=r(343946),i=r(589098),a=r(600244),u=Object.getOwnPropertySymbols?function(e){for(var t=[];e;)n(t,i(e)),e=o(e);return t}:a;e.exports=u},464228:function(e,t,r){"use strict";r.d(t,{P:function(){return i}});var n=r(76911),o=(0,n.createContext)();function i(){return(0,n.useContext)(o)}t.Z=o},232302:function(e,t,r){"use strict";function n(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}r.d(t,{Z:function(){return n}})},927593:function(e,t,r){"use strict";r.d(t,{Z:function(){return i}});var n=r(232302);function o(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function i(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?o(Object(r),!0).forEach((function(t){(0,n.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}}}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/72747-2a936cd3b406ba94.js.map